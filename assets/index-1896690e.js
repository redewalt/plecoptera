(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function o(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(l){if(l.ep)return;l.ep=!0;const c=o(l);fetch(l.href,c)}})();function qa(t,n){const o=Object.create(null),i=t.split(",");for(let l=0;l<i.length;l++)o[i[l]]=!0;return n?l=>!!o[l.toLowerCase()]:l=>!!o[l]}const Te={},pi=[],Tn=()=>{},gd=()=>!1,_d=/^on[^a-z]/,_o=t=>_d.test(t),Ka=t=>t.startsWith("onUpdate:"),je=Object.assign,Wa=(t,n)=>{const o=t.indexOf(n);o>-1&&t.splice(o,1)},yd=Object.prototype.hasOwnProperty,ge=(t,n)=>yd.call(t,n),Kt=Array.isArray,di=t=>gs(t)==="[object Map]",Tu=t=>gs(t)==="[object Set]",se=t=>typeof t=="function",De=t=>typeof t=="string",Ja=t=>typeof t=="symbol",Oe=t=>t!==null&&typeof t=="object",Ou=t=>Oe(t)&&se(t.then)&&se(t.catch),Ru=Object.prototype.toString,gs=t=>Ru.call(t),vd=t=>gs(t).slice(8,-1),Au=t=>gs(t)==="[object Object]",Ya=t=>De(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Qi=qa(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),_s=t=>{const n=Object.create(null);return o=>n[o]||(n[o]=t(o))},bd=/-(\w)/g,Hn=_s(t=>t.replace(bd,(n,o)=>o?o.toUpperCase():"")),wd=/\B([A-Z])/g,xi=_s(t=>t.replace(wd,"-$1").toLowerCase()),ys=_s(t=>t.charAt(0).toUpperCase()+t.slice(1)),ia=_s(t=>t?`on${ys(t)}`:""),so=(t,n)=>!Object.is(t,n),Jo=(t,n)=>{for(let o=0;o<t.length;o++)t[o](n)},is=(t,n,o)=>{Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value:o})},ka=t=>{const n=parseFloat(t);return isNaN(n)?t:n},xd=t=>{const n=De(t)?Number(t):NaN;return isNaN(n)?t:n};let rc;const La=()=>rc||(rc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function $r(t){if(Kt(t)){const n={};for(let o=0;o<t.length;o++){const i=t[o],l=De(i)?Cd(i):$r(i);if(l)for(const c in l)n[c]=l[c]}return n}else{if(De(t))return t;if(Oe(t))return t}}const kd=/;(?![^(]*\))/g,Ld=/:([^]+)/,Md=/\/\*[^]*?\*\//g;function Cd(t){const n={};return t.replace(Md,"").split(kd).forEach(o=>{if(o){const i=o.split(Ld);i.length>1&&(n[i[0].trim()]=i[1].trim())}}),n}function tn(t){let n="";if(De(t))n=t;else if(Kt(t))for(let o=0;o<t.length;o++){const i=tn(t[o]);i&&(n+=i+" ")}else if(Oe(t))for(const o in t)t[o]&&(n+=o+" ");return n.trim()}const Pd="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Sd=qa(Pd);function Bu(t){return!!t||t===""}const te=t=>De(t)?t:t==null?"":Kt(t)||Oe(t)&&(t.toString===Ru||!se(t.toString))?JSON.stringify(t,Iu,2):String(t),Iu=(t,n)=>n&&n.__v_isRef?Iu(t,n.value):di(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((o,[i,l])=>(o[`${i} =>`]=l,o),{})}:Tu(n)?{[`Set(${n.size})`]:[...n.values()]}:Oe(n)&&!Kt(n)&&!Au(n)?String(n):n;let hn;class Du{constructor(n=!1){this.detached=n,this._active=!0,this.effects=[],this.cleanups=[],this.parent=hn,!n&&hn&&(this.index=(hn.scopes||(hn.scopes=[])).push(this)-1)}get active(){return this._active}run(n){if(this._active){const o=hn;try{return hn=this,n()}finally{hn=o}}}on(){hn=this}off(){hn=this.parent}stop(n){if(this._active){let o,i;for(o=0,i=this.effects.length;o<i;o++)this.effects[o].stop();for(o=0,i=this.cleanups.length;o<i;o++)this.cleanups[o]();if(this.scopes)for(o=0,i=this.scopes.length;o<i;o++)this.scopes[o].stop(!0);if(!this.detached&&this.parent&&!n){const l=this.parent.scopes.pop();l&&l!==this&&(this.parent.scopes[this.index]=l,l.index=this.index)}this.parent=void 0,this._active=!1}}}function zu(t){return new Du(t)}function Ed(t,n=hn){n&&n.active&&n.effects.push(t)}function ju(){return hn}function Td(t){hn&&hn.cleanups.push(t)}const Xa=t=>{const n=new Set(t);return n.w=0,n.n=0,n},Nu=t=>(t.w&xr)>0,Fu=t=>(t.n&xr)>0,Od=({deps:t})=>{if(t.length)for(let n=0;n<t.length;n++)t[n].w|=xr},Rd=t=>{const{deps:n}=t;if(n.length){let o=0;for(let i=0;i<n.length;i++){const l=n[i];Nu(l)&&!Fu(l)?l.delete(t):n[o++]=l,l.w&=~xr,l.n&=~xr}n.length=o}},os=new WeakMap;let Yi=0,xr=1;const Ma=30;let Sn;const Ur=Symbol(""),Ca=Symbol("");class Qa{constructor(n,o=null,i){this.fn=n,this.scheduler=o,this.active=!0,this.deps=[],this.parent=void 0,Ed(this,i)}run(){if(!this.active)return this.fn();let n=Sn,o=vr;for(;n;){if(n===this)return;n=n.parent}try{return this.parent=Sn,Sn=this,vr=!0,xr=1<<++Yi,Yi<=Ma?Od(this):ic(this),this.fn()}finally{Yi<=Ma&&Rd(this),xr=1<<--Yi,Sn=this.parent,vr=o,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Sn===this?this.deferStop=!0:this.active&&(ic(this),this.onStop&&this.onStop(),this.active=!1)}}function ic(t){const{deps:n}=t;if(n.length){for(let o=0;o<n.length;o++)n[o].delete(t);n.length=0}}let vr=!0;const Hu=[];function ki(){Hu.push(vr),vr=!1}function Li(){const t=Hu.pop();vr=t===void 0?!0:t}function ln(t,n,o){if(vr&&Sn){let i=os.get(t);i||os.set(t,i=new Map);let l=i.get(o);l||i.set(o,l=Xa()),Vu(l)}}function Vu(t,n){let o=!1;Yi<=Ma?Fu(t)||(t.n|=xr,o=!Nu(t)):o=!t.has(Sn),o&&(t.add(Sn),Sn.deps.push(t))}function er(t,n,o,i,l,c){const h=os.get(t);if(!h)return;let d=[];if(n==="clear")d=[...h.values()];else if(o==="length"&&Kt(t)){const m=Number(i);h.forEach((g,y)=>{(y==="length"||y>=m)&&d.push(g)})}else switch(o!==void 0&&d.push(h.get(o)),n){case"add":Kt(t)?Ya(o)&&d.push(h.get("length")):(d.push(h.get(Ur)),di(t)&&d.push(h.get(Ca)));break;case"delete":Kt(t)||(d.push(h.get(Ur)),di(t)&&d.push(h.get(Ca)));break;case"set":di(t)&&d.push(h.get(Ur));break}if(d.length===1)d[0]&&Pa(d[0]);else{const m=[];for(const g of d)g&&m.push(...g);Pa(Xa(m))}}function Pa(t,n){const o=Kt(t)?t:[...t];for(const i of o)i.computed&&oc(i);for(const i of o)i.computed||oc(i)}function oc(t,n){(t!==Sn||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function Ad(t,n){var o;return(o=os.get(t))==null?void 0:o.get(n)}const Bd=qa("__proto__,__v_isRef,__isVue"),$u=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ja)),Id=tl(),Dd=tl(!1,!0),zd=tl(!0),sc=jd();function jd(){const t={};return["includes","indexOf","lastIndexOf"].forEach(n=>{t[n]=function(...o){const i=me(this);for(let c=0,h=this.length;c<h;c++)ln(i,"get",c+"");const l=i[n](...o);return l===-1||l===!1?i[n](...o.map(me)):l}}),["push","pop","shift","unshift","splice"].forEach(n=>{t[n]=function(...o){ki();const i=me(this)[n].apply(this,o);return Li(),i}}),t}function Nd(t){const n=me(this);return ln(n,"has",t),n.hasOwnProperty(t)}function tl(t=!1,n=!1){return function(i,l,c){if(l==="__v_isReactive")return!t;if(l==="__v_isReadonly")return t;if(l==="__v_isShallow")return n;if(l==="__v_raw"&&c===(t?n?ef:Ku:n?qu:Zu).get(i))return i;const h=Kt(i);if(!t){if(h&&ge(sc,l))return Reflect.get(sc,l,c);if(l==="hasOwnProperty")return Nd}const d=Reflect.get(i,l,c);return(Ja(l)?$u.has(l):Bd(l))||(t||ln(i,"get",l),n)?d:Ie(d)?h&&Ya(l)?d:d.value:Oe(d)?t?Ju(d):yo(d):d}}const Fd=Uu(),Hd=Uu(!0);function Uu(t=!1){return function(o,i,l,c){let h=o[i];if(gi(h)&&Ie(h)&&!Ie(l))return!1;if(!t&&(!ss(l)&&!gi(l)&&(h=me(h),l=me(l)),!Kt(o)&&Ie(h)&&!Ie(l)))return h.value=l,!0;const d=Kt(o)&&Ya(i)?Number(i)<o.length:ge(o,i),m=Reflect.set(o,i,l,c);return o===me(c)&&(d?so(l,h)&&er(o,"set",i,l):er(o,"add",i,l)),m}}function Vd(t,n){const o=ge(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&o&&er(t,"delete",n,void 0),i}function $d(t,n){const o=Reflect.has(t,n);return(!Ja(n)||!$u.has(n))&&ln(t,"has",n),o}function Ud(t){return ln(t,"iterate",Kt(t)?"length":Ur),Reflect.ownKeys(t)}const Gu={get:Id,set:Fd,deleteProperty:Vd,has:$d,ownKeys:Ud},Gd={get:zd,set(t,n){return!0},deleteProperty(t,n){return!0}},Zd=je({},Gu,{get:Dd,set:Hd}),el=t=>t,vs=t=>Reflect.getPrototypeOf(t);function Vo(t,n,o=!1,i=!1){t=t.__v_raw;const l=me(t),c=me(n);o||(n!==c&&ln(l,"get",n),ln(l,"get",c));const{has:h}=vs(l),d=i?el:o?il:ao;if(h.call(l,n))return d(t.get(n));if(h.call(l,c))return d(t.get(c));t!==l&&t.get(n)}function $o(t,n=!1){const o=this.__v_raw,i=me(o),l=me(t);return n||(t!==l&&ln(i,"has",t),ln(i,"has",l)),t===l?o.has(t):o.has(t)||o.has(l)}function Uo(t,n=!1){return t=t.__v_raw,!n&&ln(me(t),"iterate",Ur),Reflect.get(t,"size",t)}function ac(t){t=me(t);const n=me(this);return vs(n).has.call(n,t)||(n.add(t),er(n,"add",t,t)),this}function lc(t,n){n=me(n);const o=me(this),{has:i,get:l}=vs(o);let c=i.call(o,t);c||(t=me(t),c=i.call(o,t));const h=l.call(o,t);return o.set(t,n),c?so(n,h)&&er(o,"set",t,n):er(o,"add",t,n),this}function cc(t){const n=me(this),{has:o,get:i}=vs(n);let l=o.call(n,t);l||(t=me(t),l=o.call(n,t)),i&&i.call(n,t);const c=n.delete(t);return l&&er(n,"delete",t,void 0),c}function uc(){const t=me(this),n=t.size!==0,o=t.clear();return n&&er(t,"clear",void 0,void 0),o}function Go(t,n){return function(i,l){const c=this,h=c.__v_raw,d=me(h),m=n?el:t?il:ao;return!t&&ln(d,"iterate",Ur),h.forEach((g,y)=>i.call(l,m(g),m(y),c))}}function Zo(t,n,o){return function(...i){const l=this.__v_raw,c=me(l),h=di(c),d=t==="entries"||t===Symbol.iterator&&h,m=t==="keys"&&h,g=l[t](...i),y=o?el:n?il:ao;return!n&&ln(c,"iterate",m?Ca:Ur),{next(){const{value:w,done:M}=g.next();return M?{value:w,done:M}:{value:d?[y(w[0]),y(w[1])]:y(w),done:M}},[Symbol.iterator](){return this}}}}function ur(t){return function(...n){return t==="delete"?!1:this}}function qd(){const t={get(c){return Vo(this,c)},get size(){return Uo(this)},has:$o,add:ac,set:lc,delete:cc,clear:uc,forEach:Go(!1,!1)},n={get(c){return Vo(this,c,!1,!0)},get size(){return Uo(this)},has:$o,add:ac,set:lc,delete:cc,clear:uc,forEach:Go(!1,!0)},o={get(c){return Vo(this,c,!0)},get size(){return Uo(this,!0)},has(c){return $o.call(this,c,!0)},add:ur("add"),set:ur("set"),delete:ur("delete"),clear:ur("clear"),forEach:Go(!0,!1)},i={get(c){return Vo(this,c,!0,!0)},get size(){return Uo(this,!0)},has(c){return $o.call(this,c,!0)},add:ur("add"),set:ur("set"),delete:ur("delete"),clear:ur("clear"),forEach:Go(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(c=>{t[c]=Zo(c,!1,!1),o[c]=Zo(c,!0,!1),n[c]=Zo(c,!1,!0),i[c]=Zo(c,!0,!0)}),[t,o,n,i]}const[Kd,Wd,Jd,Yd]=qd();function nl(t,n){const o=n?t?Yd:Jd:t?Wd:Kd;return(i,l,c)=>l==="__v_isReactive"?!t:l==="__v_isReadonly"?t:l==="__v_raw"?i:Reflect.get(ge(o,l)&&l in i?o:i,l,c)}const Xd={get:nl(!1,!1)},Qd={get:nl(!1,!0)},tf={get:nl(!0,!1)},Zu=new WeakMap,qu=new WeakMap,Ku=new WeakMap,ef=new WeakMap;function nf(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function rf(t){return t.__v_skip||!Object.isExtensible(t)?0:nf(vd(t))}function yo(t){return gi(t)?t:rl(t,!1,Gu,Xd,Zu)}function Wu(t){return rl(t,!1,Zd,Qd,qu)}function Ju(t){return rl(t,!0,Gd,tf,Ku)}function rl(t,n,o,i,l){if(!Oe(t)||t.__v_raw&&!(n&&t.__v_isReactive))return t;const c=l.get(t);if(c)return c;const h=rf(t);if(h===0)return t;const d=new Proxy(t,h===2?i:o);return l.set(t,d),d}function br(t){return gi(t)?br(t.__v_raw):!!(t&&t.__v_isReactive)}function gi(t){return!!(t&&t.__v_isReadonly)}function ss(t){return!!(t&&t.__v_isShallow)}function Yu(t){return br(t)||gi(t)}function me(t){const n=t&&t.__v_raw;return n?me(n):t}function bs(t){return is(t,"__v_skip",!0),t}const ao=t=>Oe(t)?yo(t):t,il=t=>Oe(t)?Ju(t):t;function Xu(t){vr&&Sn&&(t=me(t),Vu(t.dep||(t.dep=Xa())))}function Qu(t,n){t=me(t);const o=t.dep;o&&Pa(o)}function Ie(t){return!!(t&&t.__v_isRef===!0)}function qt(t){return th(t,!1)}function of(t){return th(t,!0)}function th(t,n){return Ie(t)?t:new sf(t,n)}class sf{constructor(n,o){this.__v_isShallow=o,this.dep=void 0,this.__v_isRef=!0,this._rawValue=o?n:me(n),this._value=o?n:ao(n)}get value(){return Xu(this),this._value}set value(n){const o=this.__v_isShallow||ss(n)||gi(n);n=o?n:me(n),so(n,this._rawValue)&&(this._rawValue=n,this._value=o?n:ao(n),Qu(this))}}function Yt(t){return Ie(t)?t.value:t}const af={get:(t,n,o)=>Yt(Reflect.get(t,n,o)),set:(t,n,o,i)=>{const l=t[n];return Ie(l)&&!Ie(o)?(l.value=o,!0):Reflect.set(t,n,o,i)}};function eh(t){return br(t)?t:new Proxy(t,af)}function lf(t){const n=Kt(t)?new Array(t.length):{};for(const o in t)n[o]=uf(t,o);return n}class cf{constructor(n,o,i){this._object=n,this._key=o,this._defaultValue=i,this.__v_isRef=!0}get value(){const n=this._object[this._key];return n===void 0?this._defaultValue:n}set value(n){this._object[this._key]=n}get dep(){return Ad(me(this._object),this._key)}}function uf(t,n,o){const i=t[n];return Ie(i)?i:new cf(t,n,o)}class hf{constructor(n,o,i,l){this._setter=o,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Qa(n,()=>{this._dirty||(this._dirty=!0,Qu(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!l,this.__v_isReadonly=i}get value(){const n=me(this);return Xu(n),(n._dirty||!n._cacheable)&&(n._dirty=!1,n._value=n.effect.run()),n._value}set value(n){this._setter(n)}}function pf(t,n,o=!1){let i,l;const c=se(t);return c?(i=t,l=Tn):(i=t.get,l=t.set),new hf(i,l,c||!l,o)}function wr(t,n,o,i){let l;try{l=i?t(...i):t()}catch(c){ws(c,n,o)}return l}function wn(t,n,o,i){if(se(t)){const c=wr(t,n,o,i);return c&&Ou(c)&&c.catch(h=>{ws(h,n,o)}),c}const l=[];for(let c=0;c<t.length;c++)l.push(wn(t[c],n,o,i));return l}function ws(t,n,o,i=!0){const l=n?n.vnode:null;if(n){let c=n.parent;const h=n.proxy,d=o;for(;c;){const g=c.ec;if(g){for(let y=0;y<g.length;y++)if(g[y](t,h,d)===!1)return}c=c.parent}const m=n.appContext.config.errorHandler;if(m){wr(m,null,10,[t,h,d]);return}}df(t,o,l,i)}function df(t,n,o,i=!0){console.error(t)}let lo=!1,Sa=!1;const Ye=[];let Nn=0;const fi=[];let Qn=null,Nr=0;const nh=Promise.resolve();let ol=null;function xs(t){const n=ol||nh;return t?n.then(this?t.bind(this):t):n}function ff(t){let n=Nn+1,o=Ye.length;for(;n<o;){const i=n+o>>>1;co(Ye[i])<t?n=i+1:o=i}return n}function sl(t){(!Ye.length||!Ye.includes(t,lo&&t.allowRecurse?Nn+1:Nn))&&(t.id==null?Ye.push(t):Ye.splice(ff(t.id),0,t),rh())}function rh(){!lo&&!Sa&&(Sa=!0,ol=nh.then(ih))}function mf(t){const n=Ye.indexOf(t);n>Nn&&Ye.splice(n,1)}function gf(t){Kt(t)?fi.push(...t):(!Qn||!Qn.includes(t,t.allowRecurse?Nr+1:Nr))&&fi.push(t),rh()}function hc(t,n=lo?Nn+1:0){for(;n<Ye.length;n++){const o=Ye[n];o&&o.pre&&(Ye.splice(n,1),n--,o())}}function as(t){if(fi.length){const n=[...new Set(fi)];if(fi.length=0,Qn){Qn.push(...n);return}for(Qn=n,Qn.sort((o,i)=>co(o)-co(i)),Nr=0;Nr<Qn.length;Nr++)Qn[Nr]();Qn=null,Nr=0}}const co=t=>t.id==null?1/0:t.id,_f=(t,n)=>{const o=co(t)-co(n);if(o===0){if(t.pre&&!n.pre)return-1;if(n.pre&&!t.pre)return 1}return o};function ih(t){Sa=!1,lo=!0,Ye.sort(_f);const n=Tn;try{for(Nn=0;Nn<Ye.length;Nn++){const o=Ye[Nn];o&&o.active!==!1&&wr(o,null,14)}}finally{Nn=0,Ye.length=0,as(),lo=!1,ol=null,(Ye.length||fi.length)&&ih()}}function yf(t,n,...o){if(t.isUnmounted)return;const i=t.vnode.props||Te;let l=o;const c=n.startsWith("update:"),h=c&&n.slice(7);if(h&&h in i){const y=`${h==="modelValue"?"model":h}Modifiers`,{number:w,trim:M}=i[y]||Te;M&&(l=o.map(I=>De(I)?I.trim():I)),w&&(l=o.map(ka))}let d,m=i[d=ia(n)]||i[d=ia(Hn(n))];!m&&c&&(m=i[d=ia(xi(n))]),m&&wn(m,t,6,l);const g=i[d+"Once"];if(g){if(!t.emitted)t.emitted={};else if(t.emitted[d])return;t.emitted[d]=!0,wn(g,t,6,l)}}function oh(t,n,o=!1){const i=n.emitsCache,l=i.get(t);if(l!==void 0)return l;const c=t.emits;let h={},d=!1;if(!se(t)){const m=g=>{const y=oh(g,n,!0);y&&(d=!0,je(h,y))};!o&&n.mixins.length&&n.mixins.forEach(m),t.extends&&m(t.extends),t.mixins&&t.mixins.forEach(m)}return!c&&!d?(Oe(t)&&i.set(t,null),null):(Kt(c)?c.forEach(m=>h[m]=null):je(h,c),Oe(t)&&i.set(t,h),h)}function ks(t,n){return!t||!_o(n)?!1:(n=n.slice(2).replace(/Once$/,""),ge(t,n[0].toLowerCase()+n.slice(1))||ge(t,xi(n))||ge(t,n))}let Ue=null,Ls=null;function ls(t){const n=Ue;return Ue=t,Ls=t&&t.type.__scopeId||null,n}function sh(t){Ls=t}function ah(){Ls=null}function mt(t,n=Ue,o){if(!n||t._n)return t;const i=(...l)=>{i._d&&kc(-1);const c=ls(n);let h;try{h=t(...l)}finally{ls(c),i._d&&kc(1)}return h};return i._n=!0,i._c=!0,i._d=!0,i}function oa(t){const{type:n,vnode:o,proxy:i,withProxy:l,props:c,propsOptions:[h],slots:d,attrs:m,emit:g,render:y,renderCache:w,data:M,setupState:I,ctx:O,inheritAttrs:S}=t;let U,C;const R=ls(t);try{if(o.shapeFlag&4){const E=l||i;U=Pn(y.call(E,E,w,c,I,M,O)),C=m}else{const E=n;U=Pn(E.length>1?E(c,{attrs:m,slots:d,emit:g}):E(c,null)),C=n.props?m:vf(m)}}catch(E){no.length=0,ws(E,t,1),U=rt(pn)}let V=U;if(C&&S!==!1){const E=Object.keys(C),{shapeFlag:z}=V;E.length&&z&7&&(h&&E.some(Ka)&&(C=bf(C,h)),V=kr(V,C))}return o.dirs&&(V=kr(V),V.dirs=V.dirs?V.dirs.concat(o.dirs):o.dirs),o.transition&&(V.transition=o.transition),U=V,ls(R),U}const vf=t=>{let n;for(const o in t)(o==="class"||o==="style"||_o(o))&&((n||(n={}))[o]=t[o]);return n},bf=(t,n)=>{const o={};for(const i in t)(!Ka(i)||!(i.slice(9)in n))&&(o[i]=t[i]);return o};function wf(t,n,o){const{props:i,children:l,component:c}=t,{props:h,children:d,patchFlag:m}=n,g=c.emitsOptions;if(n.dirs||n.transition)return!0;if(o&&m>=0){if(m&1024)return!0;if(m&16)return i?pc(i,h,g):!!h;if(m&8){const y=n.dynamicProps;for(let w=0;w<y.length;w++){const M=y[w];if(h[M]!==i[M]&&!ks(g,M))return!0}}}else return(l||d)&&(!d||!d.$stable)?!0:i===h?!1:i?h?pc(i,h,g):!0:!!h;return!1}function pc(t,n,o){const i=Object.keys(n);if(i.length!==Object.keys(t).length)return!0;for(let l=0;l<i.length;l++){const c=i[l];if(n[c]!==t[c]&&!ks(o,c))return!0}return!1}function xf({vnode:t,parent:n},o){for(;n&&n.subTree===t;)(t=n.vnode).el=o,n=n.parent}const kf=t=>t.__isSuspense;function lh(t,n){n&&n.pendingBranch?Kt(t)?n.effects.push(...t):n.effects.push(t):gf(t)}const qo={};function Ke(t,n,o){return ch(t,n,o)}function ch(t,n,{immediate:o,deep:i,flush:l,onTrack:c,onTrigger:h}=Te){var d;const m=ju()===((d=Fe)==null?void 0:d.scope)?Fe:null;let g,y=!1,w=!1;if(Ie(t)?(g=()=>t.value,y=ss(t)):br(t)?(g=()=>t,i=!0):Kt(t)?(w=!0,y=t.some(E=>br(E)||ss(E)),g=()=>t.map(E=>{if(Ie(E))return E.value;if(br(E))return Vr(E);if(se(E))return wr(E,m,2)})):se(t)?n?g=()=>wr(t,m,2):g=()=>{if(!(m&&m.isUnmounted))return M&&M(),wn(t,m,3,[I])}:g=Tn,n&&i){const E=g;g=()=>Vr(E())}let M,I=E=>{M=R.onStop=()=>{wr(E,m,4)}},O;if(po)if(I=Tn,n?o&&wn(n,m,3,[g(),w?[]:void 0,I]):g(),l==="sync"){const E=gm();O=E.__watcherHandles||(E.__watcherHandles=[])}else return Tn;let S=w?new Array(t.length).fill(qo):qo;const U=()=>{if(R.active)if(n){const E=R.run();(i||y||(w?E.some((z,W)=>so(z,S[W])):so(E,S)))&&(M&&M(),wn(n,m,3,[E,S===qo?void 0:w&&S[0]===qo?[]:S,I]),S=E)}else R.run()};U.allowRecurse=!!n;let C;l==="sync"?C=U:l==="post"?C=()=>sn(U,m&&m.suspense):(U.pre=!0,m&&(U.id=m.uid),C=()=>sl(U));const R=new Qa(g,C);n?o?U():S=R.run():l==="post"?sn(R.run.bind(R),m&&m.suspense):R.run();const V=()=>{R.stop(),m&&m.scope&&Wa(m.scope.effects,R)};return O&&O.push(V),V}function Lf(t,n,o){const i=this.proxy,l=De(t)?t.includes(".")?uh(i,t):()=>i[t]:t.bind(i,i);let c;se(n)?c=n:(c=n.handler,o=n);const h=Fe;yi(this);const d=ch(l,c.bind(i),o);return h?yi(h):Gr(),d}function uh(t,n){const o=n.split(".");return()=>{let i=t;for(let l=0;l<o.length&&i;l++)i=i[o[l]];return i}}function Vr(t,n){if(!Oe(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),Ie(t))Vr(t.value,n);else if(Kt(t))for(let o=0;o<t.length;o++)Vr(t[o],n);else if(Tu(t)||di(t))t.forEach(o=>{Vr(o,n)});else if(Au(t))for(const o in t)Vr(t[o],n);return t}function vo(t,n){const o=Ue;if(o===null)return t;const i=Es(o)||o.proxy,l=t.dirs||(t.dirs=[]);for(let c=0;c<n.length;c++){let[h,d,m,g=Te]=n[c];h&&(se(h)&&(h={mounted:h,updated:h}),h.deep&&Vr(d),l.push({dir:h,instance:i,value:d,oldValue:void 0,arg:m,modifiers:g}))}return t}function jn(t,n,o,i){const l=t.dirs,c=n&&n.dirs;for(let h=0;h<l.length;h++){const d=l[h];c&&(d.oldValue=c[h].value);let m=d.dir[i];m&&(ki(),wn(m,o,8,[t.el,d,t,n]),Li())}}function Mf(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return en(()=>{t.isMounted=!0}),Lr(()=>{t.isUnmounting=!0}),t}const yn=[Function,Array],hh={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:yn,onEnter:yn,onAfterEnter:yn,onEnterCancelled:yn,onBeforeLeave:yn,onLeave:yn,onAfterLeave:yn,onLeaveCancelled:yn,onBeforeAppear:yn,onAppear:yn,onAfterAppear:yn,onAppearCancelled:yn},Cf={name:"BaseTransition",props:hh,setup(t,{slots:n}){const o=Oh(),i=Mf();let l;return()=>{const c=n.default&&dh(n.default(),!0);if(!c||!c.length)return;let h=c[0];if(c.length>1){for(const S of c)if(S.type!==pn){h=S;break}}const d=me(t),{mode:m}=d;if(i.isLeaving)return sa(h);const g=dc(h);if(!g)return sa(h);const y=Ea(g,d,i,o);Ta(g,y);const w=o.subTree,M=w&&dc(w);let I=!1;const{getTransitionKey:O}=g.type;if(O){const S=O();l===void 0?l=S:S!==l&&(l=S,I=!0)}if(M&&M.type!==pn&&(!Fr(g,M)||I)){const S=Ea(M,d,i,o);if(Ta(M,S),m==="out-in")return i.isLeaving=!0,S.afterLeave=()=>{i.isLeaving=!1,o.update.active!==!1&&o.update()},sa(h);m==="in-out"&&g.type!==pn&&(S.delayLeave=(U,C,R)=>{const V=ph(i,M);V[String(M.key)]=M,U._leaveCb=()=>{C(),U._leaveCb=void 0,delete y.delayedLeave},y.delayedLeave=R})}return h}}},Pf=Cf;function ph(t,n){const{leavingVNodes:o}=t;let i=o.get(n.type);return i||(i=Object.create(null),o.set(n.type,i)),i}function Ea(t,n,o,i){const{appear:l,mode:c,persisted:h=!1,onBeforeEnter:d,onEnter:m,onAfterEnter:g,onEnterCancelled:y,onBeforeLeave:w,onLeave:M,onAfterLeave:I,onLeaveCancelled:O,onBeforeAppear:S,onAppear:U,onAfterAppear:C,onAppearCancelled:R}=n,V=String(t.key),E=ph(o,t),z=(Y,st)=>{Y&&wn(Y,i,9,st)},W=(Y,st)=>{const ct=st[1];z(Y,st),Kt(Y)?Y.every(gt=>gt.length<=1)&&ct():Y.length<=1&&ct()},ot={mode:c,persisted:h,beforeEnter(Y){let st=d;if(!o.isMounted)if(l)st=S||d;else return;Y._leaveCb&&Y._leaveCb(!0);const ct=E[V];ct&&Fr(t,ct)&&ct.el._leaveCb&&ct.el._leaveCb(),z(st,[Y])},enter(Y){let st=m,ct=g,gt=y;if(!o.isMounted)if(l)st=U||m,ct=C||g,gt=R||y;else return;let at=!1;const bt=Y._enterCb=Lt=>{at||(at=!0,Lt?z(gt,[Y]):z(ct,[Y]),ot.delayedLeave&&ot.delayedLeave(),Y._enterCb=void 0)};st?W(st,[Y,bt]):bt()},leave(Y,st){const ct=String(t.key);if(Y._enterCb&&Y._enterCb(!0),o.isUnmounting)return st();z(w,[Y]);let gt=!1;const at=Y._leaveCb=bt=>{gt||(gt=!0,st(),bt?z(O,[Y]):z(I,[Y]),Y._leaveCb=void 0,E[ct]===t&&delete E[ct])};E[ct]=t,M?W(M,[Y,at]):at()},clone(Y){return Ea(Y,n,o,i)}};return ot}function sa(t){if(Ms(t))return t=kr(t),t.children=null,t}function dc(t){return Ms(t)?t.children?t.children[0]:void 0:t}function Ta(t,n){t.shapeFlag&6&&t.component?Ta(t.component.subTree,n):t.shapeFlag&128?(t.ssContent.transition=n.clone(t.ssContent),t.ssFallback.transition=n.clone(t.ssFallback)):t.transition=n}function dh(t,n=!1,o){let i=[],l=0;for(let c=0;c<t.length;c++){let h=t[c];const d=o==null?h.key:String(o)+String(h.key!=null?h.key:c);h.type===Gt?(h.patchFlag&128&&l++,i=i.concat(dh(h.children,n,d))):(n||h.type!==pn)&&i.push(d!=null?kr(h,{key:d}):h)}if(l>1)for(let c=0;c<i.length;c++)i[c].patchFlag=-2;return i}function fh(t,n){return se(t)?(()=>je({name:t.name},n,{setup:t}))():t}const mi=t=>!!t.type.__asyncLoader,Ms=t=>t.type.__isKeepAlive;function Sf(t,n){mh(t,"a",n)}function Ef(t,n){mh(t,"da",n)}function mh(t,n,o=Fe){const i=t.__wdc||(t.__wdc=()=>{let l=o;for(;l;){if(l.isDeactivated)return;l=l.parent}return t()});if(Cs(n,i,o),o){let l=o.parent;for(;l&&l.parent;)Ms(l.parent.vnode)&&Tf(i,n,o,l),l=l.parent}}function Tf(t,n,o,i){const l=Cs(n,t,i,!0);Zr(()=>{Wa(i[n],l)},o)}function Cs(t,n,o=Fe,i=!1){if(o){const l=o[t]||(o[t]=[]),c=n.__weh||(n.__weh=(...h)=>{if(o.isUnmounted)return;ki(),yi(o);const d=wn(n,o,t,h);return Gr(),Li(),d});return i?l.unshift(c):l.push(c),c}}const rr=t=>(n,o=Fe)=>(!po||t==="sp")&&Cs(t,(...i)=>n(...i),o),gh=rr("bm"),en=rr("m"),Of=rr("bu"),Rf=rr("u"),Lr=rr("bum"),Zr=rr("um"),al=rr("sp"),Af=rr("rtg"),Bf=rr("rtc");function If(t,n=Fe){Cs("ec",t,n)}const ll="components";function dt(t,n){return yh(ll,t,!0,n)||t}const _h=Symbol.for("v-ndc");function Ps(t){return De(t)?yh(ll,t,!1)||t:t||_h}function yh(t,n,o=!0,i=!1){const l=Ue||Fe;if(l){const c=l.type;if(t===ll){const d=dm(c,!1);if(d&&(d===n||d===Hn(n)||d===ys(Hn(n))))return c}const h=fc(l[t]||c[t],n)||fc(l.appContext[t],n);return!h&&i?c:h}}function fc(t,n){return t&&(t[n]||t[Hn(n)]||t[ys(Hn(n))])}function ve(t,n,o,i){let l;const c=o&&o[i];if(Kt(t)||De(t)){l=new Array(t.length);for(let h=0,d=t.length;h<d;h++)l[h]=n(t[h],h,void 0,c&&c[h])}else if(typeof t=="number"){l=new Array(t);for(let h=0;h<t;h++)l[h]=n(h+1,h,void 0,c&&c[h])}else if(Oe(t))if(t[Symbol.iterator])l=Array.from(t,(h,d)=>n(h,d,void 0,c&&c[d]));else{const h=Object.keys(t);l=new Array(h.length);for(let d=0,m=h.length;d<m;d++){const g=h[d];l[d]=n(t[g],g,d,c&&c[d])}}else l=[];return o&&(o[i]=l),l}function Ee(t,n,o={},i,l){if(Ue.isCE||Ue.parent&&mi(Ue.parent)&&Ue.parent.isCE)return n!=="default"&&(o.name=n),rt("slot",o,i&&i());let c=t[n];c&&c._c&&(c._d=!1),Z();const h=c&&vh(c(o)),d=At(Gt,{key:o.key||h&&h.key||`_${n}`},h||(i?i():[]),h&&t._===1?64:-2);return!l&&d.scopeId&&(d.slotScopeIds=[d.scopeId+"-s"]),c&&c._c&&(c._d=!0),d}function vh(t){return t.some(n=>hs(n)?!(n.type===pn||n.type===Gt&&!vh(n.children)):!0)?t:null}const Oa=t=>t?Rh(t)?Es(t)||t.proxy:Oa(t.parent):null,to=je(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Oa(t.parent),$root:t=>Oa(t.root),$emit:t=>t.emit,$options:t=>cl(t),$forceUpdate:t=>t.f||(t.f=()=>sl(t.update)),$nextTick:t=>t.n||(t.n=xs.bind(t.proxy)),$watch:t=>Lf.bind(t)}),aa=(t,n)=>t!==Te&&!t.__isScriptSetup&&ge(t,n),Df={get({_:t},n){const{ctx:o,setupState:i,data:l,props:c,accessCache:h,type:d,appContext:m}=t;let g;if(n[0]!=="$"){const I=h[n];if(I!==void 0)switch(I){case 1:return i[n];case 2:return l[n];case 4:return o[n];case 3:return c[n]}else{if(aa(i,n))return h[n]=1,i[n];if(l!==Te&&ge(l,n))return h[n]=2,l[n];if((g=t.propsOptions[0])&&ge(g,n))return h[n]=3,c[n];if(o!==Te&&ge(o,n))return h[n]=4,o[n];Ra&&(h[n]=0)}}const y=to[n];let w,M;if(y)return n==="$attrs"&&ln(t,"get",n),y(t);if((w=d.__cssModules)&&(w=w[n]))return w;if(o!==Te&&ge(o,n))return h[n]=4,o[n];if(M=m.config.globalProperties,ge(M,n))return M[n]},set({_:t},n,o){const{data:i,setupState:l,ctx:c}=t;return aa(l,n)?(l[n]=o,!0):i!==Te&&ge(i,n)?(i[n]=o,!0):ge(t.props,n)||n[0]==="$"&&n.slice(1)in t?!1:(c[n]=o,!0)},has({_:{data:t,setupState:n,accessCache:o,ctx:i,appContext:l,propsOptions:c}},h){let d;return!!o[h]||t!==Te&&ge(t,h)||aa(n,h)||(d=c[0])&&ge(d,h)||ge(i,h)||ge(to,h)||ge(l.config.globalProperties,h)},defineProperty(t,n,o){return o.get!=null?t._.accessCache[n]=0:ge(o,"value")&&this.set(t,n,o.value,null),Reflect.defineProperty(t,n,o)}};function zf(){return jf().slots}function jf(){const t=Oh();return t.setupContext||(t.setupContext=Bh(t))}function mc(t){return Kt(t)?t.reduce((n,o)=>(n[o]=null,n),{}):t}let Ra=!0;function Nf(t){const n=cl(t),o=t.proxy,i=t.ctx;Ra=!1,n.beforeCreate&&gc(n.beforeCreate,t,"bc");const{data:l,computed:c,methods:h,watch:d,provide:m,inject:g,created:y,beforeMount:w,mounted:M,beforeUpdate:I,updated:O,activated:S,deactivated:U,beforeDestroy:C,beforeUnmount:R,destroyed:V,unmounted:E,render:z,renderTracked:W,renderTriggered:ot,errorCaptured:Y,serverPrefetch:st,expose:ct,inheritAttrs:gt,components:at,directives:bt,filters:Lt}=n;if(g&&Ff(g,i,null),h)for(const Vt in h){const wt=h[Vt];se(wt)&&(i[Vt]=wt.bind(o))}if(l){const Vt=l.call(o,o);Oe(Vt)&&(t.data=yo(Vt))}if(Ra=!0,c)for(const Vt in c){const wt=c[Vt],pe=se(wt)?wt.bind(o,o):se(wt.get)?wt.get.bind(o,o):Tn,Dt=!se(wt)&&se(wt.set)?wt.set.bind(o):Tn,Bt=de({get:pe,set:Dt});Object.defineProperty(i,Vt,{enumerable:!0,configurable:!0,get:()=>Bt.value,set:$t=>Bt.value=$t})}if(d)for(const Vt in d)bh(d[Vt],i,o,Vt);if(m){const Vt=se(m)?m.call(o):m;Reflect.ownKeys(Vt).forEach(wt=>{Yo(wt,Vt[wt])})}y&&gc(y,t,"c");function Ct(Vt,wt){Kt(wt)?wt.forEach(pe=>Vt(pe.bind(o))):wt&&Vt(wt.bind(o))}if(Ct(gh,w),Ct(en,M),Ct(Of,I),Ct(Rf,O),Ct(Sf,S),Ct(Ef,U),Ct(If,Y),Ct(Bf,W),Ct(Af,ot),Ct(Lr,R),Ct(Zr,E),Ct(al,st),Kt(ct))if(ct.length){const Vt=t.exposed||(t.exposed={});ct.forEach(wt=>{Object.defineProperty(Vt,wt,{get:()=>o[wt],set:pe=>o[wt]=pe})})}else t.exposed||(t.exposed={});z&&t.render===Tn&&(t.render=z),gt!=null&&(t.inheritAttrs=gt),at&&(t.components=at),bt&&(t.directives=bt)}function Ff(t,n,o=Tn){Kt(t)&&(t=Aa(t));for(const i in t){const l=t[i];let c;Oe(l)?"default"in l?c=xn(l.from||i,l.default,!0):c=xn(l.from||i):c=xn(l),Ie(c)?Object.defineProperty(n,i,{enumerable:!0,configurable:!0,get:()=>c.value,set:h=>c.value=h}):n[i]=c}}function gc(t,n,o){wn(Kt(t)?t.map(i=>i.bind(n.proxy)):t.bind(n.proxy),n,o)}function bh(t,n,o,i){const l=i.includes(".")?uh(o,i):()=>o[i];if(De(t)){const c=n[t];se(c)&&Ke(l,c)}else if(se(t))Ke(l,t.bind(o));else if(Oe(t))if(Kt(t))t.forEach(c=>bh(c,n,o,i));else{const c=se(t.handler)?t.handler.bind(o):n[t.handler];se(c)&&Ke(l,c,t)}}function cl(t){const n=t.type,{mixins:o,extends:i}=n,{mixins:l,optionsCache:c,config:{optionMergeStrategies:h}}=t.appContext,d=c.get(n);let m;return d?m=d:!l.length&&!o&&!i?m=n:(m={},l.length&&l.forEach(g=>cs(m,g,h,!0)),cs(m,n,h)),Oe(n)&&c.set(n,m),m}function cs(t,n,o,i=!1){const{mixins:l,extends:c}=n;c&&cs(t,c,o,!0),l&&l.forEach(h=>cs(t,h,o,!0));for(const h in n)if(!(i&&h==="expose")){const d=Hf[h]||o&&o[h];t[h]=d?d(t[h],n[h]):n[h]}return t}const Hf={data:_c,props:yc,emits:yc,methods:Xi,computed:Xi,beforeCreate:Qe,created:Qe,beforeMount:Qe,mounted:Qe,beforeUpdate:Qe,updated:Qe,beforeDestroy:Qe,beforeUnmount:Qe,destroyed:Qe,unmounted:Qe,activated:Qe,deactivated:Qe,errorCaptured:Qe,serverPrefetch:Qe,components:Xi,directives:Xi,watch:$f,provide:_c,inject:Vf};function _c(t,n){return n?t?function(){return je(se(t)?t.call(this,this):t,se(n)?n.call(this,this):n)}:n:t}function Vf(t,n){return Xi(Aa(t),Aa(n))}function Aa(t){if(Kt(t)){const n={};for(let o=0;o<t.length;o++)n[t[o]]=t[o];return n}return t}function Qe(t,n){return t?[...new Set([].concat(t,n))]:n}function Xi(t,n){return t?je(Object.create(null),t,n):n}function yc(t,n){return t?Kt(t)&&Kt(n)?[...new Set([...t,...n])]:je(Object.create(null),mc(t),mc(n??{})):n}function $f(t,n){if(!t)return n;if(!n)return t;const o=je(Object.create(null),t);for(const i in n)o[i]=Qe(t[i],n[i]);return o}function wh(){return{app:null,config:{isNativeTag:gd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Uf=0;function Gf(t,n){return function(i,l=null){se(i)||(i=je({},i)),l!=null&&!Oe(l)&&(l=null);const c=wh(),h=new Set;let d=!1;const m=c.app={_uid:Uf++,_component:i,_props:l,_container:null,_context:c,_instance:null,version:_m,get config(){return c.config},set config(g){},use(g,...y){return h.has(g)||(g&&se(g.install)?(h.add(g),g.install(m,...y)):se(g)&&(h.add(g),g(m,...y))),m},mixin(g){return c.mixins.includes(g)||c.mixins.push(g),m},component(g,y){return y?(c.components[g]=y,m):c.components[g]},directive(g,y){return y?(c.directives[g]=y,m):c.directives[g]},mount(g,y,w){if(!d){const M=rt(i,l);return M.appContext=c,y&&n?n(M,g):t(M,g,w),d=!0,m._container=g,g.__vue_app__=m,Es(M.component)||M.component.proxy}},unmount(){d&&(t(null,m._container),delete m._container.__vue_app__)},provide(g,y){return c.provides[g]=y,m},runWithContext(g){uo=m;try{return g()}finally{uo=null}}};return m}}let uo=null;function Yo(t,n){if(Fe){let o=Fe.provides;const i=Fe.parent&&Fe.parent.provides;i===o&&(o=Fe.provides=Object.create(i)),o[t]=n}}function xn(t,n,o=!1){const i=Fe||Ue;if(i||uo){const l=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:uo._context.provides;if(l&&t in l)return l[t];if(arguments.length>1)return o&&se(n)?n.call(i&&i.proxy):n}}function Zf(){return!!(Fe||Ue||uo)}function qf(t,n,o,i=!1){const l={},c={};is(c,Ss,1),t.propsDefaults=Object.create(null),xh(t,n,l,c);for(const h in t.propsOptions[0])h in l||(l[h]=void 0);o?t.props=i?l:Wu(l):t.type.props?t.props=l:t.props=c,t.attrs=c}function Kf(t,n,o,i){const{props:l,attrs:c,vnode:{patchFlag:h}}=t,d=me(l),[m]=t.propsOptions;let g=!1;if((i||h>0)&&!(h&16)){if(h&8){const y=t.vnode.dynamicProps;for(let w=0;w<y.length;w++){let M=y[w];if(ks(t.emitsOptions,M))continue;const I=n[M];if(m)if(ge(c,M))I!==c[M]&&(c[M]=I,g=!0);else{const O=Hn(M);l[O]=Ba(m,d,O,I,t,!1)}else I!==c[M]&&(c[M]=I,g=!0)}}}else{xh(t,n,l,c)&&(g=!0);let y;for(const w in d)(!n||!ge(n,w)&&((y=xi(w))===w||!ge(n,y)))&&(m?o&&(o[w]!==void 0||o[y]!==void 0)&&(l[w]=Ba(m,d,w,void 0,t,!0)):delete l[w]);if(c!==d)for(const w in c)(!n||!ge(n,w))&&(delete c[w],g=!0)}g&&er(t,"set","$attrs")}function xh(t,n,o,i){const[l,c]=t.propsOptions;let h=!1,d;if(n)for(let m in n){if(Qi(m))continue;const g=n[m];let y;l&&ge(l,y=Hn(m))?!c||!c.includes(y)?o[y]=g:(d||(d={}))[y]=g:ks(t.emitsOptions,m)||(!(m in i)||g!==i[m])&&(i[m]=g,h=!0)}if(c){const m=me(o),g=d||Te;for(let y=0;y<c.length;y++){const w=c[y];o[w]=Ba(l,m,w,g[w],t,!ge(g,w))}}return h}function Ba(t,n,o,i,l,c){const h=t[o];if(h!=null){const d=ge(h,"default");if(d&&i===void 0){const m=h.default;if(h.type!==Function&&!h.skipFactory&&se(m)){const{propsDefaults:g}=l;o in g?i=g[o]:(yi(l),i=g[o]=m.call(null,n),Gr())}else i=m}h[0]&&(c&&!d?i=!1:h[1]&&(i===""||i===xi(o))&&(i=!0))}return i}function kh(t,n,o=!1){const i=n.propsCache,l=i.get(t);if(l)return l;const c=t.props,h={},d=[];let m=!1;if(!se(t)){const y=w=>{m=!0;const[M,I]=kh(w,n,!0);je(h,M),I&&d.push(...I)};!o&&n.mixins.length&&n.mixins.forEach(y),t.extends&&y(t.extends),t.mixins&&t.mixins.forEach(y)}if(!c&&!m)return Oe(t)&&i.set(t,pi),pi;if(Kt(c))for(let y=0;y<c.length;y++){const w=Hn(c[y]);vc(w)&&(h[w]=Te)}else if(c)for(const y in c){const w=Hn(y);if(vc(w)){const M=c[y],I=h[w]=Kt(M)||se(M)?{type:M}:je({},M);if(I){const O=xc(Boolean,I.type),S=xc(String,I.type);I[0]=O>-1,I[1]=S<0||O<S,(O>-1||ge(I,"default"))&&d.push(w)}}}const g=[h,d];return Oe(t)&&i.set(t,g),g}function vc(t){return t[0]!=="$"}function bc(t){const n=t&&t.toString().match(/^\s*(function|class) (\w+)/);return n?n[2]:t===null?"null":""}function wc(t,n){return bc(t)===bc(n)}function xc(t,n){return Kt(n)?n.findIndex(o=>wc(o,t)):se(n)&&wc(n,t)?0:-1}const Lh=t=>t[0]==="_"||t==="$stable",ul=t=>Kt(t)?t.map(Pn):[Pn(t)],Wf=(t,n,o)=>{if(n._n)return n;const i=mt((...l)=>ul(n(...l)),o);return i._c=!1,i},Mh=(t,n,o)=>{const i=t._ctx;for(const l in t){if(Lh(l))continue;const c=t[l];if(se(c))n[l]=Wf(l,c,i);else if(c!=null){const h=ul(c);n[l]=()=>h}}},Ch=(t,n)=>{const o=ul(n);t.slots.default=()=>o},Jf=(t,n)=>{if(t.vnode.shapeFlag&32){const o=n._;o?(t.slots=me(n),is(n,"_",o)):Mh(n,t.slots={})}else t.slots={},n&&Ch(t,n);is(t.slots,Ss,1)},Yf=(t,n,o)=>{const{vnode:i,slots:l}=t;let c=!0,h=Te;if(i.shapeFlag&32){const d=n._;d?o&&d===1?c=!1:(je(l,n),!o&&d===1&&delete l._):(c=!n.$stable,Mh(n,l)),h=n}else n&&(Ch(t,n),h={default:1});if(c)for(const d in l)!Lh(d)&&!(d in h)&&delete l[d]};function us(t,n,o,i,l=!1){if(Kt(t)){t.forEach((M,I)=>us(M,n&&(Kt(n)?n[I]:n),o,i,l));return}if(mi(i)&&!l)return;const c=i.shapeFlag&4?Es(i.component)||i.component.proxy:i.el,h=l?null:c,{i:d,r:m}=t,g=n&&n.r,y=d.refs===Te?d.refs={}:d.refs,w=d.setupState;if(g!=null&&g!==m&&(De(g)?(y[g]=null,ge(w,g)&&(w[g]=null)):Ie(g)&&(g.value=null)),se(m))wr(m,d,12,[h,y]);else{const M=De(m),I=Ie(m);if(M||I){const O=()=>{if(t.f){const S=M?ge(w,m)?w[m]:y[m]:m.value;l?Kt(S)&&Wa(S,c):Kt(S)?S.includes(c)||S.push(c):M?(y[m]=[c],ge(w,m)&&(w[m]=y[m])):(m.value=[c],t.k&&(y[t.k]=m.value))}else M?(y[m]=h,ge(w,m)&&(w[m]=h)):I&&(m.value=h,t.k&&(y[t.k]=h))};h?(O.id=-1,sn(O,o)):O()}}}let hr=!1;const Ko=t=>/svg/.test(t.namespaceURI)&&t.tagName!=="foreignObject",Wo=t=>t.nodeType===8;function Xf(t){const{mt:n,p:o,o:{patchProp:i,createText:l,nextSibling:c,parentNode:h,remove:d,insert:m,createComment:g}}=t,y=(C,R)=>{if(!R.hasChildNodes()){o(null,C,R),as(),R._vnode=C;return}hr=!1,w(R.firstChild,C,null,null,null),as(),R._vnode=C,hr&&console.error("Hydration completed but contains mismatches.")},w=(C,R,V,E,z,W=!1)=>{const ot=Wo(C)&&C.data==="[",Y=()=>S(C,R,V,E,z,ot),{type:st,ref:ct,shapeFlag:gt,patchFlag:at}=R;let bt=C.nodeType;R.el=C,at===-2&&(W=!1,R.dynamicChildren=null);let Lt=null;switch(st){case _i:bt!==3?R.children===""?(m(R.el=l(""),h(C),C),Lt=C):Lt=Y():(C.data!==R.children&&(hr=!0,C.data=R.children),Lt=c(C));break;case pn:bt!==8||ot?Lt=Y():Lt=c(C);break;case eo:if(ot&&(C=c(C),bt=C.nodeType),bt===1||bt===3){Lt=C;const Et=!R.children.length;for(let Ct=0;Ct<R.staticCount;Ct++)Et&&(R.children+=Lt.nodeType===1?Lt.outerHTML:Lt.data),Ct===R.staticCount-1&&(R.anchor=Lt),Lt=c(Lt);return ot?c(Lt):Lt}else Y();break;case Gt:ot?Lt=O(C,R,V,E,z,W):Lt=Y();break;default:if(gt&1)bt!==1||R.type.toLowerCase()!==C.tagName.toLowerCase()?Lt=Y():Lt=M(C,R,V,E,z,W);else if(gt&6){R.slotScopeIds=z;const Et=h(C);if(n(R,Et,null,V,E,Ko(Et),W),Lt=ot?U(C):c(C),Lt&&Wo(Lt)&&Lt.data==="teleport end"&&(Lt=c(Lt)),mi(R)){let Ct;ot?(Ct=rt(Gt),Ct.anchor=Lt?Lt.previousSibling:Et.lastChild):Ct=C.nodeType===3?oe(""):rt("div"),Ct.el=C,R.component.subTree=Ct}}else gt&64?bt!==8?Lt=Y():Lt=R.type.hydrate(C,R,V,E,z,W,t,I):gt&128&&(Lt=R.type.hydrate(C,R,V,E,Ko(h(C)),z,W,t,w))}return ct!=null&&us(ct,null,E,R),Lt},M=(C,R,V,E,z,W)=>{W=W||!!R.dynamicChildren;const{type:ot,props:Y,patchFlag:st,shapeFlag:ct,dirs:gt}=R,at=ot==="input"&&gt||ot==="option";if(at||st!==-1){if(gt&&jn(R,null,V,"created"),Y)if(at||!W||st&48)for(const Lt in Y)(at&&Lt.endsWith("value")||_o(Lt)&&!Qi(Lt))&&i(C,Lt,null,Y[Lt],!1,void 0,V);else Y.onClick&&i(C,"onClick",null,Y.onClick,!1,void 0,V);let bt;if((bt=Y&&Y.onVnodeBeforeMount)&&bn(bt,V,R),gt&&jn(R,null,V,"beforeMount"),((bt=Y&&Y.onVnodeMounted)||gt)&&lh(()=>{bt&&bn(bt,V,R),gt&&jn(R,null,V,"mounted")},E),ct&16&&!(Y&&(Y.innerHTML||Y.textContent))){let Lt=I(C.firstChild,R,C,V,E,z,W);for(;Lt;){hr=!0;const Et=Lt;Lt=Lt.nextSibling,d(Et)}}else ct&8&&C.textContent!==R.children&&(hr=!0,C.textContent=R.children)}return C.nextSibling},I=(C,R,V,E,z,W,ot)=>{ot=ot||!!R.dynamicChildren;const Y=R.children,st=Y.length;for(let ct=0;ct<st;ct++){const gt=ot?Y[ct]:Y[ct]=Pn(Y[ct]);if(C)C=w(C,gt,E,z,W,ot);else{if(gt.type===_i&&!gt.children)continue;hr=!0,o(null,gt,V,null,E,z,Ko(V),W)}}return C},O=(C,R,V,E,z,W)=>{const{slotScopeIds:ot}=R;ot&&(z=z?z.concat(ot):ot);const Y=h(C),st=I(c(C),R,Y,V,E,z,W);return st&&Wo(st)&&st.data==="]"?c(R.anchor=st):(hr=!0,m(R.anchor=g("]"),Y,st),st)},S=(C,R,V,E,z,W)=>{if(hr=!0,R.el=null,W){const st=U(C);for(;;){const ct=c(C);if(ct&&ct!==st)d(ct);else break}}const ot=c(C),Y=h(C);return d(C),o(null,R,Y,ot,V,E,Ko(Y),z),ot},U=C=>{let R=0;for(;C;)if(C=c(C),C&&Wo(C)&&(C.data==="["&&R++,C.data==="]")){if(R===0)return c(C);R--}return C};return[y,w]}const sn=lh;function Qf(t){return tm(t,Xf)}function tm(t,n){const o=La();o.__VUE__=!0;const{insert:i,remove:l,patchProp:c,createElement:h,createText:d,createComment:m,setText:g,setElementText:y,parentNode:w,nextSibling:M,setScopeId:I=Tn,insertStaticContent:O}=t,S=(F,K,J,ht=null,yt=null,xt=null,Ot=!1,B=null,b=!!K.dynamicChildren)=>{if(F===K)return;F&&!Fr(F,K)&&(ht=pt(F),$t(F,yt,xt,!0),F=null),K.patchFlag===-2&&(b=!1,K.dynamicChildren=null);const{type:k,ref:T,shapeFlag:D}=K;switch(k){case _i:U(F,K,J,ht);break;case pn:C(F,K,J,ht);break;case eo:F==null&&R(K,J,ht,Ot);break;case Gt:at(F,K,J,ht,yt,xt,Ot,B,b);break;default:D&1?z(F,K,J,ht,yt,xt,Ot,B,b):D&6?bt(F,K,J,ht,yt,xt,Ot,B,b):(D&64||D&128)&&k.process(F,K,J,ht,yt,xt,Ot,B,b,St)}T!=null&&yt&&us(T,F&&F.ref,xt,K||F,!K)},U=(F,K,J,ht)=>{if(F==null)i(K.el=d(K.children),J,ht);else{const yt=K.el=F.el;K.children!==F.children&&g(yt,K.children)}},C=(F,K,J,ht)=>{F==null?i(K.el=m(K.children||""),J,ht):K.el=F.el},R=(F,K,J,ht)=>{[F.el,F.anchor]=O(F.children,K,J,ht,F.el,F.anchor)},V=({el:F,anchor:K},J,ht)=>{let yt;for(;F&&F!==K;)yt=M(F),i(F,J,ht),F=yt;i(K,J,ht)},E=({el:F,anchor:K})=>{let J;for(;F&&F!==K;)J=M(F),l(F),F=J;l(K)},z=(F,K,J,ht,yt,xt,Ot,B,b)=>{Ot=Ot||K.type==="svg",F==null?W(K,J,ht,yt,xt,Ot,B,b):st(F,K,yt,xt,Ot,B,b)},W=(F,K,J,ht,yt,xt,Ot,B)=>{let b,k;const{type:T,props:D,shapeFlag:N,transition:Q,dirs:nt}=F;if(b=F.el=h(F.type,xt,D&&D.is,D),N&8?y(b,F.children):N&16&&Y(F.children,b,null,ht,yt,xt&&T!=="foreignObject",Ot,B),nt&&jn(F,null,ht,"created"),ot(b,F,F.scopeId,Ot,ht),D){for(const Tt in D)Tt!=="value"&&!Qi(Tt)&&c(b,Tt,null,D[Tt],xt,F.children,ht,yt,Nt);"value"in D&&c(b,"value",null,D.value),(k=D.onVnodeBeforeMount)&&bn(k,ht,F)}nt&&jn(F,null,ht,"beforeMount");const vt=(!yt||yt&&!yt.pendingBranch)&&Q&&!Q.persisted;vt&&Q.beforeEnter(b),i(b,K,J),((k=D&&D.onVnodeMounted)||vt||nt)&&sn(()=>{k&&bn(k,ht,F),vt&&Q.enter(b),nt&&jn(F,null,ht,"mounted")},yt)},ot=(F,K,J,ht,yt)=>{if(J&&I(F,J),ht)for(let xt=0;xt<ht.length;xt++)I(F,ht[xt]);if(yt){let xt=yt.subTree;if(K===xt){const Ot=yt.vnode;ot(F,Ot,Ot.scopeId,Ot.slotScopeIds,yt.parent)}}},Y=(F,K,J,ht,yt,xt,Ot,B,b=0)=>{for(let k=b;k<F.length;k++){const T=F[k]=B?_r(F[k]):Pn(F[k]);S(null,T,K,J,ht,yt,xt,Ot,B)}},st=(F,K,J,ht,yt,xt,Ot)=>{const B=K.el=F.el;let{patchFlag:b,dynamicChildren:k,dirs:T}=K;b|=F.patchFlag&16;const D=F.props||Te,N=K.props||Te;let Q;J&&Dr(J,!1),(Q=N.onVnodeBeforeUpdate)&&bn(Q,J,K,F),T&&jn(K,F,J,"beforeUpdate"),J&&Dr(J,!0);const nt=yt&&K.type!=="foreignObject";if(k?ct(F.dynamicChildren,k,B,J,ht,nt,xt):Ot||wt(F,K,B,null,J,ht,nt,xt,!1),b>0){if(b&16)gt(B,K,D,N,J,ht,yt);else if(b&2&&D.class!==N.class&&c(B,"class",null,N.class,yt),b&4&&c(B,"style",D.style,N.style,yt),b&8){const vt=K.dynamicProps;for(let Tt=0;Tt<vt.length;Tt++){const jt=vt[Tt],Wt=D[jt],Qt=N[jt];(Qt!==Wt||jt==="value")&&c(B,jt,Wt,Qt,yt,F.children,J,ht,Nt)}}b&1&&F.children!==K.children&&y(B,K.children)}else!Ot&&k==null&&gt(B,K,D,N,J,ht,yt);((Q=N.onVnodeUpdated)||T)&&sn(()=>{Q&&bn(Q,J,K,F),T&&jn(K,F,J,"updated")},ht)},ct=(F,K,J,ht,yt,xt,Ot)=>{for(let B=0;B<K.length;B++){const b=F[B],k=K[B],T=b.el&&(b.type===Gt||!Fr(b,k)||b.shapeFlag&70)?w(b.el):J;S(b,k,T,null,ht,yt,xt,Ot,!0)}},gt=(F,K,J,ht,yt,xt,Ot)=>{if(J!==ht){if(J!==Te)for(const B in J)!Qi(B)&&!(B in ht)&&c(F,B,J[B],null,Ot,K.children,yt,xt,Nt);for(const B in ht){if(Qi(B))continue;const b=ht[B],k=J[B];b!==k&&B!=="value"&&c(F,B,k,b,Ot,K.children,yt,xt,Nt)}"value"in ht&&c(F,"value",J.value,ht.value)}},at=(F,K,J,ht,yt,xt,Ot,B,b)=>{const k=K.el=F?F.el:d(""),T=K.anchor=F?F.anchor:d("");let{patchFlag:D,dynamicChildren:N,slotScopeIds:Q}=K;Q&&(B=B?B.concat(Q):Q),F==null?(i(k,J,ht),i(T,J,ht),Y(K.children,J,T,yt,xt,Ot,B,b)):D>0&&D&64&&N&&F.dynamicChildren?(ct(F.dynamicChildren,N,J,yt,xt,Ot,B),(K.key!=null||yt&&K===yt.subTree)&&Ph(F,K,!0)):wt(F,K,J,T,yt,xt,Ot,B,b)},bt=(F,K,J,ht,yt,xt,Ot,B,b)=>{K.slotScopeIds=B,F==null?K.shapeFlag&512?yt.ctx.activate(K,J,ht,Ot,b):Lt(K,J,ht,yt,xt,Ot,b):Et(F,K,b)},Lt=(F,K,J,ht,yt,xt,Ot)=>{const B=F.component=cm(F,ht,yt);if(Ms(F)&&(B.ctx.renderer=St),um(B),B.asyncDep){if(yt&&yt.registerDep(B,Ct),!F.el){const b=B.subTree=rt(pn);C(null,b,K,J)}return}Ct(B,F,K,J,yt,xt,Ot)},Et=(F,K,J)=>{const ht=K.component=F.component;if(wf(F,K,J))if(ht.asyncDep&&!ht.asyncResolved){Vt(ht,K,J);return}else ht.next=K,mf(ht.update),ht.update();else K.el=F.el,ht.vnode=K},Ct=(F,K,J,ht,yt,xt,Ot)=>{const B=()=>{if(F.isMounted){let{next:T,bu:D,u:N,parent:Q,vnode:nt}=F,vt=T,Tt;Dr(F,!1),T?(T.el=nt.el,Vt(F,T,Ot)):T=nt,D&&Jo(D),(Tt=T.props&&T.props.onVnodeBeforeUpdate)&&bn(Tt,Q,T,nt),Dr(F,!0);const jt=oa(F),Wt=F.subTree;F.subTree=jt,S(Wt,jt,w(Wt.el),pt(Wt),F,yt,xt),T.el=jt.el,vt===null&&xf(F,jt.el),N&&sn(N,yt),(Tt=T.props&&T.props.onVnodeUpdated)&&sn(()=>bn(Tt,Q,T,nt),yt)}else{let T;const{el:D,props:N}=K,{bm:Q,m:nt,parent:vt}=F,Tt=mi(K);if(Dr(F,!1),Q&&Jo(Q),!Tt&&(T=N&&N.onVnodeBeforeMount)&&bn(T,vt,K),Dr(F,!0),D&&le){const jt=()=>{F.subTree=oa(F),le(D,F.subTree,F,yt,null)};Tt?K.type.__asyncLoader().then(()=>!F.isUnmounted&&jt()):jt()}else{const jt=F.subTree=oa(F);S(null,jt,J,ht,F,yt,xt),K.el=jt.el}if(nt&&sn(nt,yt),!Tt&&(T=N&&N.onVnodeMounted)){const jt=K;sn(()=>bn(T,vt,jt),yt)}(K.shapeFlag&256||vt&&mi(vt.vnode)&&vt.vnode.shapeFlag&256)&&F.a&&sn(F.a,yt),F.isMounted=!0,K=J=ht=null}},b=F.effect=new Qa(B,()=>sl(k),F.scope),k=F.update=()=>b.run();k.id=F.uid,Dr(F,!0),k()},Vt=(F,K,J)=>{K.component=F;const ht=F.vnode.props;F.vnode=K,F.next=null,Kf(F,K.props,ht,J),Yf(F,K.children,J),ki(),hc(),Li()},wt=(F,K,J,ht,yt,xt,Ot,B,b=!1)=>{const k=F&&F.children,T=F?F.shapeFlag:0,D=K.children,{patchFlag:N,shapeFlag:Q}=K;if(N>0){if(N&128){Dt(k,D,J,ht,yt,xt,Ot,B,b);return}else if(N&256){pe(k,D,J,ht,yt,xt,Ot,B,b);return}}Q&8?(T&16&&Nt(k,yt,xt),D!==k&&y(J,D)):T&16?Q&16?Dt(k,D,J,ht,yt,xt,Ot,B,b):Nt(k,yt,xt,!0):(T&8&&y(J,""),Q&16&&Y(D,J,ht,yt,xt,Ot,B,b))},pe=(F,K,J,ht,yt,xt,Ot,B,b)=>{F=F||pi,K=K||pi;const k=F.length,T=K.length,D=Math.min(k,T);let N;for(N=0;N<D;N++){const Q=K[N]=b?_r(K[N]):Pn(K[N]);S(F[N],Q,J,null,yt,xt,Ot,B,b)}k>T?Nt(F,yt,xt,!0,!1,D):Y(K,J,ht,yt,xt,Ot,B,b,D)},Dt=(F,K,J,ht,yt,xt,Ot,B,b)=>{let k=0;const T=K.length;let D=F.length-1,N=T-1;for(;k<=D&&k<=N;){const Q=F[k],nt=K[k]=b?_r(K[k]):Pn(K[k]);if(Fr(Q,nt))S(Q,nt,J,null,yt,xt,Ot,B,b);else break;k++}for(;k<=D&&k<=N;){const Q=F[D],nt=K[N]=b?_r(K[N]):Pn(K[N]);if(Fr(Q,nt))S(Q,nt,J,null,yt,xt,Ot,B,b);else break;D--,N--}if(k>D){if(k<=N){const Q=N+1,nt=Q<T?K[Q].el:ht;for(;k<=N;)S(null,K[k]=b?_r(K[k]):Pn(K[k]),J,nt,yt,xt,Ot,B,b),k++}}else if(k>N)for(;k<=D;)$t(F[k],yt,xt,!0),k++;else{const Q=k,nt=k,vt=new Map;for(k=nt;k<=N;k++){const ue=K[k]=b?_r(K[k]):Pn(K[k]);ue.key!=null&&vt.set(ue.key,k)}let Tt,jt=0;const Wt=N-nt+1;let Qt=!1,be=0;const Xt=new Array(Wt);for(k=0;k<Wt;k++)Xt[k]=0;for(k=Q;k<=D;k++){const ue=F[k];if(jt>=Wt){$t(ue,yt,xt,!0);continue}let we;if(ue.key!=null)we=vt.get(ue.key);else for(Tt=nt;Tt<=N;Tt++)if(Xt[Tt-nt]===0&&Fr(ue,K[Tt])){we=Tt;break}we===void 0?$t(ue,yt,xt,!0):(Xt[we-nt]=k+1,we>=be?be=we:Qt=!0,S(ue,K[we],J,null,yt,xt,Ot,B,b),jt++)}const ye=Qt?em(Xt):pi;for(Tt=ye.length-1,k=Wt-1;k>=0;k--){const ue=nt+k,we=K[ue],Re=ue+1<T?K[ue+1].el:ht;Xt[k]===0?S(null,we,J,Re,yt,xt,Ot,B,b):Qt&&(Tt<0||k!==ye[Tt]?Bt(we,J,Re,2):Tt--)}}},Bt=(F,K,J,ht,yt=null)=>{const{el:xt,type:Ot,transition:B,children:b,shapeFlag:k}=F;if(k&6){Bt(F.component.subTree,K,J,ht);return}if(k&128){F.suspense.move(K,J,ht);return}if(k&64){Ot.move(F,K,J,St);return}if(Ot===Gt){i(xt,K,J);for(let D=0;D<b.length;D++)Bt(b[D],K,J,ht);i(F.anchor,K,J);return}if(Ot===eo){V(F,K,J);return}if(ht!==2&&k&1&&B)if(ht===0)B.beforeEnter(xt),i(xt,K,J),sn(()=>B.enter(xt),yt);else{const{leave:D,delayLeave:N,afterLeave:Q}=B,nt=()=>i(xt,K,J),vt=()=>{D(xt,()=>{nt(),Q&&Q()})};N?N(xt,nt,vt):vt()}else i(xt,K,J)},$t=(F,K,J,ht=!1,yt=!1)=>{const{type:xt,props:Ot,ref:B,children:b,dynamicChildren:k,shapeFlag:T,patchFlag:D,dirs:N}=F;if(B!=null&&us(B,null,J,F,!0),T&256){K.ctx.deactivate(F);return}const Q=T&1&&N,nt=!mi(F);let vt;if(nt&&(vt=Ot&&Ot.onVnodeBeforeUnmount)&&bn(vt,K,F),T&6)ae(F.component,J,ht);else{if(T&128){F.suspense.unmount(J,ht);return}Q&&jn(F,null,K,"beforeUnmount"),T&64?F.type.remove(F,K,J,yt,St,ht):k&&(xt!==Gt||D>0&&D&64)?Nt(k,K,J,!1,!0):(xt===Gt&&D&384||!yt&&T&16)&&Nt(b,K,J),ht&&Me(F)}(nt&&(vt=Ot&&Ot.onVnodeUnmounted)||Q)&&sn(()=>{vt&&bn(vt,K,F),Q&&jn(F,null,K,"unmounted")},J)},Me=F=>{const{type:K,el:J,anchor:ht,transition:yt}=F;if(K===Gt){fe(J,ht);return}if(K===eo){E(F);return}const xt=()=>{l(J),yt&&!yt.persisted&&yt.afterLeave&&yt.afterLeave()};if(F.shapeFlag&1&&yt&&!yt.persisted){const{leave:Ot,delayLeave:B}=yt,b=()=>Ot(J,xt);B?B(F.el,xt,b):b()}else xt()},fe=(F,K)=>{let J;for(;F!==K;)J=M(F),l(F),F=J;l(K)},ae=(F,K,J)=>{const{bum:ht,scope:yt,update:xt,subTree:Ot,um:B}=F;ht&&Jo(ht),yt.stop(),xt&&(xt.active=!1,$t(Ot,F,K,J)),B&&sn(B,K),sn(()=>{F.isUnmounted=!0},K),K&&K.pendingBranch&&!K.isUnmounted&&F.asyncDep&&!F.asyncResolved&&F.suspenseId===K.pendingId&&(K.deps--,K.deps===0&&K.resolve())},Nt=(F,K,J,ht=!1,yt=!1,xt=0)=>{for(let Ot=xt;Ot<F.length;Ot++)$t(F[Ot],K,J,ht,yt)},pt=F=>F.shapeFlag&6?pt(F.component.subTree):F.shapeFlag&128?F.suspense.next():M(F.anchor||F.el),Pt=(F,K,J)=>{F==null?K._vnode&&$t(K._vnode,null,null,!0):S(K._vnode||null,F,K,null,null,null,J),hc(),as(),K._vnode=F},St={p:S,um:$t,m:Bt,r:Me,mt:Lt,mc:Y,pc:wt,pbc:ct,n:pt,o:t};let zt,le;return n&&([zt,le]=n(St)),{render:Pt,hydrate:zt,createApp:Gf(Pt,zt)}}function Dr({effect:t,update:n},o){t.allowRecurse=n.allowRecurse=o}function Ph(t,n,o=!1){const i=t.children,l=n.children;if(Kt(i)&&Kt(l))for(let c=0;c<i.length;c++){const h=i[c];let d=l[c];d.shapeFlag&1&&!d.dynamicChildren&&((d.patchFlag<=0||d.patchFlag===32)&&(d=l[c]=_r(l[c]),d.el=h.el),o||Ph(h,d)),d.type===_i&&(d.el=h.el)}}function em(t){const n=t.slice(),o=[0];let i,l,c,h,d;const m=t.length;for(i=0;i<m;i++){const g=t[i];if(g!==0){if(l=o[o.length-1],t[l]<g){n[i]=l,o.push(i);continue}for(c=0,h=o.length-1;c<h;)d=c+h>>1,t[o[d]]<g?c=d+1:h=d;g<t[o[c]]&&(c>0&&(n[i]=o[c-1]),o[c]=i)}}for(c=o.length,h=o[c-1];c-- >0;)o[c]=h,h=n[h];return o}const nm=t=>t.__isTeleport,Gt=Symbol.for("v-fgt"),_i=Symbol.for("v-txt"),pn=Symbol.for("v-cmt"),eo=Symbol.for("v-stc"),no=[];let En=null;function Z(t=!1){no.push(En=t?null:[])}function rm(){no.pop(),En=no[no.length-1]||null}let ho=1;function kc(t){ho+=t}function Sh(t){return t.dynamicChildren=ho>0?En||pi:null,rm(),ho>0&&En&&En.push(t),t}function et(t,n,o,i,l,c){return Sh(it(t,n,o,i,l,c,!0))}function At(t,n,o,i,l){return Sh(rt(t,n,o,i,l,!0))}function hs(t){return t?t.__v_isVNode===!0:!1}function Fr(t,n){return t.type===n.type&&t.key===n.key}const Ss="__vInternal",Eh=({key:t})=>t??null,Xo=({ref:t,ref_key:n,ref_for:o})=>(typeof t=="number"&&(t=""+t),t!=null?De(t)||Ie(t)||se(t)?{i:Ue,r:t,k:n,f:!!o}:t:null);function it(t,n=null,o=null,i=0,l=null,c=t===Gt?0:1,h=!1,d=!1){const m={__v_isVNode:!0,__v_skip:!0,type:t,props:n,key:n&&Eh(n),ref:n&&Xo(n),scopeId:Ls,slotScopeIds:null,children:o,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:c,patchFlag:i,dynamicProps:l,dynamicChildren:null,appContext:null,ctx:Ue};return d?(hl(m,o),c&128&&t.normalize(m)):o&&(m.shapeFlag|=De(o)?8:16),ho>0&&!h&&En&&(m.patchFlag>0||c&6)&&m.patchFlag!==32&&En.push(m),m}const rt=im;function im(t,n=null,o=null,i=0,l=null,c=!1){if((!t||t===_h)&&(t=pn),hs(t)){const d=kr(t,n,!0);return o&&hl(d,o),ho>0&&!c&&En&&(d.shapeFlag&6?En[En.indexOf(t)]=d:En.push(d)),d.patchFlag|=-2,d}if(fm(t)&&(t=t.__vccOpts),n){n=om(n);let{class:d,style:m}=n;d&&!De(d)&&(n.class=tn(d)),Oe(m)&&(Yu(m)&&!Kt(m)&&(m=je({},m)),n.style=$r(m))}const h=De(t)?1:kf(t)?128:nm(t)?64:Oe(t)?4:se(t)?2:0;return it(t,n,o,i,l,h,c,!0)}function om(t){return t?Yu(t)||Ss in t?je({},t):t:null}function kr(t,n,o=!1){const{props:i,ref:l,patchFlag:c,children:h}=t,d=n?sm(i||{},n):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:d,key:d&&Eh(d),ref:n&&n.ref?o&&l?Kt(l)?l.concat(Xo(n)):[l,Xo(n)]:Xo(n):l,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:h,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:n&&t.type!==Gt?c===-1?16:c|16:c,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&kr(t.ssContent),ssFallback:t.ssFallback&&kr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function oe(t=" ",n=0){return rt(_i,null,t,n)}function Th(t,n){const o=rt(eo,null,t);return o.staticCount=n,o}function Ht(t="",n=!1){return n?(Z(),At(pn,null,t)):rt(pn,null,t)}function Pn(t){return t==null||typeof t=="boolean"?rt(pn):Kt(t)?rt(Gt,null,t.slice()):typeof t=="object"?_r(t):rt(_i,null,String(t))}function _r(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:kr(t)}function hl(t,n){let o=0;const{shapeFlag:i}=t;if(n==null)n=null;else if(Kt(n))o=16;else if(typeof n=="object")if(i&65){const l=n.default;l&&(l._c&&(l._d=!1),hl(t,l()),l._c&&(l._d=!0));return}else{o=32;const l=n._;!l&&!(Ss in n)?n._ctx=Ue:l===3&&Ue&&(Ue.slots._===1?n._=1:(n._=2,t.patchFlag|=1024))}else se(n)?(n={default:n,_ctx:Ue},o=32):(n=String(n),i&64?(o=16,n=[oe(n)]):o=8);t.children=n,t.shapeFlag|=o}function sm(...t){const n={};for(let o=0;o<t.length;o++){const i=t[o];for(const l in i)if(l==="class")n.class!==i.class&&(n.class=tn([n.class,i.class]));else if(l==="style")n.style=$r([n.style,i.style]);else if(_o(l)){const c=n[l],h=i[l];h&&c!==h&&!(Kt(c)&&c.includes(h))&&(n[l]=c?[].concat(c,h):h)}else l!==""&&(n[l]=i[l])}return n}function bn(t,n,o,i=null){wn(t,n,7,[o,i])}const am=wh();let lm=0;function cm(t,n,o){const i=t.type,l=(n?n.appContext:t.appContext)||am,c={uid:lm++,vnode:t,type:i,parent:n,appContext:l,root:null,next:null,subTree:null,effect:null,update:null,scope:new Du(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(l.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:kh(i,l),emitsOptions:oh(i,l),emit:null,emitted:null,propsDefaults:Te,inheritAttrs:i.inheritAttrs,ctx:Te,data:Te,props:Te,attrs:Te,slots:Te,refs:Te,setupState:Te,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:o,suspenseId:o?o.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return c.ctx={_:c},c.root=n?n.root:c,c.emit=yf.bind(null,c),t.ce&&t.ce(c),c}let Fe=null;const Oh=()=>Fe||Ue;let pl,li,Lc="__VUE_INSTANCE_SETTERS__";(li=La()[Lc])||(li=La()[Lc]=[]),li.push(t=>Fe=t),pl=t=>{li.length>1?li.forEach(n=>n(t)):li[0](t)};const yi=t=>{pl(t),t.scope.on()},Gr=()=>{Fe&&Fe.scope.off(),pl(null)};function Rh(t){return t.vnode.shapeFlag&4}let po=!1;function um(t,n=!1){po=n;const{props:o,children:i}=t.vnode,l=Rh(t);qf(t,o,l,n),Jf(t,i);const c=l?hm(t,n):void 0;return po=!1,c}function hm(t,n){const o=t.type;t.accessCache=Object.create(null),t.proxy=bs(new Proxy(t.ctx,Df));const{setup:i}=o;if(i){const l=t.setupContext=i.length>1?Bh(t):null;yi(t),ki();const c=wr(i,t,0,[t.props,l]);if(Li(),Gr(),Ou(c)){if(c.then(Gr,Gr),n)return c.then(h=>{Mc(t,h,n)}).catch(h=>{ws(h,t,0)});t.asyncDep=c}else Mc(t,c,n)}else Ah(t,n)}function Mc(t,n,o){se(n)?t.type.__ssrInlineRender?t.ssrRender=n:t.render=n:Oe(n)&&(t.setupState=eh(n)),Ah(t,o)}let Cc;function Ah(t,n,o){const i=t.type;if(!t.render){if(!n&&Cc&&!i.render){const l=i.template||cl(t).template;if(l){const{isCustomElement:c,compilerOptions:h}=t.appContext.config,{delimiters:d,compilerOptions:m}=i,g=je(je({isCustomElement:c,delimiters:d},h),m);i.render=Cc(l,g)}}t.render=i.render||Tn}yi(t),ki(),Nf(t),Li(),Gr()}function pm(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(n,o){return ln(t,"get","$attrs"),n[o]}}))}function Bh(t){const n=o=>{t.exposed=o||{}};return{get attrs(){return pm(t)},slots:t.slots,emit:t.emit,expose:n}}function Es(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(eh(bs(t.exposed)),{get(n,o){if(o in n)return n[o];if(o in to)return to[o](t)},has(n,o){return o in n||o in to}}))}function dm(t,n=!0){return se(t)?t.displayName||t.name:t.name||n&&t.__name}function fm(t){return se(t)&&"__vccOpts"in t}const de=(t,n)=>pf(t,n,po);function dl(t,n,o){const i=arguments.length;return i===2?Oe(n)&&!Kt(n)?hs(n)?rt(t,null,[n]):rt(t,n):rt(t,null,n):(i>3?o=Array.prototype.slice.call(arguments,2):i===3&&hs(o)&&(o=[o]),rt(t,n,o))}const mm=Symbol.for("v-scx"),gm=()=>xn(mm),_m="3.3.4",ym="http://www.w3.org/2000/svg",Hr=typeof document<"u"?document:null,Pc=Hr&&Hr.createElement("template"),vm={insert:(t,n,o)=>{n.insertBefore(t,o||null)},remove:t=>{const n=t.parentNode;n&&n.removeChild(t)},createElement:(t,n,o,i)=>{const l=n?Hr.createElementNS(ym,t):Hr.createElement(t,o?{is:o}:void 0);return t==="select"&&i&&i.multiple!=null&&l.setAttribute("multiple",i.multiple),l},createText:t=>Hr.createTextNode(t),createComment:t=>Hr.createComment(t),setText:(t,n)=>{t.nodeValue=n},setElementText:(t,n)=>{t.textContent=n},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Hr.querySelector(t),setScopeId(t,n){t.setAttribute(n,"")},insertStaticContent(t,n,o,i,l,c){const h=o?o.previousSibling:n.lastChild;if(l&&(l===c||l.nextSibling))for(;n.insertBefore(l.cloneNode(!0),o),!(l===c||!(l=l.nextSibling)););else{Pc.innerHTML=i?`<svg>${t}</svg>`:t;const d=Pc.content;if(i){const m=d.firstChild;for(;m.firstChild;)d.appendChild(m.firstChild);d.removeChild(m)}n.insertBefore(d,o)}return[h?h.nextSibling:n.firstChild,o?o.previousSibling:n.lastChild]}};function bm(t,n,o){const i=t._vtc;i&&(n=(n?[n,...i]:[...i]).join(" ")),n==null?t.removeAttribute("class"):o?t.setAttribute("class",n):t.className=n}function wm(t,n,o){const i=t.style,l=De(o);if(o&&!l){if(n&&!De(n))for(const c in n)o[c]==null&&Ia(i,c,"");for(const c in o)Ia(i,c,o[c])}else{const c=i.display;l?n!==o&&(i.cssText=o):n&&t.removeAttribute("style"),"_vod"in t&&(i.display=c)}}const Sc=/\s*!important$/;function Ia(t,n,o){if(Kt(o))o.forEach(i=>Ia(t,n,i));else if(o==null&&(o=""),n.startsWith("--"))t.setProperty(n,o);else{const i=xm(t,n);Sc.test(o)?t.setProperty(xi(i),o.replace(Sc,""),"important"):t[i]=o}}const Ec=["Webkit","Moz","ms"],la={};function xm(t,n){const o=la[n];if(o)return o;let i=Hn(n);if(i!=="filter"&&i in t)return la[n]=i;i=ys(i);for(let l=0;l<Ec.length;l++){const c=Ec[l]+i;if(c in t)return la[n]=c}return n}const Tc="http://www.w3.org/1999/xlink";function km(t,n,o,i,l){if(i&&n.startsWith("xlink:"))o==null?t.removeAttributeNS(Tc,n.slice(6,n.length)):t.setAttributeNS(Tc,n,o);else{const c=Sd(n);o==null||c&&!Bu(o)?t.removeAttribute(n):t.setAttribute(n,c?"":o)}}function Lm(t,n,o,i,l,c,h){if(n==="innerHTML"||n==="textContent"){i&&h(i,l,c),t[n]=o??"";return}const d=t.tagName;if(n==="value"&&d!=="PROGRESS"&&!d.includes("-")){t._value=o;const g=d==="OPTION"?t.getAttribute("value"):t.value,y=o??"";g!==y&&(t.value=y),o==null&&t.removeAttribute(n);return}let m=!1;if(o===""||o==null){const g=typeof t[n];g==="boolean"?o=Bu(o):o==null&&g==="string"?(o="",m=!0):g==="number"&&(o=0,m=!0)}try{t[n]=o}catch{}m&&t.removeAttribute(n)}function ui(t,n,o,i){t.addEventListener(n,o,i)}function Mm(t,n,o,i){t.removeEventListener(n,o,i)}function Cm(t,n,o,i,l=null){const c=t._vei||(t._vei={}),h=c[n];if(i&&h)h.value=i;else{const[d,m]=Pm(n);if(i){const g=c[n]=Tm(i,l);ui(t,d,g,m)}else h&&(Mm(t,d,h,m),c[n]=void 0)}}const Oc=/(?:Once|Passive|Capture)$/;function Pm(t){let n;if(Oc.test(t)){n={};let i;for(;i=t.match(Oc);)t=t.slice(0,t.length-i[0].length),n[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):xi(t.slice(2)),n]}let ca=0;const Sm=Promise.resolve(),Em=()=>ca||(Sm.then(()=>ca=0),ca=Date.now());function Tm(t,n){const o=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=o.attached)return;wn(Om(i,o.value),n,5,[i])};return o.value=t,o.attached=Em(),o}function Om(t,n){if(Kt(n)){const o=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{o.call(t),t._stopped=!0},n.map(i=>l=>!l._stopped&&i&&i(l))}else return n}const Rc=/^on[a-z]/,Rm=(t,n,o,i,l=!1,c,h,d,m)=>{n==="class"?bm(t,i,l):n==="style"?wm(t,o,i):_o(n)?Ka(n)||Cm(t,n,o,i,h):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):Am(t,n,i,l))?Lm(t,n,i,c,h,d,m):(n==="true-value"?t._trueValue=i:n==="false-value"&&(t._falseValue=i),km(t,n,i,l))};function Am(t,n,o,i){return i?!!(n==="innerHTML"||n==="textContent"||n in t&&Rc.test(n)&&se(o)):n==="spellcheck"||n==="draggable"||n==="translate"||n==="form"||n==="list"&&t.tagName==="INPUT"||n==="type"&&t.tagName==="TEXTAREA"||Rc.test(n)&&De(o)?!1:n in t}const pr="transition",Zi="animation",fl=(t,{slots:n})=>dl(Pf,Bm(t),n);fl.displayName="Transition";const Ih={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};fl.props=je({},hh,Ih);const zr=(t,n=[])=>{Kt(t)?t.forEach(o=>o(...n)):t&&t(...n)},Ac=t=>t?Kt(t)?t.some(n=>n.length>1):t.length>1:!1;function Bm(t){const n={};for(const at in t)at in Ih||(n[at]=t[at]);if(t.css===!1)return n;const{name:o="v",type:i,duration:l,enterFromClass:c=`${o}-enter-from`,enterActiveClass:h=`${o}-enter-active`,enterToClass:d=`${o}-enter-to`,appearFromClass:m=c,appearActiveClass:g=h,appearToClass:y=d,leaveFromClass:w=`${o}-leave-from`,leaveActiveClass:M=`${o}-leave-active`,leaveToClass:I=`${o}-leave-to`}=t,O=Im(l),S=O&&O[0],U=O&&O[1],{onBeforeEnter:C,onEnter:R,onEnterCancelled:V,onLeave:E,onLeaveCancelled:z,onBeforeAppear:W=C,onAppear:ot=R,onAppearCancelled:Y=V}=n,st=(at,bt,Lt)=>{jr(at,bt?y:d),jr(at,bt?g:h),Lt&&Lt()},ct=(at,bt)=>{at._isLeaving=!1,jr(at,w),jr(at,I),jr(at,M),bt&&bt()},gt=at=>(bt,Lt)=>{const Et=at?ot:R,Ct=()=>st(bt,at,Lt);zr(Et,[bt,Ct]),Bc(()=>{jr(bt,at?m:c),dr(bt,at?y:d),Ac(Et)||Ic(bt,i,S,Ct)})};return je(n,{onBeforeEnter(at){zr(C,[at]),dr(at,c),dr(at,h)},onBeforeAppear(at){zr(W,[at]),dr(at,m),dr(at,g)},onEnter:gt(!1),onAppear:gt(!0),onLeave(at,bt){at._isLeaving=!0;const Lt=()=>ct(at,bt);dr(at,w),jm(),dr(at,M),Bc(()=>{at._isLeaving&&(jr(at,w),dr(at,I),Ac(E)||Ic(at,i,U,Lt))}),zr(E,[at,Lt])},onEnterCancelled(at){st(at,!1),zr(V,[at])},onAppearCancelled(at){st(at,!0),zr(Y,[at])},onLeaveCancelled(at){ct(at),zr(z,[at])}})}function Im(t){if(t==null)return null;if(Oe(t))return[ua(t.enter),ua(t.leave)];{const n=ua(t);return[n,n]}}function ua(t){return xd(t)}function dr(t,n){n.split(/\s+/).forEach(o=>o&&t.classList.add(o)),(t._vtc||(t._vtc=new Set)).add(n)}function jr(t,n){n.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const{_vtc:o}=t;o&&(o.delete(n),o.size||(t._vtc=void 0))}function Bc(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Dm=0;function Ic(t,n,o,i){const l=t._endId=++Dm,c=()=>{l===t._endId&&i()};if(o)return setTimeout(c,o);const{type:h,timeout:d,propCount:m}=zm(t,n);if(!h)return i();const g=h+"end";let y=0;const w=()=>{t.removeEventListener(g,M),c()},M=I=>{I.target===t&&++y>=m&&w()};setTimeout(()=>{y<m&&w()},d+1),t.addEventListener(g,M)}function zm(t,n){const o=window.getComputedStyle(t),i=O=>(o[O]||"").split(", "),l=i(`${pr}Delay`),c=i(`${pr}Duration`),h=Dc(l,c),d=i(`${Zi}Delay`),m=i(`${Zi}Duration`),g=Dc(d,m);let y=null,w=0,M=0;n===pr?h>0&&(y=pr,w=h,M=c.length):n===Zi?g>0&&(y=Zi,w=g,M=m.length):(w=Math.max(h,g),y=w>0?h>g?pr:Zi:null,M=y?y===pr?c.length:m.length:0);const I=y===pr&&/\b(transform|all)(,|$)/.test(i(`${pr}Property`).toString());return{type:y,timeout:w,propCount:M,hasTransform:I}}function Dc(t,n){for(;t.length<n.length;)t=t.concat(t);return Math.max(...n.map((o,i)=>zc(o)+zc(t[i])))}function zc(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function jm(){return document.body.offsetHeight}const jc=t=>{const n=t.props["onUpdate:modelValue"]||!1;return Kt(n)?o=>Jo(n,o):n};function Nm(t){t.target.composing=!0}function Nc(t){const n=t.target;n.composing&&(n.composing=!1,n.dispatchEvent(new Event("input")))}const Fm={created(t,{modifiers:{lazy:n,trim:o,number:i}},l){t._assign=jc(l);const c=i||l.props&&l.props.type==="number";ui(t,n?"change":"input",h=>{if(h.target.composing)return;let d=t.value;o&&(d=d.trim()),c&&(d=ka(d)),t._assign(d)}),o&&ui(t,"change",()=>{t.value=t.value.trim()}),n||(ui(t,"compositionstart",Nm),ui(t,"compositionend",Nc),ui(t,"change",Nc))},mounted(t,{value:n}){t.value=n??""},beforeUpdate(t,{value:n,modifiers:{lazy:o,trim:i,number:l}},c){if(t._assign=jc(c),t.composing||document.activeElement===t&&t.type!=="range"&&(o||i&&t.value.trim()===n||(l||t.type==="number")&&ka(t.value)===n))return;const h=n??"";t.value!==h&&(t.value=h)}},Hm=["ctrl","shift","alt","meta"],Vm={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,n)=>Hm.some(o=>t[`${o}Key`]&&!n.includes(o))},ps=(t,n)=>(o,...i)=>{for(let l=0;l<n.length;l++){const c=Vm[n[l]];if(c&&c(o,n))return}return t(o,...i)},Ts={beforeMount(t,{value:n},{transition:o}){t._vod=t.style.display==="none"?"":t.style.display,o&&n?o.beforeEnter(t):qi(t,n)},mounted(t,{value:n},{transition:o}){o&&n&&o.enter(t)},updated(t,{value:n,oldValue:o},{transition:i}){!n!=!o&&(i?n?(i.beforeEnter(t),qi(t,!0),i.enter(t)):i.leave(t,()=>{qi(t,!1)}):qi(t,n))},beforeUnmount(t,{value:n}){qi(t,n)}};function qi(t,n){t.style.display=n?t._vod:"none"}const $m=je({patchProp:Rm},vm);let ha,Fc=!1;function Um(){return ha=Fc?ha:Qf($m),Fc=!0,ha}const Gm=(...t)=>{const n=Um().createApp(...t),{mount:o}=n;return n.mount=i=>{const l=Zm(i);if(l)return o(l,!0,l instanceof SVGElement)},n};function Zm(t){return De(t)?document.querySelector(t):t}function Da(t,n={},o){for(const i in t){const l=t[i],c=o?`${o}:${i}`:i;typeof l=="object"&&l!==null?Da(l,n,c):typeof l=="function"&&(n[c]=l)}return n}const qm={run:t=>t()},Km=()=>qm,Dh=typeof console.createTask<"u"?console.createTask:Km;function Wm(t,n){const o=n.shift(),i=Dh(o);return t.reduce((l,c)=>l.then(()=>i.run(()=>c(...n))),Promise.resolve())}function Jm(t,n){const o=n.shift(),i=Dh(o);return Promise.all(t.map(l=>i.run(()=>l(...n))))}function pa(t,n){for(const o of[...t])o(n)}class Ym{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(n,o,i={}){if(!n||typeof o!="function")return()=>{};const l=n;let c;for(;this._deprecatedHooks[n];)c=this._deprecatedHooks[n],n=c.to;if(c&&!i.allowDeprecated){let h=c.message;h||(h=`${l} hook has been deprecated`+(c.to?`, please use ${c.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(h)||(console.warn(h),this._deprecatedMessages.add(h))}if(!o.name)try{Object.defineProperty(o,"name",{get:()=>"_"+n.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[n]=this._hooks[n]||[],this._hooks[n].push(o),()=>{o&&(this.removeHook(n,o),o=void 0)}}hookOnce(n,o){let i,l=(...c)=>(typeof i=="function"&&i(),i=void 0,l=void 0,o(...c));return i=this.hook(n,l),i}removeHook(n,o){if(this._hooks[n]){const i=this._hooks[n].indexOf(o);i!==-1&&this._hooks[n].splice(i,1),this._hooks[n].length===0&&delete this._hooks[n]}}deprecateHook(n,o){this._deprecatedHooks[n]=typeof o=="string"?{to:o}:o;const i=this._hooks[n]||[];delete this._hooks[n];for(const l of i)this.hook(n,l)}deprecateHooks(n){Object.assign(this._deprecatedHooks,n);for(const o in n)this.deprecateHook(o,n[o])}addHooks(n){const o=Da(n),i=Object.keys(o).map(l=>this.hook(l,o[l]));return()=>{for(const l of i.splice(0,i.length))l()}}removeHooks(n){const o=Da(n);for(const i in o)this.removeHook(i,o[i])}removeAllHooks(){for(const n in this._hooks)delete this._hooks[n]}callHook(n,...o){return o.unshift(n),this.callHookWith(Wm,n,...o)}callHookParallel(n,...o){return o.unshift(n),this.callHookWith(Jm,n,...o)}callHookWith(n,o,...i){const l=this._before||this._after?{name:o,args:i,context:{}}:void 0;this._before&&pa(this._before,l);const c=n(o in this._hooks?[...this._hooks[o]]:[],i);return c instanceof Promise?c.finally(()=>{this._after&&l&&pa(this._after,l)}):(this._after&&l&&pa(this._after,l),c)}beforeEach(n){return this._before=this._before||[],this._before.push(n),()=>{if(this._before!==void 0){const o=this._before.indexOf(n);o!==-1&&this._before.splice(o,1)}}}afterEach(n){return this._after=this._after||[],this._after.push(n),()=>{if(this._after!==void 0){const o=this._after.indexOf(n);o!==-1&&this._after.splice(o,1)}}}}function Xm(){return new Ym}function Qm(t){return Array.isArray(t)?t:[t]}const tg=["title","script","style","noscript"],Qo=["base","meta","link","style","script","noscript"],eg=["title","titleTemplate","templateParams","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"],ng=["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"],Hc=["tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent"],rg=typeof window<"u";function zh(t){let n=9;for(let o=0;o<t.length;)n=Math.imul(n^t.charCodeAt(o++),9**9);return((n^n>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function Vc(t){return t._h||zh(t._d?t._d:`${t.tag}:${t.textContent||t.innerHTML||""}:${Object.entries(t.props).map(([n,o])=>`${n}:${String(o)}`).join(",")}`)}function jh(t,n){const{props:o,tag:i}=t;if(ng.includes(i))return i;if(i==="link"&&o.rel==="canonical")return"canonical";if(o.charset)return"charset";const l=["id"];i==="meta"&&l.push("name","property","http-equiv");for(const c of l)if(typeof o[c]<"u"){const h=String(o[c]);return n&&!n(h)?!1:`${i}:${c}:${h}`}return!1}function $c(t,n){return t==null?n||null:typeof t=="function"?t(n):t}async function ig(t,n,o){const i={tag:t,props:{}};return n instanceof Promise&&(n=await n),t==="templateParams"?(i.props=n,i):["title","titleTemplate"].includes(t)?(n&&typeof n=="object"?(i.textContent=n.textContent,n.tagPriority&&(i.tagPriority=n.tagPriority)):i.textContent=n,i):typeof n=="string"?["script","noscript","style"].includes(t)?(t==="script"&&(/^(https?:)?\/\//.test(n)||n.startsWith("/"))?i.props.src=n:i.innerHTML=n,i):!1:(n.body&&(n.tagPosition="bodyClose",delete n.body),n.children&&(n.innerHTML=n.children,delete n.children),i.props=await sg({...n}),Object.keys(i.props).filter(l=>Hc.includes(l)).forEach(l=>{(!["innerHTML","textContent"].includes(l)||tg.includes(i.tag))&&(i[l]=i.props[l]),delete i.props[l]}),Hc.forEach(l=>{!i[l]&&o[l]&&(i[l]=o[l])}),["innerHTML","textContent"].forEach(l=>{if(i.tag==="script"&&typeof i[l]=="string"&&["application/ld+json","application/json"].includes(i.props.type))try{i[l]=JSON.parse(i[l])}catch{i[l]=""}typeof i[l]=="object"&&(i[l]=JSON.stringify(i[l]))}),i.props.class&&(i.props.class=og(i.props.class)),i.props.content&&Array.isArray(i.props.content)?i.props.content.map(l=>({...i,props:{...i.props,content:l}})):i)}function og(t){return typeof t=="object"&&!Array.isArray(t)&&(t=Object.keys(t).filter(n=>t[n])),(Array.isArray(t)?t.join(" "):t).split(" ").filter(n=>n.trim()).filter(Boolean).join(" ")}async function sg(t){for(const n of Object.keys(t)){const o=n.startsWith("data-");t[n]instanceof Promise&&(t[n]=await t[n]),String(t[n])==="true"?t[n]=o?"true":"":String(t[n])==="false"&&(o?t[n]="false":delete t[n])}return t}const ag=10;async function lg(t){const n=[];return Object.entries(t.resolvedInput).filter(([o,i])=>typeof i<"u"&&eg.includes(o)).forEach(([o,i])=>{const l=Qm(i);n.push(...l.map(c=>ig(o,c,t)).flat())}),(await Promise.all(n)).flat().filter(Boolean).map((o,i)=>(o._e=t._i,t.mode&&(o._m=t.mode),o._p=(t._i<<ag)+i,o))}const Uc={base:-1,title:1},Gc={critical:-8,high:-1,low:2};function ds(t){let n=10;const o=t.tagPriority;return typeof o=="number"?o:(t.tag==="meta"?(t.props.charset&&(n=-2),t.props["http-equiv"]==="content-security-policy"&&(n=0)):t.tag==="link"&&t.props.rel==="preconnect"?n=2:t.tag in Uc&&(n=Uc[t.tag]),typeof o=="string"&&o in Gc?n+Gc[o]:n)}const cg=[{prefix:"before:",offset:-1},{prefix:"after:",offset:1}];function Ki(t,n){if(typeof t!="string")return t;function o(h){if(["s","pageTitle"].includes(h))return n.pageTitle;let d;return h.includes(".")?d=h.split(".").reduce((m,g)=>m&&m[g]||void 0,n):d=n[h],typeof d<"u"?d||"":!1}let i=t;try{i=decodeURI(t)}catch{}(i.match(/%(\w+\.+\w+)|%(\w+)/g)||[]).sort().reverse().forEach(h=>{const d=o(h.slice(1));typeof d=="string"&&(t=t.replace(new RegExp(`\\${h}(\\W|$)`,"g"),(m,g)=>`${d}${g}`).trim())});const c=n.separator;return t.includes(c)&&(t.endsWith(c)&&(t=t.slice(0,-c.length).trim()),t.startsWith(c)&&(t=t.slice(c.length).trim()),t=t.replace(new RegExp(`\\${c}\\s*\\${c}`,"g"),c)),t}function ug(t){const n={tag:t.tagName.toLowerCase(),props:t.getAttributeNames().reduce((o,i)=>({...o,[i]:t.getAttribute(i)}),{}),innerHTML:t.innerHTML};return n._d=jh(n),n}async function hg(t,n={}){var y;const o=n.document||t.resolvedOptions.document;if(!o)return;const i=(await t.resolveTags()).map(w=>({tag:w,id:Qo.includes(w.tag)?Vc(w):w.tag,shouldRender:!0})),l={shouldRender:!0,tags:i};if(await t.hooks.callHook("dom:beforeRender",l),!l.shouldRender)return;let c=t._dom;if(!c){c={elMap:{htmlAttrs:o.documentElement,bodyAttrs:o.body}};for(const w of["body","head"]){const M=(y=o==null?void 0:o[w])==null?void 0:y.children;for(const I of[...M].filter(O=>Qo.includes(O.tagName.toLowerCase())))c.elMap[I.getAttribute("data-hid")||Vc(ug(I))]=I}}c.pendingSideEffects={...c.sideEffects||{}},c.sideEffects={};function h(w,M,I){const O=`${w}:${M}`;c.sideEffects[O]=I,delete c.pendingSideEffects[O]}function d({id:w,$el:M,tag:I}){const O=I.tag.endsWith("Attrs");c.elMap[w]=M,O||(["textContent","innerHTML"].forEach(S=>{I[S]&&I[S]!==M[S]&&(M[S]=I[S])}),h(w,"el",()=>{c.elMap[w].remove(),delete c.elMap[w]})),Object.entries(I.props).forEach(([S,U])=>{U=String(U);const C=`attr:${S}`;if(S==="class")for(const R of(U||"").split(" ").filter(Boolean))O&&h(w,`${C}:${R}`,()=>M.classList.remove(R)),!M.classList.contains(R)&&M.classList.add(R);else M.getAttribute(S)!==U&&M.setAttribute(S,U),O&&h(w,C,()=>M.removeAttribute(S))})}const m=[],g={bodyClose:void 0,bodyOpen:void 0,head:void 0};for(const w of i){const{tag:M,shouldRender:I,id:O}=w;if(I){if(M.tag==="title"){o.title=M.textContent;continue}w.$el=w.$el||c.elMap[O],w.$el?d(w):Qo.includes(M.tag)&&m.push(w)}}for(const w of m){const M=w.tag.tagPosition||"head";w.$el=o.createElement(w.tag.tag),d(w),g[M]=g[M]||o.createDocumentFragment(),g[M].appendChild(w.$el)}for(const w of i)await t.hooks.callHook("dom:renderTag",w,o,h);g.head&&o.head.appendChild(g.head),g.bodyOpen&&o.body.insertBefore(g.bodyOpen,o.body.firstChild),g.bodyClose&&o.body.appendChild(g.bodyClose),Object.values(c.pendingSideEffects).forEach(w=>w()),t._dom=c,await t.hooks.callHook("dom:rendered",{renders:i})}async function pg(t,n={}){const o=n.delayFn||(i=>setTimeout(i,10));return t._domUpdatePromise=t._domUpdatePromise||new Promise(i=>o(async()=>{await hg(t,n),delete t._domUpdatePromise,i()}))}function dg(t){return n=>{var i,l;const o=((l=(i=n.resolvedOptions.document)==null?void 0:i.head.querySelector('script[id="unhead:payload"]'))==null?void 0:l.innerHTML)||!1;return o&&n.push(JSON.parse(o)),{mode:"client",hooks:{"entries:updated":function(c){pg(c,t)}}}}}const fg=["templateParams","htmlAttrs","bodyAttrs"],mg={hooks:{"tag:normalise":function({tag:t}){["hid","vmid","key"].forEach(i=>{t.props[i]&&(t.key=t.props[i],delete t.props[i])});const o=jh(t)||(t.key?`${t.tag}:${t.key}`:!1);o&&(t._d=o)},"tags:resolve":function(t){const n={};t.tags.forEach(i=>{const l=(i.key?`${i.tag}:${i.key}`:i._d)||i._p,c=n[l];if(c){let d=i==null?void 0:i.tagDuplicateStrategy;if(!d&&fg.includes(i.tag)&&(d="merge"),d==="merge"){const m=c.props;["class","style"].forEach(g=>{i.props[g]&&m[g]&&(g==="style"&&!m[g].endsWith(";")&&(m[g]+=";"),i.props[g]=`${m[g]} ${i.props[g]}`)}),n[l].props={...m,...i.props};return}else if(i._e===c._e){c._duped=c._duped||[],i._d=`${c._d}:${c._duped.length+1}`,c._duped.push(i);return}else if(ds(i)>ds(c))return}const h=Object.keys(i.props).length+(i.innerHTML?1:0)+(i.textContent?1:0);if(Qo.includes(i.tag)&&h===0){delete n[l];return}n[l]=i});const o=[];Object.values(n).forEach(i=>{const l=i._duped;delete i._duped,o.push(i),l&&o.push(...l)}),t.tags=o}}},gg=t=>({mode:"server",hooks:{"tags:resolve":function(n){const o={};n.tags.filter(i=>["titleTemplate","templateParams"].includes(i.tag)&&i._m==="server").forEach(i=>{o[i.tag]=i.tag==="titleTemplate"?i.textContent:i.props}),Object.keys(o).length&&n.tags.push({tag:"script",innerHTML:JSON.stringify(o),props:{type:"text/javascript",id:"unhead:payload"}})}}}),Zc=["script","link","bodyAttrs"];function qc(t){const n={},o={};return Object.entries(t.props).forEach(([i,l])=>{i.startsWith("on")&&typeof l=="function"?o[i]=l:n[i]=l}),{props:n,eventHandlers:o}}const _g={hooks:{"ssr:render":function(t){t.tags=t.tags.map(n=>(!Zc.includes(n.tag)||!Object.entries(n.props).find(([o,i])=>o.startsWith("on")&&typeof i=="function")||(n.props=qc(n).props),n))},"tags:resolve":function(t){t.tags=t.tags.map(n=>{if(!Zc.includes(n.tag))return n;const{props:o,eventHandlers:i}=qc(n);return Object.keys(i).length&&(n.props=o,n._eventHandlers=i),n})},"dom:renderTag":function(t,n,o){if(!t.tag._eventHandlers)return;const i=t.tag.tag==="bodyAttrs"?n.defaultView:t.$el;Object.entries(t.tag._eventHandlers).forEach(([l,c])=>{const h=`${t.tag._d||t.tag._p}:${l}`,d=l.slice(2).toLowerCase(),m=`data-h-${d}`;if(o(t.id,h,()=>{}),t.$el.hasAttribute(m))return;const g=c;t.$el.setAttribute(m,""),i.addEventListener(d,g),t.entry&&o(t.id,h,()=>{i.removeEventListener(d,g),t.$el.removeAttribute(m)})})}}},yg=["link","style","script","noscript"],vg={hooks:{"tag:normalise":({tag:t})=>{t.key&&yg.includes(t.tag)&&(t.props["data-hid"]=t._h=zh(t.key))}}},bg={hooks:{"tags:resolve":t=>{const n=o=>{var i;return(i=t.tags.find(l=>l._d===o))==null?void 0:i._p};for(const{prefix:o,offset:i}of cg)for(const l of t.tags.filter(c=>typeof c.tagPriority=="string"&&c.tagPriority.startsWith(o))){const c=n(l.tagPriority.replace(o,""));typeof c<"u"&&(l._p=c+i)}t.tags.sort((o,i)=>o._p-i._p).sort((o,i)=>ds(o)-ds(i))}}},wg={hooks:{"tags:resolve":t=>{var c;const{tags:n}=t,o=(c=n.find(h=>h.tag==="title"))==null?void 0:c.textContent,i=n.findIndex(h=>h.tag==="templateParams"),l=i!==-1?n[i].props:{};l.separator=l.separator||"|",l.pageTitle=Ki(l.pageTitle||o||"",l);for(const h of n)if(["titleTemplate","title"].includes(h.tag)&&typeof h.textContent=="string")h.textContent=Ki(h.textContent,l);else if(h.tag==="meta"&&typeof h.props.content=="string")h.props.content=Ki(h.props.content,l);else if(h.tag==="link"&&typeof h.props.href=="string")h.props.href=Ki(h.props.href,l);else if(h.tag==="script"&&["application/json","application/ld+json"].includes(h.props.type)&&typeof h.innerHTML=="string")try{h.innerHTML=JSON.stringify(JSON.parse(h.innerHTML),(d,m)=>typeof m=="string"?Ki(m,l):m)}catch{}t.tags=n.filter(h=>h.tag!=="templateParams")}}},xg={hooks:{"tags:resolve":t=>{const{tags:n}=t;let o=n.findIndex(l=>l.tag==="titleTemplate");const i=n.findIndex(l=>l.tag==="title");if(i!==-1&&o!==-1){const l=$c(n[o].textContent,n[i].textContent);l!==null?n[i].textContent=l||n[i].textContent:delete n[i]}else if(o!==-1){const l=$c(n[o].textContent);l!==null&&(n[o].textContent=l,n[o].tag="title",o=-1)}o!==-1&&delete n[o],t.tags=n.filter(Boolean)}}};let Nh;function kg(t={}){const n=Lg(t);return n.use(dg()),Nh=n}function Kc(t,n){return!t||t==="server"&&n||t==="client"&&!n}function Lg(t={}){const n=Xm();n.addHooks(t.hooks||{}),t.document=t.document||(rg?document:void 0);const o=!t.document;t.plugins=[mg,gg,_g,vg,bg,wg,xg,...(t==null?void 0:t.plugins)||[]];const i=()=>n.callHook("entries:updated",h);let l=0,c=[];const h={resolvedOptions:t,hooks:n,headEntries(){return c},use(d){const m=typeof d=="function"?d(h):d;Kc(m.mode,o)&&n.addHooks(m.hooks||{})},push(d,m){const g={_i:l++,input:d,...m};return Kc(g.mode,o)&&(c.push(g),i()),{dispose(){c=c.filter(y=>y._i!==g._i),n.callHook("entries:updated",h),i()},patch(y){c=c.map(w=>(w._i===g._i&&(w.input=g.input=y),w)),i()}}},async resolveTags(){const d={tags:[],entries:[...c]};await n.callHook("entries:resolve",d);for(const m of d.entries){const g=m.resolvedInput||m.input;if(m.resolvedInput=await(m.transform?m.transform(g):g),m.resolvedInput)for(const y of await lg(m)){const w={tag:y,entry:m,resolvedOptions:h.resolvedOptions};await n.callHook("tag:normalise",w),d.tags.push(w.tag)}}return await n.callHook("tags:beforeResolve",d),await n.callHook("tags:resolve",d),d.tags},ssr:o};return t.plugins.forEach(d=>h.use(d)),h.hooks.callHook("init",h),h}function Mg(){return Nh}function ml(t,n={}){var o;return(o=Mg())==null?void 0:o.push(t,n)}const Cg=["title"],Pg={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Sg=it("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1),Eg=[Sg],Tg={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Og=it("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1),Rg=[Og],Fh={__name:"SwitchTheme",setup(t){const n={dark:"dark",light:"light"},o=qt(null);window!==void 0&&(localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?o.value="dark":o.value="light",Ke(o,(l,c)=>{document.documentElement.classList.add(l),document.documentElement.classList.remove(c),localStorage.setItem("theme",l)},{immediate:!0}));const i=()=>{o.value===n.dark?o.value=n.light:o.value=n.dark};return(l,c)=>(Z(),et("button",{type:"button",onClick:i,title:o.value===n.light?"Change to dark mode":"Change to light mode"},[o.value===n.dark?(Z(),et("svg",Pg,Eg)):(Z(),et("svg",Tg,Rg))],8,Cg))}},Ag=["aria-expanded"],Bg=it("span",{class:"sr-only"},"Open main menu",-1),Ig={key:0,class:"absolute top-full left-0 w-full z-50 bg-base-foreground text-base-content block shadow-md md:hidden print:hidden"},Dg={class:"font-normal container mx-auto"},zg={class:"flex flex-col m-0 p-0 border-t border-base-border"},jg={__name:"NavbarMobile",setup(t){const{header_links:n}={base_url:"/plecoptera/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://sfg.taxonworks.org/api/v1",project_token:"7JgzFyTsllL_1WuwvcQ_Zw",copyright_image:"https://licensebuttons.net/l/by/4.0/80x15.png",copyright_image_link:"http://creativecommons.org/licenses/by/4.0/",copyright_text:"Unless otherwise noted (e.g. image licenses may vary) all content is licensed under a Creative Commons Attribution 4.0 International License. (CC-BY)",header_logo_url:"https://sfg.taxonworks.org/s/78q89i",header_logo_text:"Plecoptera Species File",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Perla",link:"/perla"}],map_tiles:[{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],metadata:[{name:"description",content:"The Plecoptera Species File is a taxonomic, nomenclatural, and bibliographic database of the stoneflies of the world, including all extant and fossil taxa."},{name:"keywords",content:"taxonomy, species, Species File Group, Plecoptera, stoneflies, taxonpages, Plecoptera Species File"},{name:"robots",content:"follow"}],project_name:"Plecoptera Species File",project_citation:"Plecoptera Species File",project_authors:"DeWalt RE, Maehr MD, Hopkins H, Neu-Becker U, and Stueber G.",project_url:"https://plecoptera.speciesfile.org",project_old_url:"https://plecoptera.archive.speciesfile.org",focal_taxon:"Plecoptera",focal_taxon_common_name:"stoneflies",contact_email:"dewalt@illinois.edu",issue_trackers:[{label:"Data",description:"E.g. missing data that I'd like to add, misspellings, or invalid data",url:"https://github.com/sfg-taxonpages/plecoptera/issues"},{label:"Website",description:"E.g. a link, panel, or other feature is not working as expected",url:"https://github.com/SpeciesFileGroup/taxonpages/issues"}]},o=qt(!1),i=()=>{o.value=!o.value};return(l,c)=>{const h=dt("IconClose"),d=dt("IconHamburger"),m=dt("router-link"),g=dt("ClientOnly"),y=dt("TrackerReport"),w=dt("AnimationOpacity");return Z(),et(Gt,null,[it("button",{type:"button",class:"inline-flex items-center p-2 z-50 ml-3 text-sm text-primary-content rounded-lg md:hidden print:hidden",title:"Menu","aria-controls":"mobile-menu","aria-expanded":o.value,onClick:i},[Bg,o.value?(Z(),At(h,{key:0})):(Z(),At(d,{key:1,class:"w-6 h-6"}))],8,Ag),rt(w,null,{default:mt(()=>[o.value?(Z(),et("div",Ig,[it("nav",Dg,[it("ul",zg,[(Z(!0),et(Gt,null,ve(Yt(n),(M,I)=>(Z(),et("li",{key:I,class:"border-b border-base-border"},[rt(m,{to:M.link,class:"text-base-content w-full p-4 pt-3 pb-3 block box-border"},{default:mt(()=>[oe(te(M.label),1)]),_:2},1032,["to"])]))),128)),it("li",null,[rt(g,null,{default:mt(()=>[rt(Fh,{class:"text-base-content w-full p-4 pt-3 pb-3 block box-border border-b border-b-base-border"})]),_:1})]),it("li",null,[rt(y,{icon:"","button-class":"text-base-content w-full p-4 pt-3 pb-3 block box-border border-b border-b-base-border"})])])])])):Ht("",!0)]),_:1})],64)}}};function Ng(t){try{return new URL(t),!0}catch{return!1}}const Fg={class:"relative bg-header px-2 sm:px-4 py-2.5 shadow-sm shadow-base-muted pl-4 pr-4 h-9 align-middle flex items-center bg-primary-color"},Hg={class:"container flex flex-wrap justify-between items-center mx-auto font-medium text-secondary-content"},Vg=["src","alt"],$g={class:"relative hidden md:flex items-center ml-auto"},Ug={class:"text-sm leading-6 font-normal"},Gg={class:"flex space-x-8"},Zg={class:"flex items-center border-l ml-6 pl-6 border-base-muted border-opacity-50"},qg={class:"flex items-center ml-6 border-base-muted"},Kg={__name:"LayoutHeader",setup(t){const{header_links:n,header_logo_text:o,header_logo_url:i,base_url:l,project_name:c}={base_url:"/plecoptera/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://sfg.taxonworks.org/api/v1",project_token:"7JgzFyTsllL_1WuwvcQ_Zw",copyright_image:"https://licensebuttons.net/l/by/4.0/80x15.png",copyright_image_link:"http://creativecommons.org/licenses/by/4.0/",copyright_text:"Unless otherwise noted (e.g. image licenses may vary) all content is licensed under a Creative Commons Attribution 4.0 International License. (CC-BY)",header_logo_url:"https://sfg.taxonworks.org/s/78q89i",header_logo_text:"Plecoptera Species File",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Perla",link:"/perla"}],map_tiles:[{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],metadata:[{name:"description",content:"The Plecoptera Species File is a taxonomic, nomenclatural, and bibliographic database of the stoneflies of the world, including all extant and fossil taxa."},{name:"keywords",content:"taxonomy, species, Species File Group, Plecoptera, stoneflies, taxonpages, Plecoptera Species File"},{name:"robots",content:"follow"}],project_name:"Plecoptera Species File",project_citation:"Plecoptera Species File",project_authors:"DeWalt RE, Maehr MD, Hopkins H, Neu-Becker U, and Stueber G.",project_url:"https://plecoptera.speciesfile.org",project_old_url:"https://plecoptera.archive.speciesfile.org",focal_taxon:"Plecoptera",focal_taxon_common_name:"stoneflies",contact_email:"dewalt@illinois.edu",issue_trackers:[{label:"Data",description:"E.g. missing data that I'd like to add, misspellings, or invalid data",url:"https://github.com/sfg-taxonpages/plecoptera/issues"},{label:"Website",description:"E.g. a link, panel, or other feature is not working as expected",url:"https://github.com/SpeciesFileGroup/taxonpages/issues"}]},h=Ng(i)?i:(l+i).replace("//","/");return(d,m)=>{const g=dt("RouterLink"),y=dt("router-link"),w=dt("ClientOnly"),M=dt("TrackerReport");return Z(),et("header",Fg,[it("div",Hg,[rt(g,{to:"/",class:"flex items-center text-primary-content"},{default:mt(()=>[Yt(i)?(Z(),et("img",{key:0,class:"mr-3 h-10",src:Yt(h),alt:Yt(o)},null,8,Vg)):Ht("",!0),it("span",null,te(Yt(o)||Yt(c)),1)]),_:1}),rt(jg),it("div",$g,[it("nav",Ug,[it("ul",Gg,[(Z(!0),et(Gt,null,ve(Yt(n),(I,O)=>(Z(),et("li",{key:O},[rt(y,{to:I.link,class:"hover:text-primary-content text-primary-content"},{default:mt(()=>[oe(te(I.label),1)]),_:2},1032,["to"])]))),128))])]),it("div",Zg,[rt(w,null,{default:mt(()=>[rt(Fh,{class:"text-primary-content"})]),_:1})]),it("div",qg,[rt(M,{icon:""})])])])])}}},Wg={class:"footer text-white bottom-0 border-gray-200 bg-zinc-800 pl-4 pr-4"},Jg={class:"container mx-auto text-sm pt-2 pb-4"},Yg={class:"pt-4 pb-2"},Xg={key:0},Qg=["href"],t_={class:"flex items-center text-xs gap-2"},e_=["src"],n_=it("hr",{class:"mt-3 mb-3 border-gray-500"},null,-1),r_={class:"flex justify-between"},i_=Th('<div class="flex items-center"><span> Data provided by <a class="text-slate-400 hover:text-slate-500 dark:hover:text-slate-300 font-medium" target="_blank" href="https://taxonworks.org/"> TaxonWorks </a></span><span class="ml-2 mr-2">|</span><span> Pages by <a class="text-slate-400 hover:text-slate-500 dark:hover:text-slate-300 font-medium" target="_blank" href="https://github.com/SpeciesFileGroup/taxonpages"> TaxonPages </a></span><span class="ml-2 mr-2">|</span><span> Support (Services) by <a class="text-slate-400 hover:text-slate-500 dark:hover:text-slate-300 font-medium" target="_blank" href="https://speciesfilegroup.org"> Species File Group </a></span></div>',1),o_={__name:"LayoutFooter",setup(t){const{project_authors:n,project_citation:o,project_url:i,copyright_text:l,copyright_image:c,copyright_image_link:h}={base_url:"/plecoptera/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://sfg.taxonworks.org/api/v1",project_token:"7JgzFyTsllL_1WuwvcQ_Zw",copyright_image:"https://licensebuttons.net/l/by/4.0/80x15.png",copyright_image_link:"http://creativecommons.org/licenses/by/4.0/",copyright_text:"Unless otherwise noted (e.g. image licenses may vary) all content is licensed under a Creative Commons Attribution 4.0 International License. (CC-BY)",header_logo_url:"https://sfg.taxonworks.org/s/78q89i",header_logo_text:"Plecoptera Species File",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Perla",link:"/perla"}],map_tiles:[{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],metadata:[{name:"description",content:"The Plecoptera Species File is a taxonomic, nomenclatural, and bibliographic database of the stoneflies of the world, including all extant and fossil taxa."},{name:"keywords",content:"taxonomy, species, Species File Group, Plecoptera, stoneflies, taxonpages, Plecoptera Species File"},{name:"robots",content:"follow"}],project_name:"Plecoptera Species File",project_citation:"Plecoptera Species File",project_authors:"DeWalt RE, Maehr MD, Hopkins H, Neu-Becker U, and Stueber G.",project_url:"https://plecoptera.speciesfile.org",project_old_url:"https://plecoptera.archive.speciesfile.org",focal_taxon:"Plecoptera",focal_taxon_common_name:"stoneflies",contact_email:"dewalt@illinois.edu",issue_trackers:[{label:"Data",description:"E.g. missing data that I'd like to add, misspellings, or invalid data",url:"https://github.com/sfg-taxonpages/plecoptera/issues"},{label:"Website",description:"E.g. a link, panel, or other feature is not working as expected",url:"https://github.com/SpeciesFileGroup/taxonpages/issues"}]};return(d,m)=>{const g=dt("TrackerReport");return Z(),et("footer",Wg,[it("div",Jg,[it("div",Yg,[oe(te(Yt(n))+" "+te(Yt(o))+" ",1),Yt(i)?(Z(),et("span",Xg,[oe(" < "),it("a",{class:"text-secondary-color",href:Yt(i)},te(Yt(i)),9,Qg),oe(" > ")])):Ht("",!0)]),it("div",t_,[(Z(),At(Ps(Yt(h)?"a":"span"),{href:Yt(h),class:"min-w-fit"},{default:mt(()=>[Yt(c)?(Z(),et("img",{key:0,src:Yt(c),alt:"copyright"},null,8,e_)):Ht("",!0)]),_:1},8,["href"])),it("span",null,te(Yt(l)),1)]),n_,it("div",r_,[i_,rt(g,{icon:"",label:"Report a problem"})])])])}}},s_={class:"min-h-screen h-screen flex flex-col justify-between"},a_={class:"flex flex-col flex-grow"},l_={__name:"Application",setup(t){return(n,o)=>(Z(),et("div",s_,[it("div",a_,[rt(Kg),Ee(n.$slots,"default")]),rt(o_)]))}},c_={__name:"App",setup(t){return ml({title:"Plecoptera Species File",meta:[{name:"description",content:"The Plecoptera Species File is a taxonomic, nomenclatural, and bibliographic database of the stoneflies of the world, including all extant and fossil taxa."},{name:"keywords",content:"taxonomy, species, Species File Group, Plecoptera, stoneflies, taxonpages, Plecoptera Species File"},{name:"robots",content:"follow"}]}),(n,o)=>{const i=dt("router-view");return Z(),At(l_,null,{default:mt(()=>[rt(i)]),_:1})}}},ie=(t,n)=>{const o=t.__vccOpts||t;for(const[i,l]of n)o[i]=l;return o},u_={},h_={class:"mx-auto"},p_=it("div",{class:"container mx-auto flex flex-col items-center h-screen justify-center"},[it("h1",{class:"text-4xl font-medium"}," Welcome to TaxonPages "),it("p",{class:"text-xl p-4"}," We're almost there! If you're seeing this, it's because you haven't configured API access yet. ")],-1),d_=[p_];function f_(t,n){return Z(),et("div",h_,d_)}const m_=ie(u_,[["render",f_]]);function Hh(t){const n={...t};for(const o in t){const i=t[o];(!i||Array.isArray(i)&&!i.length)&&delete n[o]}return n}function g_(t,n){const{hash_mode:o,base_url:i=""}={base_url:"/plecoptera/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://sfg.taxonworks.org/api/v1",project_token:"7JgzFyTsllL_1WuwvcQ_Zw",copyright_image:"https://licensebuttons.net/l/by/4.0/80x15.png",copyright_image_link:"http://creativecommons.org/licenses/by/4.0/",copyright_text:"Unless otherwise noted (e.g. image licenses may vary) all content is licensed under a Creative Commons Attribution 4.0 International License. (CC-BY)",header_logo_url:"https://sfg.taxonworks.org/s/78q89i",header_logo_text:"Plecoptera Species File",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Perla",link:"/perla"}],map_tiles:[{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],metadata:[{name:"description",content:"The Plecoptera Species File is a taxonomic, nomenclatural, and bibliographic database of the stoneflies of the world, including all extant and fossil taxa."},{name:"keywords",content:"taxonomy, species, Species File Group, Plecoptera, stoneflies, taxonpages, Plecoptera Species File"},{name:"robots",content:"follow"}],project_name:"Plecoptera Species File",project_citation:"Plecoptera Species File",project_authors:"DeWalt RE, Maehr MD, Hopkins H, Neu-Becker U, and Stueber G.",project_url:"https://plecoptera.speciesfile.org",project_old_url:"https://plecoptera.archive.speciesfile.org",focal_taxon:"Plecoptera",focal_taxon_common_name:"stoneflies",contact_email:"dewalt@illinois.edu",issue_trackers:[{label:"Data",description:"E.g. missing data that I'd like to add, misspellings, or invalid data",url:"https://github.com/sfg-taxonpages/plecoptera/issues"},{label:"Website",description:"E.g. a link, panel, or other feature is not working as expected",url:"https://github.com/SpeciesFileGroup/taxonpages/issues"}]},l=(i+(o?"/#"+n:n)).replaceAll("//","/");return[t,l].join("")}function __({id:t,childTaxon:n,parentTaxon:o,taxonRank:i,name:l,scientificName:c,identifier:h,commonNames:d,alternateName:m},{host:g}){return Hh({"@type":"Taxon","@id":g_(g,t),"http://purl.org/dc/terms/conformsTo":{"@id":"https://bioschemas.org/profiles/Taxon/1.0-RELEASE"},additionalType:["dwc:Taxon","http://rs.tdwg.org/ontology/voc/TaxonConcept#TaxonConcept"],"dwc:vernacularName":b_(d),name:l,alternateName:m.map(y=>y.replaceAll(/<\/?i>/g,"")),childTaxon:n,scientificName:y_(c),identifier:h,taxonRank:i,parentTaxon:v_(o)})}function y_({name:t,author:n,taxonRank:o}){return Hh({"@type":"TaxonName",author:n,name:t,taxonRank:o})}function v_({name:t,taxonRank:n}){return{"@type":"Taxon",name:t,taxonRank:n}}function b_(t){return t.map(({name:n,language:o})=>({"@language":o,"@value":n}))}function w_(t){switch(t){case"taxon":return __;default:return()=>({})}}function x_(t,{host:n}){return w_(t._resolver)(t,{host:n})}function k_({host:t}){return{hooks:{"tags:resolve":async function(n){for(const o of n.tags)o.tag==="script"&&o.key==="schema-org-graph"&&(o.innerHTML=JSON.stringify({"@context":"https://schema.org","@graph":o.props.nodes.map(i=>x_(i,{host:t}))},null,2),delete o.props.nodes)}}}}var L_=!1;/*!
 * pinia v2.1.6
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let Vh;const Os=t=>Vh=t,$h=Symbol();function za(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var ro;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(ro||(ro={}));function M_(){const t=zu(!0),n=t.run(()=>qt({}));let o=[],i=[];const l=bs({install(c){Os(l),l._a=c,c.provide($h,l),c.config.globalProperties.$pinia=l,i.forEach(h=>o.push(h)),i=[]},use(c){return!this._a&&!L_?i.push(c):o.push(c),this},_p:o,_a:null,_e:t,_s:new Map,state:n});return l}const Uh=()=>{};function Wc(t,n,o,i=Uh){t.push(n);const l=()=>{const c=t.indexOf(n);c>-1&&(t.splice(c,1),i())};return!o&&ju()&&Td(l),l}function ci(t,...n){t.slice().forEach(o=>{o(...n)})}const C_=t=>t();function ja(t,n){t instanceof Map&&n instanceof Map&&n.forEach((o,i)=>t.set(i,o)),t instanceof Set&&n instanceof Set&&n.forEach(t.add,t);for(const o in n){if(!n.hasOwnProperty(o))continue;const i=n[o],l=t[o];za(l)&&za(i)&&t.hasOwnProperty(o)&&!Ie(i)&&!br(i)?t[o]=ja(l,i):t[o]=i}return t}const P_=Symbol();function S_(t){return!za(t)||!t.hasOwnProperty(P_)}const{assign:gr}=Object;function E_(t){return!!(Ie(t)&&t.effect)}function T_(t,n,o,i){const{state:l,actions:c,getters:h}=n,d=o.state.value[t];let m;function g(){d||(o.state.value[t]=l?l():{});const y=lf(o.state.value[t]);return gr(y,c,Object.keys(h||{}).reduce((w,M)=>(w[M]=bs(de(()=>{Os(o);const I=o._s.get(t);return h[M].call(I,I)})),w),{}))}return m=Gh(t,g,n,o,i,!0),m}function Gh(t,n,o={},i,l,c){let h;const d=gr({actions:{}},o),m={deep:!0};let g,y,w=[],M=[],I;const O=i.state.value[t];!c&&!O&&(i.state.value[t]={}),qt({});let S;function U(Y){let st;g=y=!1,typeof Y=="function"?(Y(i.state.value[t]),st={type:ro.patchFunction,storeId:t,events:I}):(ja(i.state.value[t],Y),st={type:ro.patchObject,payload:Y,storeId:t,events:I});const ct=S=Symbol();xs().then(()=>{S===ct&&(g=!0)}),y=!0,ci(w,st,i.state.value[t])}const C=c?function(){const{state:st}=o,ct=st?st():{};this.$patch(gt=>{gr(gt,ct)})}:Uh;function R(){h.stop(),w=[],M=[],i._s.delete(t)}function V(Y,st){return function(){Os(i);const ct=Array.from(arguments),gt=[],at=[];function bt(Ct){gt.push(Ct)}function Lt(Ct){at.push(Ct)}ci(M,{args:ct,name:Y,store:z,after:bt,onError:Lt});let Et;try{Et=st.apply(this&&this.$id===t?this:z,ct)}catch(Ct){throw ci(at,Ct),Ct}return Et instanceof Promise?Et.then(Ct=>(ci(gt,Ct),Ct)).catch(Ct=>(ci(at,Ct),Promise.reject(Ct))):(ci(gt,Et),Et)}}const E={_p:i,$id:t,$onAction:Wc.bind(null,M),$patch:U,$reset:C,$subscribe(Y,st={}){const ct=Wc(w,Y,st.detached,()=>gt()),gt=h.run(()=>Ke(()=>i.state.value[t],at=>{(st.flush==="sync"?y:g)&&Y({storeId:t,type:ro.direct,events:I},at)},gr({},m,st)));return ct},$dispose:R},z=yo(E);i._s.set(t,z);const W=i._a&&i._a.runWithContext||C_,ot=i._e.run(()=>(h=zu(),W(()=>h.run(n))));for(const Y in ot){const st=ot[Y];if(Ie(st)&&!E_(st)||br(st))c||(O&&S_(st)&&(Ie(st)?st.value=O[Y]:ja(st,O[Y])),i.state.value[t][Y]=st);else if(typeof st=="function"){const ct=V(Y,st);ot[Y]=ct,d.actions[Y]=st}}return gr(z,ot),gr(me(z),ot),Object.defineProperty(z,"$state",{get:()=>i.state.value[t],set:Y=>{U(st=>{gr(st,Y)})}}),i._p.forEach(Y=>{gr(z,h.run(()=>Y({store:z,app:i._a,pinia:i,options:d})))}),O&&c&&o.hydrate&&o.hydrate(z.$state,O),g=!0,y=!0,z}function Rs(t,n,o){let i,l;const c=typeof n=="function";typeof t=="string"?(i=t,l=c?o:n):(l=t,i=t.id);function h(d,m){const g=Zf();return d=d||(g?xn($h,null):null),d&&Os(d),d=Vh,d._s.has(i)||(c?Gh(i,n,l,d):T_(i,l,d)),d._s.get(i)}return h.$id=i,h}const O_={},R_={class:"container mx-auto text-center relative top-1/4"},A_=it("h1",{class:"text-4xl sm:text-5xl text-base-lighter"}," Welcome to TaxonPages ",-1),B_=it("p",{class:"m-4 my-8 text-xl"}," It seems you don't have a index or home file in your /pages folder, create one to replace this page. ",-1),I_=[A_,B_];function D_(t,n){return Z(),et("div",R_,I_)}const z_=ie(O_,[["render",D_]]),j_=[{name:"homepage",path:"/",alias:"/home",component:z_}],N_={},F_={class:"container mx-auto text-center relative top-1/4"},H_=it("h1",{class:"text-7xl text-base-lighter"},"500",-1),V_=it("p",null,"Internal Server Error.",-1),$_=it("p",{class:"m-4 my-10 text-xl"},[oe(" Uh oh, looks like something went wrong!"),it("br"),oe(" We track these errors automatically, but if the problem persists feel free to contact us. ")],-1),U_=[H_,V_,$_];function G_(t,n){return Z(),et("div",F_,U_)}const Z_=ie(N_,[["render",G_]]),q_={},K_={class:"container mx-auto text-center relative top-1/4"},W_=it("h1",{class:"text-7xl text-base-lighter"},"404",-1),J_=it("p",null,"Page not found.",-1),Y_=it("p",{class:"m-4 my-10 text-xl"}," Uh oh, we can't seem to find the page you're looking for. Try going back to the previous page. ",-1),X_=[W_,J_,Y_];function Q_(t,n){return Z(),et("div",K_,X_)}const ty=ie(q_,[["render",Q_]]),ey=[{path:"/500",name:"httpError500",component:Z_},{path:"/:pathMatch(.*)*",name:"httpError400",component:ty}];/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const hi=typeof window<"u";function ny(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Le=Object.assign;function da(t,n){const o={};for(const i in n){const l=n[i];o[i]=On(l)?l.map(t):t(l)}return o}const io=()=>{},On=Array.isArray,ry=/\/$/,iy=t=>t.replace(ry,"");function fa(t,n,o="/"){let i,l={},c="",h="";const d=n.indexOf("#");let m=n.indexOf("?");return d<m&&d>=0&&(m=-1),m>-1&&(i=n.slice(0,m),c=n.slice(m+1,d>-1?d:n.length),l=t(c)),d>-1&&(i=i||n.slice(0,d),h=n.slice(d,n.length)),i=ly(i??n,o),{fullPath:i+(c&&"?")+c+h,path:i,query:l,hash:h}}function oy(t,n){const o=n.query?t(n.query):"";return n.path+(o&&"?")+o+(n.hash||"")}function Jc(t,n){return!n||!t.toLowerCase().startsWith(n.toLowerCase())?t:t.slice(n.length)||"/"}function sy(t,n,o){const i=n.matched.length-1,l=o.matched.length-1;return i>-1&&i===l&&vi(n.matched[i],o.matched[l])&&Zh(n.params,o.params)&&t(n.query)===t(o.query)&&n.hash===o.hash}function vi(t,n){return(t.aliasOf||t)===(n.aliasOf||n)}function Zh(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const o in t)if(!ay(t[o],n[o]))return!1;return!0}function ay(t,n){return On(t)?Yc(t,n):On(n)?Yc(n,t):t===n}function Yc(t,n){return On(n)?t.length===n.length&&t.every((o,i)=>o===n[i]):t.length===1&&t[0]===n}function ly(t,n){if(t.startsWith("/"))return t;if(!t)return n;const o=n.split("/"),i=t.split("/"),l=i[i.length-1];(l===".."||l===".")&&i.push("");let c=o.length-1,h,d;for(h=0;h<i.length;h++)if(d=i[h],d!==".")if(d==="..")c>1&&c--;else break;return o.slice(0,c).join("/")+"/"+i.slice(h-(h===i.length?1:0)).join("/")}var fo;(function(t){t.pop="pop",t.push="push"})(fo||(fo={}));var oo;(function(t){t.back="back",t.forward="forward",t.unknown=""})(oo||(oo={}));function cy(t){if(!t)if(hi){const n=document.querySelector("base");t=n&&n.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),iy(t)}const uy=/^[^#]+#/;function hy(t,n){return t.replace(uy,"#")+n}function py(t,n){const o=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:n.behavior,left:i.left-o.left-(n.left||0),top:i.top-o.top-(n.top||0)}}const As=()=>({left:window.pageXOffset,top:window.pageYOffset});function dy(t){let n;if("el"in t){const o=t.el,i=typeof o=="string"&&o.startsWith("#"),l=typeof o=="string"?i?document.getElementById(o.slice(1)):document.querySelector(o):o;if(!l)return;n=py(l,t)}else n=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(n):window.scrollTo(n.left!=null?n.left:window.pageXOffset,n.top!=null?n.top:window.pageYOffset)}function Xc(t,n){return(history.state?history.state.position-n:-1)+t}const Na=new Map;function fy(t,n){Na.set(t,n)}function my(t){const n=Na.get(t);return Na.delete(t),n}let gy=()=>location.protocol+"//"+location.host;function qh(t,n){const{pathname:o,search:i,hash:l}=n,c=t.indexOf("#");if(c>-1){let d=l.includes(t.slice(c))?t.slice(c).length:1,m=l.slice(d);return m[0]!=="/"&&(m="/"+m),Jc(m,"")}return Jc(o,t)+i+l}function _y(t,n,o,i){let l=[],c=[],h=null;const d=({state:M})=>{const I=qh(t,location),O=o.value,S=n.value;let U=0;if(M){if(o.value=I,n.value=M,h&&h===O){h=null;return}U=S?M.position-S.position:0}else i(I);l.forEach(C=>{C(o.value,O,{delta:U,type:fo.pop,direction:U?U>0?oo.forward:oo.back:oo.unknown})})};function m(){h=o.value}function g(M){l.push(M);const I=()=>{const O=l.indexOf(M);O>-1&&l.splice(O,1)};return c.push(I),I}function y(){const{history:M}=window;M.state&&M.replaceState(Le({},M.state,{scroll:As()}),"")}function w(){for(const M of c)M();c=[],window.removeEventListener("popstate",d),window.removeEventListener("beforeunload",y)}return window.addEventListener("popstate",d),window.addEventListener("beforeunload",y,{passive:!0}),{pauseListeners:m,listen:g,destroy:w}}function Qc(t,n,o,i=!1,l=!1){return{back:t,current:n,forward:o,replaced:i,position:window.history.length,scroll:l?As():null}}function yy(t){const{history:n,location:o}=window,i={value:qh(t,o)},l={value:n.state};l.value||c(i.value,{back:null,current:i.value,forward:null,position:n.length-1,replaced:!0,scroll:null},!0);function c(m,g,y){const w=t.indexOf("#"),M=w>-1?(o.host&&document.querySelector("base")?t:t.slice(w))+m:gy()+t+m;try{n[y?"replaceState":"pushState"](g,"",M),l.value=g}catch(I){console.error(I),o[y?"replace":"assign"](M)}}function h(m,g){const y=Le({},n.state,Qc(l.value.back,m,l.value.forward,!0),g,{position:l.value.position});c(m,y,!0),i.value=m}function d(m,g){const y=Le({},l.value,n.state,{forward:m,scroll:As()});c(y.current,y,!0);const w=Le({},Qc(i.value,m,null),{position:y.position+1},g);c(m,w,!1),i.value=m}return{location:i,state:l,push:d,replace:h}}function Kh(t){t=cy(t);const n=yy(t),o=_y(t,n.state,n.location,n.replace);function i(c,h=!0){h||o.pauseListeners(),history.go(c)}const l=Le({location:"",base:t,go:i,createHref:hy.bind(null,t)},n,o);return Object.defineProperty(l,"location",{enumerable:!0,get:()=>n.location.value}),Object.defineProperty(l,"state",{enumerable:!0,get:()=>n.state.value}),l}function vy(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),Kh(t)}function by(t){return typeof t=="string"||t&&typeof t=="object"}function Wh(t){return typeof t=="string"||typeof t=="symbol"}const fr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Jh=Symbol("");var tu;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(tu||(tu={}));function bi(t,n){return Le(new Error,{type:t,[Jh]:!0},n)}function Xn(t,n){return t instanceof Error&&Jh in t&&(n==null||!!(t.type&n))}const eu="[^/]+?",wy={sensitive:!1,strict:!1,start:!0,end:!0},xy=/[.+*?^${}()[\]/\\]/g;function ky(t,n){const o=Le({},wy,n),i=[];let l=o.start?"^":"";const c=[];for(const g of t){const y=g.length?[]:[90];o.strict&&!g.length&&(l+="/");for(let w=0;w<g.length;w++){const M=g[w];let I=40+(o.sensitive?.25:0);if(M.type===0)w||(l+="/"),l+=M.value.replace(xy,"\\$&"),I+=40;else if(M.type===1){const{value:O,repeatable:S,optional:U,regexp:C}=M;c.push({name:O,repeatable:S,optional:U});const R=C||eu;if(R!==eu){I+=10;try{new RegExp(`(${R})`)}catch(E){throw new Error(`Invalid custom RegExp for param "${O}" (${R}): `+E.message)}}let V=S?`((?:${R})(?:/(?:${R}))*)`:`(${R})`;w||(V=U&&g.length<2?`(?:/${V})`:"/"+V),U&&(V+="?"),l+=V,I+=20,U&&(I+=-8),S&&(I+=-20),R===".*"&&(I+=-50)}y.push(I)}i.push(y)}if(o.strict&&o.end){const g=i.length-1;i[g][i[g].length-1]+=.7000000000000001}o.strict||(l+="/?"),o.end?l+="$":o.strict&&(l+="(?:/|$)");const h=new RegExp(l,o.sensitive?"":"i");function d(g){const y=g.match(h),w={};if(!y)return null;for(let M=1;M<y.length;M++){const I=y[M]||"",O=c[M-1];w[O.name]=I&&O.repeatable?I.split("/"):I}return w}function m(g){let y="",w=!1;for(const M of t){(!w||!y.endsWith("/"))&&(y+="/"),w=!1;for(const I of M)if(I.type===0)y+=I.value;else if(I.type===1){const{value:O,repeatable:S,optional:U}=I,C=O in g?g[O]:"";if(On(C)&&!S)throw new Error(`Provided param "${O}" is an array but it is not repeatable (* or + modifiers)`);const R=On(C)?C.join("/"):C;if(!R)if(U)M.length<2&&(y.endsWith("/")?y=y.slice(0,-1):w=!0);else throw new Error(`Missing required param "${O}"`);y+=R}}return y||"/"}return{re:h,score:i,keys:c,parse:d,stringify:m}}function Ly(t,n){let o=0;for(;o<t.length&&o<n.length;){const i=n[o]-t[o];if(i)return i;o++}return t.length<n.length?t.length===1&&t[0]===40+40?-1:1:t.length>n.length?n.length===1&&n[0]===40+40?1:-1:0}function My(t,n){let o=0;const i=t.score,l=n.score;for(;o<i.length&&o<l.length;){const c=Ly(i[o],l[o]);if(c)return c;o++}if(Math.abs(l.length-i.length)===1){if(nu(i))return 1;if(nu(l))return-1}return l.length-i.length}function nu(t){const n=t[t.length-1];return t.length>0&&n[n.length-1]<0}const Cy={type:0,value:""},Py=/[a-zA-Z0-9_]/;function Sy(t){if(!t)return[[]];if(t==="/")return[[Cy]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function n(I){throw new Error(`ERR (${o})/"${g}": ${I}`)}let o=0,i=o;const l=[];let c;function h(){c&&l.push(c),c=[]}let d=0,m,g="",y="";function w(){g&&(o===0?c.push({type:0,value:g}):o===1||o===2||o===3?(c.length>1&&(m==="*"||m==="+")&&n(`A repeatable param (${g}) must be alone in its segment. eg: '/:ids+.`),c.push({type:1,value:g,regexp:y,repeatable:m==="*"||m==="+",optional:m==="*"||m==="?"})):n("Invalid state to consume buffer"),g="")}function M(){g+=m}for(;d<t.length;){if(m=t[d++],m==="\\"&&o!==2){i=o,o=4;continue}switch(o){case 0:m==="/"?(g&&w(),h()):m===":"?(w(),o=1):M();break;case 4:M(),o=i;break;case 1:m==="("?o=2:Py.test(m)?M():(w(),o=0,m!=="*"&&m!=="?"&&m!=="+"&&d--);break;case 2:m===")"?y[y.length-1]=="\\"?y=y.slice(0,-1)+m:o=3:y+=m;break;case 3:w(),o=0,m!=="*"&&m!=="?"&&m!=="+"&&d--,y="";break;default:n("Unknown state");break}}return o===2&&n(`Unfinished custom RegExp for param "${g}"`),w(),h(),l}function Ey(t,n,o){const i=ky(Sy(t.path),o),l=Le(i,{record:t,parent:n,children:[],alias:[]});return n&&!l.record.aliasOf==!n.record.aliasOf&&n.children.push(l),l}function Ty(t,n){const o=[],i=new Map;n=ou({strict:!1,end:!0,sensitive:!1},n);function l(y){return i.get(y)}function c(y,w,M){const I=!M,O=Oy(y);O.aliasOf=M&&M.record;const S=ou(n,y),U=[O];if("alias"in y){const V=typeof y.alias=="string"?[y.alias]:y.alias;for(const E of V)U.push(Le({},O,{components:M?M.record.components:O.components,path:E,aliasOf:M?M.record:O}))}let C,R;for(const V of U){const{path:E}=V;if(w&&E[0]!=="/"){const z=w.record.path,W=z[z.length-1]==="/"?"":"/";V.path=w.record.path+(E&&W+E)}if(C=Ey(V,w,S),M?M.alias.push(C):(R=R||C,R!==C&&R.alias.push(C),I&&y.name&&!iu(C)&&h(y.name)),O.children){const z=O.children;for(let W=0;W<z.length;W++)c(z[W],C,M&&M.children[W])}M=M||C,(C.record.components&&Object.keys(C.record.components).length||C.record.name||C.record.redirect)&&m(C)}return R?()=>{h(R)}:io}function h(y){if(Wh(y)){const w=i.get(y);w&&(i.delete(y),o.splice(o.indexOf(w),1),w.children.forEach(h),w.alias.forEach(h))}else{const w=o.indexOf(y);w>-1&&(o.splice(w,1),y.record.name&&i.delete(y.record.name),y.children.forEach(h),y.alias.forEach(h))}}function d(){return o}function m(y){let w=0;for(;w<o.length&&My(y,o[w])>=0&&(y.record.path!==o[w].record.path||!Yh(y,o[w]));)w++;o.splice(w,0,y),y.record.name&&!iu(y)&&i.set(y.record.name,y)}function g(y,w){let M,I={},O,S;if("name"in y&&y.name){if(M=i.get(y.name),!M)throw bi(1,{location:y});S=M.record.name,I=Le(ru(w.params,M.keys.filter(R=>!R.optional).map(R=>R.name)),y.params&&ru(y.params,M.keys.map(R=>R.name))),O=M.stringify(I)}else if("path"in y)O=y.path,M=o.find(R=>R.re.test(O)),M&&(I=M.parse(O),S=M.record.name);else{if(M=w.name?i.get(w.name):o.find(R=>R.re.test(w.path)),!M)throw bi(1,{location:y,currentLocation:w});S=M.record.name,I=Le({},w.params,y.params),O=M.stringify(I)}const U=[];let C=M;for(;C;)U.unshift(C.record),C=C.parent;return{name:S,path:O,params:I,matched:U,meta:Ay(U)}}return t.forEach(y=>c(y)),{addRoute:c,resolve:g,removeRoute:h,getRoutes:d,getRecordMatcher:l}}function ru(t,n){const o={};for(const i of n)i in t&&(o[i]=t[i]);return o}function Oy(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:Ry(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function Ry(t){const n={},o=t.props||!1;if("component"in t)n.default=o;else for(const i in t.components)n[i]=typeof o=="object"?o[i]:o;return n}function iu(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Ay(t){return t.reduce((n,o)=>Le(n,o.meta),{})}function ou(t,n){const o={};for(const i in t)o[i]=i in n?n[i]:t[i];return o}function Yh(t,n){return n.children.some(o=>o===t||Yh(t,o))}const Xh=/#/g,By=/&/g,Iy=/\//g,Dy=/=/g,zy=/\?/g,Qh=/\+/g,jy=/%5B/g,Ny=/%5D/g,tp=/%5E/g,Fy=/%60/g,ep=/%7B/g,Hy=/%7C/g,np=/%7D/g,Vy=/%20/g;function gl(t){return encodeURI(""+t).replace(Hy,"|").replace(jy,"[").replace(Ny,"]")}function $y(t){return gl(t).replace(ep,"{").replace(np,"}").replace(tp,"^")}function Fa(t){return gl(t).replace(Qh,"%2B").replace(Vy,"+").replace(Xh,"%23").replace(By,"%26").replace(Fy,"`").replace(ep,"{").replace(np,"}").replace(tp,"^")}function Uy(t){return Fa(t).replace(Dy,"%3D")}function Gy(t){return gl(t).replace(Xh,"%23").replace(zy,"%3F")}function Zy(t){return t==null?"":Gy(t).replace(Iy,"%2F")}function fs(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function qy(t){const n={};if(t===""||t==="?")return n;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let l=0;l<i.length;++l){const c=i[l].replace(Qh," "),h=c.indexOf("="),d=fs(h<0?c:c.slice(0,h)),m=h<0?null:fs(c.slice(h+1));if(d in n){let g=n[d];On(g)||(g=n[d]=[g]),g.push(m)}else n[d]=m}return n}function su(t){let n="";for(let o in t){const i=t[o];if(o=Uy(o),i==null){i!==void 0&&(n+=(n.length?"&":"")+o);continue}(On(i)?i.map(c=>c&&Fa(c)):[i&&Fa(i)]).forEach(c=>{c!==void 0&&(n+=(n.length?"&":"")+o,c!=null&&(n+="="+c))})}return n}function Ky(t){const n={};for(const o in t){const i=t[o];i!==void 0&&(n[o]=On(i)?i.map(l=>l==null?null:""+l):i==null?i:""+i)}return n}const Wy=Symbol(""),au=Symbol(""),Bs=Symbol(""),_l=Symbol(""),Ha=Symbol("");function Wi(){let t=[];function n(i){return t.push(i),()=>{const l=t.indexOf(i);l>-1&&t.splice(l,1)}}function o(){t=[]}return{add:n,list:()=>t.slice(),reset:o}}function yr(t,n,o,i,l){const c=i&&(i.enterCallbacks[l]=i.enterCallbacks[l]||[]);return()=>new Promise((h,d)=>{const m=w=>{w===!1?d(bi(4,{from:o,to:n})):w instanceof Error?d(w):by(w)?d(bi(2,{from:n,to:w})):(c&&i.enterCallbacks[l]===c&&typeof w=="function"&&c.push(w),h())},g=t.call(i&&i.instances[l],n,o,m);let y=Promise.resolve(g);t.length<3&&(y=y.then(m)),y.catch(w=>d(w))})}function ma(t,n,o,i){const l=[];for(const c of t)for(const h in c.components){let d=c.components[h];if(!(n!=="beforeRouteEnter"&&!c.instances[h]))if(Jy(d)){const g=(d.__vccOpts||d)[n];g&&l.push(yr(g,o,i,c,h))}else{let m=d();l.push(()=>m.then(g=>{if(!g)return Promise.reject(new Error(`Couldn't resolve component "${h}" at "${c.path}"`));const y=ny(g)?g.default:g;c.components[h]=y;const M=(y.__vccOpts||y)[n];return M&&yr(M,o,i,c,h)()}))}}return l}function Jy(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function lu(t){const n=xn(Bs),o=xn(_l),i=de(()=>n.resolve(Yt(t.to))),l=de(()=>{const{matched:m}=i.value,{length:g}=m,y=m[g-1],w=o.matched;if(!y||!w.length)return-1;const M=w.findIndex(vi.bind(null,y));if(M>-1)return M;const I=cu(m[g-2]);return g>1&&cu(y)===I&&w[w.length-1].path!==I?w.findIndex(vi.bind(null,m[g-2])):M}),c=de(()=>l.value>-1&&tv(o.params,i.value.params)),h=de(()=>l.value>-1&&l.value===o.matched.length-1&&Zh(o.params,i.value.params));function d(m={}){return Qy(m)?n[Yt(t.replace)?"replace":"push"](Yt(t.to)).catch(io):Promise.resolve()}return{route:i,href:de(()=>i.value.href),isActive:c,isExactActive:h,navigate:d}}const Yy=fh({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:lu,setup(t,{slots:n}){const o=yo(lu(t)),{options:i}=xn(Bs),l=de(()=>({[uu(t.activeClass,i.linkActiveClass,"router-link-active")]:o.isActive,[uu(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:o.isExactActive}));return()=>{const c=n.default&&n.default(o);return t.custom?c:dl("a",{"aria-current":o.isExactActive?t.ariaCurrentValue:null,href:o.href,onClick:o.navigate,class:l.value},c)}}}),Xy=Yy;function Qy(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const n=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(n))return}return t.preventDefault&&t.preventDefault(),!0}}function tv(t,n){for(const o in n){const i=n[o],l=t[o];if(typeof i=="string"){if(i!==l)return!1}else if(!On(l)||l.length!==i.length||i.some((c,h)=>c!==l[h]))return!1}return!0}function cu(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const uu=(t,n,o)=>t??n??o,ev=fh({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:n,slots:o}){const i=xn(Ha),l=de(()=>t.route||i.value),c=xn(au,0),h=de(()=>{let g=Yt(c);const{matched:y}=l.value;let w;for(;(w=y[g])&&!w.components;)g++;return g}),d=de(()=>l.value.matched[h.value]);Yo(au,de(()=>h.value+1)),Yo(Wy,d),Yo(Ha,l);const m=qt();return Ke(()=>[m.value,d.value,t.name],([g,y,w],[M,I,O])=>{y&&(y.instances[w]=g,I&&I!==y&&g&&g===M&&(y.leaveGuards.size||(y.leaveGuards=I.leaveGuards),y.updateGuards.size||(y.updateGuards=I.updateGuards))),g&&y&&(!I||!vi(y,I)||!M)&&(y.enterCallbacks[w]||[]).forEach(S=>S(g))},{flush:"post"}),()=>{const g=l.value,y=t.name,w=d.value,M=w&&w.components[y];if(!M)return hu(o.default,{Component:M,route:g});const I=w.props[y],O=I?I===!0?g.params:typeof I=="function"?I(g):I:null,U=dl(M,Le({},O,n,{onVnodeUnmounted:C=>{C.component.isUnmounted&&(w.instances[y]=null)},ref:m}));return hu(o.default,{Component:U,route:g})||U}}});function hu(t,n){if(!t)return null;const o=t(n);return o.length===1?o[0]:o}const nv=ev;function rv(t){const n=Ty(t.routes,t),o=t.parseQuery||qy,i=t.stringifyQuery||su,l=t.history,c=Wi(),h=Wi(),d=Wi(),m=of(fr);let g=fr;hi&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const y=da.bind(null,pt=>""+pt),w=da.bind(null,Zy),M=da.bind(null,fs);function I(pt,Pt){let St,zt;return Wh(pt)?(St=n.getRecordMatcher(pt),zt=Pt):zt=pt,n.addRoute(zt,St)}function O(pt){const Pt=n.getRecordMatcher(pt);Pt&&n.removeRoute(Pt)}function S(){return n.getRoutes().map(pt=>pt.record)}function U(pt){return!!n.getRecordMatcher(pt)}function C(pt,Pt){if(Pt=Le({},Pt||m.value),typeof pt=="string"){const J=fa(o,pt,Pt.path),ht=n.resolve({path:J.path},Pt),yt=l.createHref(J.fullPath);return Le(J,ht,{params:M(ht.params),hash:fs(J.hash),redirectedFrom:void 0,href:yt})}let St;if("path"in pt)St=Le({},pt,{path:fa(o,pt.path,Pt.path).path});else{const J=Le({},pt.params);for(const ht in J)J[ht]==null&&delete J[ht];St=Le({},pt,{params:w(J)}),Pt.params=w(Pt.params)}const zt=n.resolve(St,Pt),le=pt.hash||"";zt.params=y(M(zt.params));const F=oy(i,Le({},pt,{hash:$y(le),path:zt.path})),K=l.createHref(F);return Le({fullPath:F,hash:le,query:i===su?Ky(pt.query):pt.query||{}},zt,{redirectedFrom:void 0,href:K})}function R(pt){return typeof pt=="string"?fa(o,pt,m.value.path):Le({},pt)}function V(pt,Pt){if(g!==pt)return bi(8,{from:Pt,to:pt})}function E(pt){return ot(pt)}function z(pt){return E(Le(R(pt),{replace:!0}))}function W(pt){const Pt=pt.matched[pt.matched.length-1];if(Pt&&Pt.redirect){const{redirect:St}=Pt;let zt=typeof St=="function"?St(pt):St;return typeof zt=="string"&&(zt=zt.includes("?")||zt.includes("#")?zt=R(zt):{path:zt},zt.params={}),Le({query:pt.query,hash:pt.hash,params:"path"in zt?{}:pt.params},zt)}}function ot(pt,Pt){const St=g=C(pt),zt=m.value,le=pt.state,F=pt.force,K=pt.replace===!0,J=W(St);if(J)return ot(Le(R(J),{state:typeof J=="object"?Le({},le,J.state):le,force:F,replace:K}),Pt||St);const ht=St;ht.redirectedFrom=Pt;let yt;return!F&&sy(i,zt,St)&&(yt=bi(16,{to:ht,from:zt}),Bt(zt,zt,!0,!1)),(yt?Promise.resolve(yt):ct(ht,zt)).catch(xt=>Xn(xt)?Xn(xt,2)?xt:Dt(xt):wt(xt,ht,zt)).then(xt=>{if(xt){if(Xn(xt,2))return ot(Le({replace:K},R(xt.to),{state:typeof xt.to=="object"?Le({},le,xt.to.state):le,force:F}),Pt||ht)}else xt=at(ht,zt,!0,K,le);return gt(ht,zt,xt),xt})}function Y(pt,Pt){const St=V(pt,Pt);return St?Promise.reject(St):Promise.resolve()}function st(pt){const Pt=fe.values().next().value;return Pt&&typeof Pt.runWithContext=="function"?Pt.runWithContext(pt):pt()}function ct(pt,Pt){let St;const[zt,le,F]=iv(pt,Pt);St=ma(zt.reverse(),"beforeRouteLeave",pt,Pt);for(const J of zt)J.leaveGuards.forEach(ht=>{St.push(yr(ht,pt,Pt))});const K=Y.bind(null,pt,Pt);return St.push(K),Nt(St).then(()=>{St=[];for(const J of c.list())St.push(yr(J,pt,Pt));return St.push(K),Nt(St)}).then(()=>{St=ma(le,"beforeRouteUpdate",pt,Pt);for(const J of le)J.updateGuards.forEach(ht=>{St.push(yr(ht,pt,Pt))});return St.push(K),Nt(St)}).then(()=>{St=[];for(const J of F)if(J.beforeEnter)if(On(J.beforeEnter))for(const ht of J.beforeEnter)St.push(yr(ht,pt,Pt));else St.push(yr(J.beforeEnter,pt,Pt));return St.push(K),Nt(St)}).then(()=>(pt.matched.forEach(J=>J.enterCallbacks={}),St=ma(F,"beforeRouteEnter",pt,Pt),St.push(K),Nt(St))).then(()=>{St=[];for(const J of h.list())St.push(yr(J,pt,Pt));return St.push(K),Nt(St)}).catch(J=>Xn(J,8)?J:Promise.reject(J))}function gt(pt,Pt,St){d.list().forEach(zt=>st(()=>zt(pt,Pt,St)))}function at(pt,Pt,St,zt,le){const F=V(pt,Pt);if(F)return F;const K=Pt===fr,J=hi?history.state:{};St&&(zt||K?l.replace(pt.fullPath,Le({scroll:K&&J&&J.scroll},le)):l.push(pt.fullPath,le)),m.value=pt,Bt(pt,Pt,St,K),Dt()}let bt;function Lt(){bt||(bt=l.listen((pt,Pt,St)=>{if(!ae.listening)return;const zt=C(pt),le=W(zt);if(le){ot(Le(le,{replace:!0}),zt).catch(io);return}g=zt;const F=m.value;hi&&fy(Xc(F.fullPath,St.delta),As()),ct(zt,F).catch(K=>Xn(K,12)?K:Xn(K,2)?(ot(K.to,zt).then(J=>{Xn(J,20)&&!St.delta&&St.type===fo.pop&&l.go(-1,!1)}).catch(io),Promise.reject()):(St.delta&&l.go(-St.delta,!1),wt(K,zt,F))).then(K=>{K=K||at(zt,F,!1),K&&(St.delta&&!Xn(K,8)?l.go(-St.delta,!1):St.type===fo.pop&&Xn(K,20)&&l.go(-1,!1)),gt(zt,F,K)}).catch(io)}))}let Et=Wi(),Ct=Wi(),Vt;function wt(pt,Pt,St){Dt(pt);const zt=Ct.list();return zt.length?zt.forEach(le=>le(pt,Pt,St)):console.error(pt),Promise.reject(pt)}function pe(){return Vt&&m.value!==fr?Promise.resolve():new Promise((pt,Pt)=>{Et.add([pt,Pt])})}function Dt(pt){return Vt||(Vt=!pt,Lt(),Et.list().forEach(([Pt,St])=>pt?St(pt):Pt()),Et.reset()),pt}function Bt(pt,Pt,St,zt){const{scrollBehavior:le}=t;if(!hi||!le)return Promise.resolve();const F=!St&&my(Xc(pt.fullPath,0))||(zt||!St)&&history.state&&history.state.scroll||null;return xs().then(()=>le(pt,Pt,F)).then(K=>K&&dy(K)).catch(K=>wt(K,pt,Pt))}const $t=pt=>l.go(pt);let Me;const fe=new Set,ae={currentRoute:m,listening:!0,addRoute:I,removeRoute:O,hasRoute:U,getRoutes:S,resolve:C,options:t,push:E,replace:z,go:$t,back:()=>$t(-1),forward:()=>$t(1),beforeEach:c.add,beforeResolve:h.add,afterEach:d.add,onError:Ct.add,isReady:pe,install(pt){const Pt=this;pt.component("RouterLink",Xy),pt.component("RouterView",nv),pt.config.globalProperties.$router=Pt,Object.defineProperty(pt.config.globalProperties,"$route",{enumerable:!0,get:()=>Yt(m)}),hi&&!Me&&m.value===fr&&(Me=!0,E(l.location).catch(le=>{}));const St={};for(const le in fr)Object.defineProperty(St,le,{get:()=>m.value[le],enumerable:!0});pt.provide(Bs,Pt),pt.provide(_l,Wu(St)),pt.provide(Ha,m);const zt=pt.unmount;fe.add(pt),pt.unmount=function(){fe.delete(pt),fe.size<1&&(g=fr,bt&&bt(),bt=null,m.value=fr,Me=!1,Vt=!1),zt()}}};function Nt(pt){return pt.reduce((Pt,St)=>Pt.then(()=>st(St)),Promise.resolve())}return ae}function iv(t,n){const o=[],i=[],l=[],c=Math.max(n.matched.length,t.matched.length);for(let h=0;h<c;h++){const d=n.matched[h];d&&(t.matched.find(g=>vi(g,d))?i.push(d):o.push(d));const m=t.matched[h];m&&(n.matched.find(g=>vi(g,m))||l.push(m))}return[o,i,l]}function rp(){return xn(Bs)}function ov(){return xn(_l)}function ip(t,n){return function(){return t.apply(n,arguments)}}const{toString:sv}=Object.prototype,{getPrototypeOf:yl}=Object,Is=(t=>n=>{const o=sv.call(n);return t[o]||(t[o]=o.slice(8,-1).toLowerCase())})(Object.create(null)),Vn=t=>(t=t.toLowerCase(),n=>Is(n)===t),Ds=t=>n=>typeof n===t,{isArray:Mi}=Array,mo=Ds("undefined");function av(t){return t!==null&&!mo(t)&&t.constructor!==null&&!mo(t.constructor)&&kn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const op=Vn("ArrayBuffer");function lv(t){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(t):n=t&&t.buffer&&op(t.buffer),n}const cv=Ds("string"),kn=Ds("function"),sp=Ds("number"),zs=t=>t!==null&&typeof t=="object",uv=t=>t===!0||t===!1,ts=t=>{if(Is(t)!=="object")return!1;const n=yl(t);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},hv=Vn("Date"),pv=Vn("File"),dv=Vn("Blob"),fv=Vn("FileList"),mv=t=>zs(t)&&kn(t.pipe),gv=t=>{let n;return t&&(typeof FormData=="function"&&t instanceof FormData||kn(t.append)&&((n=Is(t))==="formdata"||n==="object"&&kn(t.toString)&&t.toString()==="[object FormData]"))},_v=Vn("URLSearchParams"),yv=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function bo(t,n,{allOwnKeys:o=!1}={}){if(t===null||typeof t>"u")return;let i,l;if(typeof t!="object"&&(t=[t]),Mi(t))for(i=0,l=t.length;i<l;i++)n.call(null,t[i],i,t);else{const c=o?Object.getOwnPropertyNames(t):Object.keys(t),h=c.length;let d;for(i=0;i<h;i++)d=c[i],n.call(null,t[d],d,t)}}function ap(t,n){n=n.toLowerCase();const o=Object.keys(t);let i=o.length,l;for(;i-- >0;)if(l=o[i],n===l.toLowerCase())return l;return null}const lp=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),cp=t=>!mo(t)&&t!==lp;function Va(){const{caseless:t}=cp(this)&&this||{},n={},o=(i,l)=>{const c=t&&ap(n,l)||l;ts(n[c])&&ts(i)?n[c]=Va(n[c],i):ts(i)?n[c]=Va({},i):Mi(i)?n[c]=i.slice():n[c]=i};for(let i=0,l=arguments.length;i<l;i++)arguments[i]&&bo(arguments[i],o);return n}const vv=(t,n,o,{allOwnKeys:i}={})=>(bo(n,(l,c)=>{o&&kn(l)?t[c]=ip(l,o):t[c]=l},{allOwnKeys:i}),t),bv=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),wv=(t,n,o,i)=>{t.prototype=Object.create(n.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:n.prototype}),o&&Object.assign(t.prototype,o)},xv=(t,n,o,i)=>{let l,c,h;const d={};if(n=n||{},t==null)return n;do{for(l=Object.getOwnPropertyNames(t),c=l.length;c-- >0;)h=l[c],(!i||i(h,t,n))&&!d[h]&&(n[h]=t[h],d[h]=!0);t=o!==!1&&yl(t)}while(t&&(!o||o(t,n))&&t!==Object.prototype);return n},kv=(t,n,o)=>{t=String(t),(o===void 0||o>t.length)&&(o=t.length),o-=n.length;const i=t.indexOf(n,o);return i!==-1&&i===o},Lv=t=>{if(!t)return null;if(Mi(t))return t;let n=t.length;if(!sp(n))return null;const o=new Array(n);for(;n-- >0;)o[n]=t[n];return o},Mv=(t=>n=>t&&n instanceof t)(typeof Uint8Array<"u"&&yl(Uint8Array)),Cv=(t,n)=>{const i=(t&&t[Symbol.iterator]).call(t);let l;for(;(l=i.next())&&!l.done;){const c=l.value;n.call(t,c[0],c[1])}},Pv=(t,n)=>{let o;const i=[];for(;(o=t.exec(n))!==null;)i.push(o);return i},Sv=Vn("HTMLFormElement"),Ev=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(o,i,l){return i.toUpperCase()+l}),pu=(({hasOwnProperty:t})=>(n,o)=>t.call(n,o))(Object.prototype),Tv=Vn("RegExp"),up=(t,n)=>{const o=Object.getOwnPropertyDescriptors(t),i={};bo(o,(l,c)=>{n(l,c,t)!==!1&&(i[c]=l)}),Object.defineProperties(t,i)},Ov=t=>{up(t,(n,o)=>{if(kn(t)&&["arguments","caller","callee"].indexOf(o)!==-1)return!1;const i=t[o];if(kn(i)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+o+"'")})}})},Rv=(t,n)=>{const o={},i=l=>{l.forEach(c=>{o[c]=!0})};return Mi(t)?i(t):i(String(t).split(n)),o},Av=()=>{},Bv=(t,n)=>(t=+t,Number.isFinite(t)?t:n),ga="abcdefghijklmnopqrstuvwxyz",du="0123456789",hp={DIGIT:du,ALPHA:ga,ALPHA_DIGIT:ga+ga.toUpperCase()+du},Iv=(t=16,n=hp.ALPHA_DIGIT)=>{let o="";const{length:i}=n;for(;t--;)o+=n[Math.random()*i|0];return o};function Dv(t){return!!(t&&kn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const zv=t=>{const n=new Array(10),o=(i,l)=>{if(zs(i)){if(n.indexOf(i)>=0)return;if(!("toJSON"in i)){n[l]=i;const c=Mi(i)?[]:{};return bo(i,(h,d)=>{const m=o(h,l+1);!mo(m)&&(c[d]=m)}),n[l]=void 0,c}}return i};return o(t,0)},jv=Vn("AsyncFunction"),Nv=t=>t&&(zs(t)||kn(t))&&kn(t.then)&&kn(t.catch),_t={isArray:Mi,isArrayBuffer:op,isBuffer:av,isFormData:gv,isArrayBufferView:lv,isString:cv,isNumber:sp,isBoolean:uv,isObject:zs,isPlainObject:ts,isUndefined:mo,isDate:hv,isFile:pv,isBlob:dv,isRegExp:Tv,isFunction:kn,isStream:mv,isURLSearchParams:_v,isTypedArray:Mv,isFileList:fv,forEach:bo,merge:Va,extend:vv,trim:yv,stripBOM:bv,inherits:wv,toFlatObject:xv,kindOf:Is,kindOfTest:Vn,endsWith:kv,toArray:Lv,forEachEntry:Cv,matchAll:Pv,isHTMLForm:Sv,hasOwnProperty:pu,hasOwnProp:pu,reduceDescriptors:up,freezeMethods:Ov,toObjectSet:Rv,toCamelCase:Ev,noop:Av,toFiniteNumber:Bv,findKey:ap,global:lp,isContextDefined:cp,ALPHABET:hp,generateString:Iv,isSpecCompliantForm:Dv,toJSONObject:zv,isAsyncFn:jv,isThenable:Nv};function _e(t,n,o,i,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",n&&(this.code=n),o&&(this.config=o),i&&(this.request=i),l&&(this.response=l)}_t.inherits(_e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_t.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const pp=_e.prototype,dp={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{dp[t]={value:t}});Object.defineProperties(_e,dp);Object.defineProperty(pp,"isAxiosError",{value:!0});_e.from=(t,n,o,i,l,c)=>{const h=Object.create(pp);return _t.toFlatObject(t,h,function(m){return m!==Error.prototype},d=>d!=="isAxiosError"),_e.call(h,t.message,n,o,i,l),h.cause=t,h.name=t.name,c&&Object.assign(h,c),h};const Fv=null;function $a(t){return _t.isPlainObject(t)||_t.isArray(t)}function fp(t){return _t.endsWith(t,"[]")?t.slice(0,-2):t}function fu(t,n,o){return t?t.concat(n).map(function(l,c){return l=fp(l),!o&&c?"["+l+"]":l}).join(o?".":""):n}function Hv(t){return _t.isArray(t)&&!t.some($a)}const Vv=_t.toFlatObject(_t,{},null,function(n){return/^is[A-Z]/.test(n)});function js(t,n,o){if(!_t.isObject(t))throw new TypeError("target must be an object");n=n||new FormData,o=_t.toFlatObject(o,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,U){return!_t.isUndefined(U[S])});const i=o.metaTokens,l=o.visitor||y,c=o.dots,h=o.indexes,m=(o.Blob||typeof Blob<"u"&&Blob)&&_t.isSpecCompliantForm(n);if(!_t.isFunction(l))throw new TypeError("visitor must be a function");function g(O){if(O===null)return"";if(_t.isDate(O))return O.toISOString();if(!m&&_t.isBlob(O))throw new _e("Blob is not supported. Use a Buffer instead.");return _t.isArrayBuffer(O)||_t.isTypedArray(O)?m&&typeof Blob=="function"?new Blob([O]):Buffer.from(O):O}function y(O,S,U){let C=O;if(O&&!U&&typeof O=="object"){if(_t.endsWith(S,"{}"))S=i?S:S.slice(0,-2),O=JSON.stringify(O);else if(_t.isArray(O)&&Hv(O)||(_t.isFileList(O)||_t.endsWith(S,"[]"))&&(C=_t.toArray(O)))return S=fp(S),C.forEach(function(V,E){!(_t.isUndefined(V)||V===null)&&n.append(h===!0?fu([S],E,c):h===null?S:S+"[]",g(V))}),!1}return $a(O)?!0:(n.append(fu(U,S,c),g(O)),!1)}const w=[],M=Object.assign(Vv,{defaultVisitor:y,convertValue:g,isVisitable:$a});function I(O,S){if(!_t.isUndefined(O)){if(w.indexOf(O)!==-1)throw Error("Circular reference detected in "+S.join("."));w.push(O),_t.forEach(O,function(C,R){(!(_t.isUndefined(C)||C===null)&&l.call(n,C,_t.isString(R)?R.trim():R,S,M))===!0&&I(C,S?S.concat(R):[R])}),w.pop()}}if(!_t.isObject(t))throw new TypeError("data must be an object");return I(t),n}function mu(t){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return n[i]})}function vl(t,n){this._pairs=[],t&&js(t,this,n)}const mp=vl.prototype;mp.append=function(n,o){this._pairs.push([n,o])};mp.toString=function(n){const o=n?function(i){return n.call(this,i,mu)}:mu;return this._pairs.map(function(l){return o(l[0])+"="+o(l[1])},"").join("&")};function $v(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function gp(t,n,o){if(!n)return t;const i=o&&o.encode||$v,l=o&&o.serialize;let c;if(l?c=l(n,o):c=_t.isURLSearchParams(n)?n.toString():new vl(n,o).toString(i),c){const h=t.indexOf("#");h!==-1&&(t=t.slice(0,h)),t+=(t.indexOf("?")===-1?"?":"&")+c}return t}class Uv{constructor(){this.handlers=[]}use(n,o,i){return this.handlers.push({fulfilled:n,rejected:o,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){_t.forEach(this.handlers,function(i){i!==null&&n(i)})}}const gu=Uv,_p={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Gv=typeof URLSearchParams<"u"?URLSearchParams:vl,Zv=typeof FormData<"u"?FormData:null,qv=typeof Blob<"u"?Blob:null,Kv=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Wv=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Fn={isBrowser:!0,classes:{URLSearchParams:Gv,FormData:Zv,Blob:qv},isStandardBrowserEnv:Kv,isStandardBrowserWebWorkerEnv:Wv,protocols:["http","https","file","blob","url","data"]};function Jv(t,n){return js(t,new Fn.classes.URLSearchParams,Object.assign({visitor:function(o,i,l,c){return Fn.isNode&&_t.isBuffer(o)?(this.append(i,o.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)}},n))}function Yv(t){return _t.matchAll(/\w+|\[(\w*)]/g,t).map(n=>n[0]==="[]"?"":n[1]||n[0])}function Xv(t){const n={},o=Object.keys(t);let i;const l=o.length;let c;for(i=0;i<l;i++)c=o[i],n[c]=t[c];return n}function yp(t){function n(o,i,l,c){let h=o[c++];const d=Number.isFinite(+h),m=c>=o.length;return h=!h&&_t.isArray(l)?l.length:h,m?(_t.hasOwnProp(l,h)?l[h]=[l[h],i]:l[h]=i,!d):((!l[h]||!_t.isObject(l[h]))&&(l[h]=[]),n(o,i,l[h],c)&&_t.isArray(l[h])&&(l[h]=Xv(l[h])),!d)}if(_t.isFormData(t)&&_t.isFunction(t.entries)){const o={};return _t.forEachEntry(t,(i,l)=>{n(Yv(i),l,o,0)}),o}return null}const Qv={"Content-Type":void 0};function tb(t,n,o){if(_t.isString(t))try{return(n||JSON.parse)(t),_t.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(o||JSON.stringify)(t)}const Ns={transitional:_p,adapter:["xhr","http"],transformRequest:[function(n,o){const i=o.getContentType()||"",l=i.indexOf("application/json")>-1,c=_t.isObject(n);if(c&&_t.isHTMLForm(n)&&(n=new FormData(n)),_t.isFormData(n))return l&&l?JSON.stringify(yp(n)):n;if(_t.isArrayBuffer(n)||_t.isBuffer(n)||_t.isStream(n)||_t.isFile(n)||_t.isBlob(n))return n;if(_t.isArrayBufferView(n))return n.buffer;if(_t.isURLSearchParams(n))return o.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let d;if(c){if(i.indexOf("application/x-www-form-urlencoded")>-1)return Jv(n,this.formSerializer).toString();if((d=_t.isFileList(n))||i.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return js(d?{"files[]":n}:n,m&&new m,this.formSerializer)}}return c||l?(o.setContentType("application/json",!1),tb(n)):n}],transformResponse:[function(n){const o=this.transitional||Ns.transitional,i=o&&o.forcedJSONParsing,l=this.responseType==="json";if(n&&_t.isString(n)&&(i&&!this.responseType||l)){const h=!(o&&o.silentJSONParsing)&&l;try{return JSON.parse(n)}catch(d){if(h)throw d.name==="SyntaxError"?_e.from(d,_e.ERR_BAD_RESPONSE,this,null,this.response):d}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Fn.classes.FormData,Blob:Fn.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};_t.forEach(["delete","get","head"],function(n){Ns.headers[n]={}});_t.forEach(["post","put","patch"],function(n){Ns.headers[n]=_t.merge(Qv)});const bl=Ns,eb=_t.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nb=t=>{const n={};let o,i,l;return t&&t.split(`
`).forEach(function(h){l=h.indexOf(":"),o=h.substring(0,l).trim().toLowerCase(),i=h.substring(l+1).trim(),!(!o||n[o]&&eb[o])&&(o==="set-cookie"?n[o]?n[o].push(i):n[o]=[i]:n[o]=n[o]?n[o]+", "+i:i)}),n},_u=Symbol("internals");function Ji(t){return t&&String(t).trim().toLowerCase()}function es(t){return t===!1||t==null?t:_t.isArray(t)?t.map(es):String(t)}function rb(t){const n=Object.create(null),o=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=o.exec(t);)n[i[1]]=i[2];return n}const ib=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function _a(t,n,o,i,l){if(_t.isFunction(i))return i.call(this,n,o);if(l&&(n=o),!!_t.isString(n)){if(_t.isString(i))return n.indexOf(i)!==-1;if(_t.isRegExp(i))return i.test(n)}}function ob(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,o,i)=>o.toUpperCase()+i)}function sb(t,n){const o=_t.toCamelCase(" "+n);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+o,{value:function(l,c,h){return this[i].call(this,n,l,c,h)},configurable:!0})})}class Fs{constructor(n){n&&this.set(n)}set(n,o,i){const l=this;function c(d,m,g){const y=Ji(m);if(!y)throw new Error("header name must be a non-empty string");const w=_t.findKey(l,y);(!w||l[w]===void 0||g===!0||g===void 0&&l[w]!==!1)&&(l[w||m]=es(d))}const h=(d,m)=>_t.forEach(d,(g,y)=>c(g,y,m));return _t.isPlainObject(n)||n instanceof this.constructor?h(n,o):_t.isString(n)&&(n=n.trim())&&!ib(n)?h(nb(n),o):n!=null&&c(o,n,i),this}get(n,o){if(n=Ji(n),n){const i=_t.findKey(this,n);if(i){const l=this[i];if(!o)return l;if(o===!0)return rb(l);if(_t.isFunction(o))return o.call(this,l,i);if(_t.isRegExp(o))return o.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,o){if(n=Ji(n),n){const i=_t.findKey(this,n);return!!(i&&this[i]!==void 0&&(!o||_a(this,this[i],i,o)))}return!1}delete(n,o){const i=this;let l=!1;function c(h){if(h=Ji(h),h){const d=_t.findKey(i,h);d&&(!o||_a(i,i[d],d,o))&&(delete i[d],l=!0)}}return _t.isArray(n)?n.forEach(c):c(n),l}clear(n){const o=Object.keys(this);let i=o.length,l=!1;for(;i--;){const c=o[i];(!n||_a(this,this[c],c,n,!0))&&(delete this[c],l=!0)}return l}normalize(n){const o=this,i={};return _t.forEach(this,(l,c)=>{const h=_t.findKey(i,c);if(h){o[h]=es(l),delete o[c];return}const d=n?ob(c):String(c).trim();d!==c&&delete o[c],o[d]=es(l),i[d]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const o=Object.create(null);return _t.forEach(this,(i,l)=>{i!=null&&i!==!1&&(o[l]=n&&_t.isArray(i)?i.join(", "):i)}),o}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,o])=>n+": "+o).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...o){const i=new this(n);return o.forEach(l=>i.set(l)),i}static accessor(n){const i=(this[_u]=this[_u]={accessors:{}}).accessors,l=this.prototype;function c(h){const d=Ji(h);i[d]||(sb(l,h),i[d]=!0)}return _t.isArray(n)?n.forEach(c):c(n),this}}Fs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);_t.freezeMethods(Fs.prototype);_t.freezeMethods(Fs);const tr=Fs;function ya(t,n){const o=this||bl,i=n||o,l=tr.from(i.headers);let c=i.data;return _t.forEach(t,function(d){c=d.call(o,c,l.normalize(),n?n.status:void 0)}),l.normalize(),c}function vp(t){return!!(t&&t.__CANCEL__)}function wo(t,n,o){_e.call(this,t??"canceled",_e.ERR_CANCELED,n,o),this.name="CanceledError"}_t.inherits(wo,_e,{__CANCEL__:!0});function ab(t,n,o){const i=o.config.validateStatus;!o.status||!i||i(o.status)?t(o):n(new _e("Request failed with status code "+o.status,[_e.ERR_BAD_REQUEST,_e.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o))}const lb=Fn.isStandardBrowserEnv?function(){return{write:function(o,i,l,c,h,d){const m=[];m.push(o+"="+encodeURIComponent(i)),_t.isNumber(l)&&m.push("expires="+new Date(l).toGMTString()),_t.isString(c)&&m.push("path="+c),_t.isString(h)&&m.push("domain="+h),d===!0&&m.push("secure"),document.cookie=m.join("; ")},read:function(o){const i=document.cookie.match(new RegExp("(^|;\\s*)("+o+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(o){this.write(o,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function cb(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function ub(t,n){return n?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t}function bp(t,n){return t&&!cb(n)?ub(t,n):n}const hb=Fn.isStandardBrowserEnv?function(){const n=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");let i;function l(c){let h=c;return n&&(o.setAttribute("href",h),h=o.href),o.setAttribute("href",h),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:o.pathname.charAt(0)==="/"?o.pathname:"/"+o.pathname}}return i=l(window.location.href),function(h){const d=_t.isString(h)?l(h):h;return d.protocol===i.protocol&&d.host===i.host}}():function(){return function(){return!0}}();function pb(t){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return n&&n[1]||""}function db(t,n){t=t||10;const o=new Array(t),i=new Array(t);let l=0,c=0,h;return n=n!==void 0?n:1e3,function(m){const g=Date.now(),y=i[c];h||(h=g),o[l]=m,i[l]=g;let w=c,M=0;for(;w!==l;)M+=o[w++],w=w%t;if(l=(l+1)%t,l===c&&(c=(c+1)%t),g-h<n)return;const I=y&&g-y;return I?Math.round(M*1e3/I):void 0}}function yu(t,n){let o=0;const i=db(50,250);return l=>{const c=l.loaded,h=l.lengthComputable?l.total:void 0,d=c-o,m=i(d),g=c<=h;o=c;const y={loaded:c,total:h,progress:h?c/h:void 0,bytes:d,rate:m||void 0,estimated:m&&h&&g?(h-c)/m:void 0,event:l};y[n?"download":"upload"]=!0,t(y)}}const fb=typeof XMLHttpRequest<"u",mb=fb&&function(t){return new Promise(function(o,i){let l=t.data;const c=tr.from(t.headers).normalize(),h=t.responseType;let d;function m(){t.cancelToken&&t.cancelToken.unsubscribe(d),t.signal&&t.signal.removeEventListener("abort",d)}_t.isFormData(l)&&(Fn.isStandardBrowserEnv||Fn.isStandardBrowserWebWorkerEnv?c.setContentType(!1):c.setContentType("multipart/form-data;",!1));let g=new XMLHttpRequest;if(t.auth){const I=t.auth.username||"",O=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";c.set("Authorization","Basic "+btoa(I+":"+O))}const y=bp(t.baseURL,t.url);g.open(t.method.toUpperCase(),gp(y,t.params,t.paramsSerializer),!0),g.timeout=t.timeout;function w(){if(!g)return;const I=tr.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),S={data:!h||h==="text"||h==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:I,config:t,request:g};ab(function(C){o(C),m()},function(C){i(C),m()},S),g=null}if("onloadend"in g?g.onloadend=w:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(w)},g.onabort=function(){g&&(i(new _e("Request aborted",_e.ECONNABORTED,t,g)),g=null)},g.onerror=function(){i(new _e("Network Error",_e.ERR_NETWORK,t,g)),g=null},g.ontimeout=function(){let O=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const S=t.transitional||_p;t.timeoutErrorMessage&&(O=t.timeoutErrorMessage),i(new _e(O,S.clarifyTimeoutError?_e.ETIMEDOUT:_e.ECONNABORTED,t,g)),g=null},Fn.isStandardBrowserEnv){const I=(t.withCredentials||hb(y))&&t.xsrfCookieName&&lb.read(t.xsrfCookieName);I&&c.set(t.xsrfHeaderName,I)}l===void 0&&c.setContentType(null),"setRequestHeader"in g&&_t.forEach(c.toJSON(),function(O,S){g.setRequestHeader(S,O)}),_t.isUndefined(t.withCredentials)||(g.withCredentials=!!t.withCredentials),h&&h!=="json"&&(g.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&g.addEventListener("progress",yu(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&g.upload&&g.upload.addEventListener("progress",yu(t.onUploadProgress)),(t.cancelToken||t.signal)&&(d=I=>{g&&(i(!I||I.type?new wo(null,t,g):I),g.abort(),g=null)},t.cancelToken&&t.cancelToken.subscribe(d),t.signal&&(t.signal.aborted?d():t.signal.addEventListener("abort",d)));const M=pb(y);if(M&&Fn.protocols.indexOf(M)===-1){i(new _e("Unsupported protocol "+M+":",_e.ERR_BAD_REQUEST,t));return}g.send(l||null)})},ns={http:Fv,xhr:mb};_t.forEach(ns,(t,n)=>{if(t){try{Object.defineProperty(t,"name",{value:n})}catch{}Object.defineProperty(t,"adapterName",{value:n})}});const gb={getAdapter:t=>{t=_t.isArray(t)?t:[t];const{length:n}=t;let o,i;for(let l=0;l<n&&(o=t[l],!(i=_t.isString(o)?ns[o.toLowerCase()]:o));l++);if(!i)throw i===!1?new _e(`Adapter ${o} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(_t.hasOwnProp(ns,o)?`Adapter '${o}' is not available in the build`:`Unknown adapter '${o}'`);if(!_t.isFunction(i))throw new TypeError("adapter is not a function");return i},adapters:ns};function va(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new wo(null,t)}function vu(t){return va(t),t.headers=tr.from(t.headers),t.data=ya.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),gb.getAdapter(t.adapter||bl.adapter)(t).then(function(i){return va(t),i.data=ya.call(t,t.transformResponse,i),i.headers=tr.from(i.headers),i},function(i){return vp(i)||(va(t),i&&i.response&&(i.response.data=ya.call(t,t.transformResponse,i.response),i.response.headers=tr.from(i.response.headers))),Promise.reject(i)})}const bu=t=>t instanceof tr?t.toJSON():t;function wi(t,n){n=n||{};const o={};function i(g,y,w){return _t.isPlainObject(g)&&_t.isPlainObject(y)?_t.merge.call({caseless:w},g,y):_t.isPlainObject(y)?_t.merge({},y):_t.isArray(y)?y.slice():y}function l(g,y,w){if(_t.isUndefined(y)){if(!_t.isUndefined(g))return i(void 0,g,w)}else return i(g,y,w)}function c(g,y){if(!_t.isUndefined(y))return i(void 0,y)}function h(g,y){if(_t.isUndefined(y)){if(!_t.isUndefined(g))return i(void 0,g)}else return i(void 0,y)}function d(g,y,w){if(w in n)return i(g,y);if(w in t)return i(void 0,g)}const m={url:c,method:c,data:c,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:d,headers:(g,y)=>l(bu(g),bu(y),!0)};return _t.forEach(Object.keys(Object.assign({},t,n)),function(y){const w=m[y]||l,M=w(t[y],n[y],y);_t.isUndefined(M)&&w!==d||(o[y]=M)}),o}const wp="1.4.0",wl={};["object","boolean","number","function","string","symbol"].forEach((t,n)=>{wl[t]=function(i){return typeof i===t||"a"+(n<1?"n ":" ")+t}});const wu={};wl.transitional=function(n,o,i){function l(c,h){return"[Axios v"+wp+"] Transitional option '"+c+"'"+h+(i?". "+i:"")}return(c,h,d)=>{if(n===!1)throw new _e(l(h," has been removed"+(o?" in "+o:"")),_e.ERR_DEPRECATED);return o&&!wu[h]&&(wu[h]=!0,console.warn(l(h," has been deprecated since v"+o+" and will be removed in the near future"))),n?n(c,h,d):!0}};function _b(t,n,o){if(typeof t!="object")throw new _e("options must be an object",_e.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let l=i.length;for(;l-- >0;){const c=i[l],h=n[c];if(h){const d=t[c],m=d===void 0||h(d,c,t);if(m!==!0)throw new _e("option "+c+" must be "+m,_e.ERR_BAD_OPTION_VALUE);continue}if(o!==!0)throw new _e("Unknown option "+c,_e.ERR_BAD_OPTION)}}const Ua={assertOptions:_b,validators:wl},mr=Ua.validators;class ms{constructor(n){this.defaults=n,this.interceptors={request:new gu,response:new gu}}request(n,o){typeof n=="string"?(o=o||{},o.url=n):o=n||{},o=wi(this.defaults,o);const{transitional:i,paramsSerializer:l,headers:c}=o;i!==void 0&&Ua.assertOptions(i,{silentJSONParsing:mr.transitional(mr.boolean),forcedJSONParsing:mr.transitional(mr.boolean),clarifyTimeoutError:mr.transitional(mr.boolean)},!1),l!=null&&(_t.isFunction(l)?o.paramsSerializer={serialize:l}:Ua.assertOptions(l,{encode:mr.function,serialize:mr.function},!0)),o.method=(o.method||this.defaults.method||"get").toLowerCase();let h;h=c&&_t.merge(c.common,c[o.method]),h&&_t.forEach(["delete","get","head","post","put","patch","common"],O=>{delete c[O]}),o.headers=tr.concat(h,c);const d=[];let m=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(o)===!1||(m=m&&S.synchronous,d.unshift(S.fulfilled,S.rejected))});const g=[];this.interceptors.response.forEach(function(S){g.push(S.fulfilled,S.rejected)});let y,w=0,M;if(!m){const O=[vu.bind(this),void 0];for(O.unshift.apply(O,d),O.push.apply(O,g),M=O.length,y=Promise.resolve(o);w<M;)y=y.then(O[w++],O[w++]);return y}M=d.length;let I=o;for(w=0;w<M;){const O=d[w++],S=d[w++];try{I=O(I)}catch(U){S.call(this,U);break}}try{y=vu.call(this,I)}catch(O){return Promise.reject(O)}for(w=0,M=g.length;w<M;)y=y.then(g[w++],g[w++]);return y}getUri(n){n=wi(this.defaults,n);const o=bp(n.baseURL,n.url);return gp(o,n.params,n.paramsSerializer)}}_t.forEach(["delete","get","head","options"],function(n){ms.prototype[n]=function(o,i){return this.request(wi(i||{},{method:n,url:o,data:(i||{}).data}))}});_t.forEach(["post","put","patch"],function(n){function o(i){return function(c,h,d){return this.request(wi(d||{},{method:n,headers:i?{"Content-Type":"multipart/form-data"}:{},url:c,data:h}))}}ms.prototype[n]=o(),ms.prototype[n+"Form"]=o(!0)});const rs=ms;class xl{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let o;this.promise=new Promise(function(c){o=c});const i=this;this.promise.then(l=>{if(!i._listeners)return;let c=i._listeners.length;for(;c-- >0;)i._listeners[c](l);i._listeners=null}),this.promise.then=l=>{let c;const h=new Promise(d=>{i.subscribe(d),c=d}).then(l);return h.cancel=function(){i.unsubscribe(c)},h},n(function(c,h,d){i.reason||(i.reason=new wo(c,h,d),o(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const o=this._listeners.indexOf(n);o!==-1&&this._listeners.splice(o,1)}static source(){let n;return{token:new xl(function(l){n=l}),cancel:n}}}const yb=xl;function vb(t){return function(o){return t.apply(null,o)}}function bb(t){return _t.isObject(t)&&t.isAxiosError===!0}const Ga={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ga).forEach(([t,n])=>{Ga[n]=t});const wb=Ga;function xp(t){const n=new rs(t),o=ip(rs.prototype.request,n);return _t.extend(o,rs.prototype,n,{allOwnKeys:!0}),_t.extend(o,n,null,{allOwnKeys:!0}),o.create=function(l){return xp(wi(t,l))},o}const He=xp(bl);He.Axios=rs;He.CanceledError=wo;He.CancelToken=yb;He.isCancel=vp;He.VERSION=wp;He.toFormData=js;He.AxiosError=_e;He.Cancel=He.CanceledError;He.all=function(n){return Promise.all(n)};He.spread=vb;He.isAxiosError=bb;He.mergeConfig=wi;He.AxiosHeaders=tr;He.formToJSON=t=>yp(_t.isHTMLForm(t)?new FormData(t):t);He.HttpStatusCode=wb;He.default=He;const xb=He,{url:kb,project_token:Lb}={base_url:"/plecoptera/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://sfg.taxonworks.org/api/v1",project_token:"7JgzFyTsllL_1WuwvcQ_Zw",copyright_image:"https://licensebuttons.net/l/by/4.0/80x15.png",copyright_image_link:"http://creativecommons.org/licenses/by/4.0/",copyright_text:"Unless otherwise noted (e.g. image licenses may vary) all content is licensed under a Creative Commons Attribution 4.0 International License. (CC-BY)",header_logo_url:"https://sfg.taxonworks.org/s/78q89i",header_logo_text:"Plecoptera Species File",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Perla",link:"/perla"}],map_tiles:[{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],metadata:[{name:"description",content:"The Plecoptera Species File is a taxonomic, nomenclatural, and bibliographic database of the stoneflies of the world, including all extant and fossil taxa."},{name:"keywords",content:"taxonomy, species, Species File Group, Plecoptera, stoneflies, taxonpages, Plecoptera Species File"},{name:"robots",content:"follow"}],project_name:"Plecoptera Species File",project_citation:"Plecoptera Species File",project_authors:"DeWalt RE, Maehr MD, Hopkins H, Neu-Becker U, and Stueber G.",project_url:"https://plecoptera.speciesfile.org",project_old_url:"https://plecoptera.archive.speciesfile.org",focal_taxon:"Plecoptera",focal_taxon_common_name:"stoneflies",contact_email:"dewalt@illinois.edu",issue_trackers:[{label:"Data",description:"E.g. missing data that I'd like to add, misspellings, or invalid data",url:"https://github.com/sfg-taxonpages/plecoptera/issues"},{label:"Website",description:"E.g. a link, panel, or other feature is not working as expected",url:"https://github.com/SpeciesFileGroup/taxonpages/issues"}]},Je=xb.create({baseURL:kb,params:{project_token:Lb}});class an{static getTaxonNameCitations(n,o){return Je.get(`/taxon_names/${n}/inventory/catalog`,o)}static getOtu(n){return Je.get(`/otus/${n}`,{params:{extend:["parents"]}})}static getOtus(n){return Je.get("/otus.json",{params:n})}static getTaxon(n,o){return Je.get(`/taxon_names/${n}`,o)}static summary(n,o){return Je.get(`/taxon_names/${n}/inventory/summary`,o)}static getTaxonTypeDesignation(n){return Je.get(`/taxon_names/${n}`,{params:{extend:["type_taxon_name_relationship"]}})}static getOtuImages(n,o){return Je.get(`/otus/${n}/inventory/images.json`,o)}static getTaxonomy(n,o){return Je.get(`/otus/${n}/inventory/taxonomy.json`,o)}static getOtuTypeMaterial(n){return Je.get(`/otus/${n}/inventory/type_material.json`)}static getOtuDistribution(n,o={}){return Je.get(`/otus/${n}/inventory/distribution.json`,o)}static getOtuGeoJSONDistribution(n){return Je.get(`/otus/${n}/inventory/distribution.geojson`)}static getCachedMap(n,o){return Je.get(`/cached_maps/${n}`,o)}static getOtuContent(n,o){return Je.get(`/otus/${n}/inventory/content`,o)}static getCachedMap(n){return Je.get(`/cached_maps/${n}`)}}const Hs=Rs("otuPageRequest",{state:()=>({requests:{}}),getters:{getRequest:t=>n=>t.requests[n],sitemap:t=>{const n=Object.keys(t.requests).sort();return Object.fromEntries(n.map(o=>[o,t.requests[o].url]))}},actions:{setRequest(t,{data:n,request:o}){var l;const i=((l=o.res)==null?void 0:l.responseUrl)||o.responseURL;this.requests[t]={url:i,data:n}}}}),Mb="FamilyGroup",Cb="GenusGroup",kp="SpeciesGroup",go={CanceledError:"CanceledError"},xu=["neotype","holotype","neolectotype","lectotype","syntype","paralectotype","paratype","paratypes"];function nr(t,n){const o=Hs(),i=n();return i.then(l=>{o.setRequest(t,l)}).catch(l=>{l.name!==go.CanceledError&&o.setRequest(t,l.response)}),i}const Ci=Rs("otuStore",{state:()=>({otu:null,taxon:null,images:null,catalog:{sources:[],stats:{},timeline:[],isLoading:!1},taxonomy:{commonNames:[],synonyms:[]}}),actions:{async loadTaxon(t,{signal:n}){const o=await nr("summary",()=>an.summary(t,{signal:n}));this.taxon=o.data},async loadOtu(t,{signal:n}){const o=await an.getOtu(t,{signal:n});this.otu=o.data},async loadTaxonomy(t,{signal:n}){const{data:o}=await an.getTaxonomy(t,{params:{max_descendants_depth:0,extend:["common_names"]},signal:n});this.taxonomy={commonNames:o.common_names,synonyms:o.nomenclatural_synonyms}},async loadCatalog(t,{signal:n}){this.catalog.isLoading=!0;const o=await nr("taxonomy",()=>an.getTaxonNameCitations(t,{signal:n}));this.catalog={...o.data,sources:o.data.sources.map(({cached:i,url:l})=>i.replace(l,`<a href="${l}">${l}</a>`)),isLoading:!1}},async loadInit({otuId:t,controller:n}){Hs().$reset();try{await this.loadOtu(t,n),await this.loadTaxon(this.otu.taxon_name_id,n),await this.loadCatalog(this.otu.taxon_name_id,n),await this.loadTaxonomy(t,n)}catch(i){return Promise.reject(i)}}}});function Pb(t,n){return t||(t={}),t._resolver=n,t}function Sb(t){return Pb(t,"taxon")}function Eb(t){return ml({script:[{type:"application/ld+json",key:"schema-org-graph",nodes:t}]})}const Tb=it("h3",{class:"font-medium"},"Sitemap",-1),Ob={class:"p-4 pt-0"},Rb=it("p",{class:"text-sm mb-2"}," The following links provide the information present on this page in JSON format. ",-1),Ab=["href"],Bb={__name:"SiteMap",setup(t){const n=qt(!1),o=Hs();return(i,l)=>{const c=dt("IconJson"),h=dt("VButton"),d=dt("VTableHeaderCell"),m=dt("VTableHeaderRow"),g=dt("VTableHeader"),y=dt("VTableBodyCell"),w=dt("VTableBodyRow"),M=dt("VTableBody"),I=dt("VTable"),O=dt("VModal");return Z(),et("div",null,[rt(h,{primary:"",class:"text-sm md:flex items-center gap-1 hidden",title:"Links used to obtain the information present on this page in JSON format.",onClick:l[0]||(l[0]=S=>n.value=!0)},{default:mt(()=>[rt(c,{class:"w-4 h-4"}),oe(" Sitemap ")]),_:1}),n.value?(Z(),At(O,{key:0,onClose:l[1]||(l[1]=S=>n.value=!1)},{header:mt(()=>[Tb]),default:mt(()=>[it("div",Ob,[Rb,rt(I,null,{default:mt(()=>[rt(g,null,{default:mt(()=>[rt(m,null,{default:mt(()=>[rt(d,null,{default:mt(()=>[oe(" Request Key ")]),_:1}),rt(d,null,{default:mt(()=>[oe(" URL ")]),_:1})]),_:1})]),_:1}),rt(M,null,{default:mt(()=>[(Z(!0),et(Gt,null,ve(Yt(o).sitemap,(S,U)=>(Z(),At(w,{key:U},{default:mt(()=>[rt(y,{class:"capitalize"},{default:mt(()=>[oe(te(U.replaceAll(":"," ")),1)]),_:2},1024),rt(y,null,{default:mt(()=>[it("a",{href:S},te(S),9,Ab)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),_:1})):Ht("",!0)])}}},Ib={class:"relative"},Db=it("svg",{class:"h-5 w-5 text-primary-500 print:hidden",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[it("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),zb={key:1,class:"absolute right-0 py-2 bg-white dark:bg-gray-900 rounded-md shadow-xl z-20"},jb={__name:"BreadcrumbDropdown",props:{list:{type:Array,required:!0}},setup(t){const n=qt(!1);return(o,i)=>{const l=dt("router-link");return Z(),et("div",Ib,[it("div",null,[it("button",{class:"inline-flex items-center text-sm hover:text-gray-900 text-primary-500 dark:hover:text-gray-500",onClick:i[0]||(i[0]=c=>n.value=!n.value)},[Ee(o.$slots,"default"),Db]),n.value?(Z(),et("div",{key:0,class:"fixed inset-0 h-full w-full z-10",onClick:i[1]||(i[1]=c=>n.value=!1)})):Ht("",!0),n.value?(Z(),et("div",zb,[(Z(!0),et(Gt,null,ve(t.list,c=>(Z(),At(l,{key:c.id,class:"block px-4 py-2 text-sm capitalize hover:bg-secondary-color hover:bg-opacity-5",to:{name:"otus-id",params:{id:c.id}}},{default:mt(()=>[oe(te(c.name||o.key),1)]),_:2},1032,["to"]))),128))])):Ht("",!0)])])}}},Nb={class:"inline-flex items-center flex-wrap"},Fb={class:"inline-flex items-center ml-0 text-sm"},Hb=["innerHTML"],Vb={__name:"Breadcrumb",props:{list:{type:Object,default:()=>({})},current:{type:Object,required:!0}},setup(t){return(n,o)=>{const i=dt("IconArrowRight"),l=dt("router-link");return Z(),et("ul",Nb,[(Z(!0),et(Gt,null,ve(t.list,(c,h,d)=>(Z(),et("li",{key:c.id,class:"inline-flex items-center"},[d?(Z(),At(i,{key:0,class:"w-3 h-3 mr-0.5 ml-0.5 opacity-50"})):Ht("",!0),c.length===1?(Z(),At(l,{key:1,class:"inline-flex items-center text-sm text-accent-100 hover:text-gray-900 dark:hover:text-gray-500 text-secondary-color",to:{name:"otus-id",params:{id:c[0].id}}},{default:mt(()=>[oe(te(h),1)]),_:2},1032,["to"])):(Z(),At(jb,{key:2,list:c.map(m=>({...m,name:m.name||h}))},{default:mt(()=>[oe(te(h),1)]),_:2},1032,["list"]))]))),128)),it("li",Fb,[rt(i,{class:"w-3 h-3 mr-0.5 ml-0.5 opacity-50"}),it("span",{innerHTML:t.current.full_name_tag},null,8,Hb)])])}}},$b={__name:"CommonNames",setup(t){const n=Ci(),o=de(()=>n.taxonomy.commonNames.map(i=>i.name).join("; "));return(i,l)=>(Z(),et("span",null,te(o.value),1))}},Ub={class:"text-1xl capitalize"},Gb={class:"text-xl dark:text-gray-100"},Zb=["title","innerHTML"],qb={key:0,class:"ml-1 text-red-600",title:"Invalid"},Kb={class:"text-1xl"},Wb={__name:"TaxaInfo",setup(t){const n=Ci();return(o,i)=>(Z(),et("div",null,[it("h2",Ub,te(Yt(n).taxon.rank||"Combination"),1),it("h1",Gb,[it("span",null,[it("span",{title:Yt(n).taxon.short_status,innerHTML:Yt(n).taxon.full_name_tag},null,8,Zb),Yt(n).taxon.is_valid?Ht("",!0):(Z(),et("span",qb,"  "))])]),it("h2",Kb,[rt($b)])]))}},Jb={__name:"DWCDownload",props:{otu:{type:Object,required:!0}},setup(t){const n=t,{url:o,project_token:i}={base_url:"/plecoptera/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://sfg.taxonworks.org/api/v1",project_token:"7JgzFyTsllL_1WuwvcQ_Zw",copyright_image:"https://licensebuttons.net/l/by/4.0/80x15.png",copyright_image_link:"http://creativecommons.org/licenses/by/4.0/",copyright_text:"Unless otherwise noted (e.g. image licenses may vary) all content is licensed under a Creative Commons Attribution 4.0 International License. (CC-BY)",header_logo_url:"https://sfg.taxonworks.org/s/78q89i",header_logo_text:"Plecoptera Species File",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Perla",link:"/perla"}],map_tiles:[{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],metadata:[{name:"description",content:"The Plecoptera Species File is a taxonomic, nomenclatural, and bibliographic database of the stoneflies of the world, including all extant and fossil taxa."},{name:"keywords",content:"taxonomy, species, Species File Group, Plecoptera, stoneflies, taxonpages, Plecoptera Species File"},{name:"robots",content:"follow"}],project_name:"Plecoptera Species File",project_citation:"Plecoptera Species File",project_authors:"DeWalt RE, Maehr MD, Hopkins H, Neu-Becker U, and Stueber G.",project_url:"https://plecoptera.speciesfile.org",project_old_url:"https://plecoptera.archive.speciesfile.org",focal_taxon:"Plecoptera",focal_taxon_common_name:"stoneflies",contact_email:"dewalt@illinois.edu",issue_trackers:[{label:"Data",description:"E.g. missing data that I'd like to add, misspellings, or invalid data",url:"https://github.com/sfg-taxonpages/plecoptera/issues"},{label:"Website",description:"E.g. a link, panel, or other feature is not working as expected",url:"https://github.com/SpeciesFileGroup/taxonpages/issues"}]};function l(){window.open(`${o}/otus/${n.otu.id}/inventory/dwc?project_token=${i}`,"_self")}return(c,h)=>{const d=dt("IconDownload"),m=dt("VButton");return Z(),At(m,{primary:"",class:"text-sm flex items-center",title:"Download DwC Occurrences",onClick:h[0]||(h[0]=()=>{l()})},{default:mt(()=>[rt(d,{class:"w-4 h-4 mr-1"}),oe(" DwC ")]),_:1})}}},Yb={class:"bg-base-foreground border-b border-base-muted pl-4 pr-4"},Xb={class:"container mx-auto pt-6 pb-6"},Qb={class:"flex flex-col-reverse md:flex-row justify-between items-start"},t0={class:"mt-8 flex justify-between items-end"},e0={class:"flex flex-row gap-2"},n0={class:"pt-3 pb-4"},r0={class:"container mx-auto box-border"},i0={__name:"Index",setup(t){const n=ov(),o=rp(),i=qt(n.params),l=[],c=Ci();let h=new AbortController;o.afterEach(O=>{i.value=O.params});const d=de(()=>c.otu),m=de(()=>c.taxon),g=de(()=>{var O,S;return((O=d.value)==null?void 0:O.id)&&((S=m.value)==null?void 0:S.id)});al(async()=>{await y()}),Ke(()=>n.fullPath,async()=>{h.abort(),h=new AbortController,y()}),en(async()=>{var O,S;((O=d.value)==null?void 0:O.id)!==Number(n.params.id)||!((S=m.value)!=null&&S.id)?await y():M()}),Lr(()=>{c.$reset()});async function y(){c.$reset();try{await c.loadInit({otuId:n.params.id,controller:h}),M()}catch(O){O.name!==go.CanceledError&&w(O)}}function w(O){var S;switch((S=O==null?void 0:O.response)==null?void 0:S.status){case 404:o.replace({name:"httpError400"});break;case 500:o.replace({name:"httpError500"});break}}function M(){ml({title:`Plecoptera Species File - ${m.value.full_name}`}),Eb([Sb({id:n.fullPath,name:m.value.full_name,scientificName:{name:m.value.full_name,author:m.value.author,taxonRank:m.value.rank},parentTaxon:{name:m.value.parent.full_name,taxonRank:m.value.parent.rank},commonNames:c.taxonomy.commonNames,alternateName:c.taxonomy.synonyms})])}function I({id:O,otu_valid_id:S}){o.push({name:"otus-id-overview",params:{id:S||O}})}return(O,S)=>{const U=dt("VSkeleton"),C=dt("Autocomplete"),R=dt("ClientOnly"),V=dt("TabItem"),E=dt("TabMenu"),z=dt("router-view");return Z(),et("main",null,[it("div",Yb,[it("div",Xb,[it("div",Qb,[rt(U,{class:"w-full md:w-3/4"},{default:mt(()=>{var W;return[g.value?(Z(),At(Vb,{key:0,class:"w-full md:w-3/4",list:((W=d.value)==null?void 0:W.parents)||{},current:m.value},null,8,["list","current"])):Ht("",!0)]}),_:1}),rt(C,{class:"print:hidden min-w-full mb-2 md:min-w-fit md:ml-2 md:mb-0 md:w-96",url:"/otus/autocomplete","query-param":"term",label:"label_html",placeholder:"Search name...",params:{having_taxon_name_only:!0},onSelect:I})]),it("div",t0,[rt(U,{lines:2,class:"w-96"},{default:mt(()=>[g.value?(Z(),At(Wb,{key:0})):Ht("",!0)]),_:1}),it("div",e0,[rt(R,null,{default:mt(()=>[rt(Bb)]),_:1}),g.value?(Z(),At(Jb,{key:0,otu:d.value},null,8,["otu"])):Ht("",!0)])]),l.length?(Z(),At(E,{key:0,class:"m-[-1px] print:hidden"},{default:mt(()=>[(Z(),et(Gt,null,ve(l,({name:W,label:ot})=>rt(V,{key:W,to:{name:W}},{default:mt(()=>[oe(te(ot),1)]),_:2},1032,["to"])),64))]),_:1})):Ht("",!0)])]),it("div",n0,[it("div",r0,[g.value?(Z(),At(z,{key:Yt(n).fullPath,"taxon-id":m.value.id,taxon:m.value,"taxon-rank":m.value.rank_string,"otu-id":d.value.id,otu:d.value},null,8,["taxon-id","taxon","taxon-rank","otu-id","otu"])):Ht("",!0)])])])}}},o0=["innerHTML"],s0={__name:"PanelContentTopic",props:{title:{type:String,required:!0},textList:{type:Array,required:!0}},setup(t){return(n,o)=>{const i=dt("VCardHeader"),l=dt("VCardContent");return Z(),et(Gt,null,[rt(i,{class:"border-t border-base-muted first:border-t-0"},{default:mt(()=>[oe(te(t.title),1)]),_:1}),rt(l,null,{default:mt(()=>[(Z(!0),et(Gt,null,ve(t.textList,(c,h)=>(Z(),et("ul",{key:h,class:"pt-1 text-sm"},[it("li",{innerHTML:c},null,8,o0)]))),128))]),_:1})],64)}}},a0={__name:"PanelContent",props:{otuId:{type:Number,required:!0}},setup(t){const n=t,o=qt([]),i=new AbortController,l=de(()=>o.value.reduce((c,h)=>(c[h.name]?c[h.name].push(h.text):c[h.name]=[h.text],c),{}));return gh(()=>{nr("panel:content",()=>an.getOtuContent(n.otuId,{params:{extend:["depiction"]},signal:i.signal})).then(({data:c})=>{o.value=c}).catch(c=>{})}),Lr(()=>{i.abort()}),(c,h)=>{const d=dt("VCard");return o.value.length?(Z(),At(d,{key:0},{default:mt(()=>[(Z(!0),et(Gt,null,ve(l.value,(m,g)=>(Z(),At(s0,{key:g,title:g,"text-list":m},null,8,["title","text-list"]))),128))]),_:1})):Ht("",!0)}}},l0={id:"panel:content",component:a0},c0={class:"synonyms"},u0=it("span",{class:"text-orange-500 mr-1"},"=",-1),h0=["innerHTML"],p0={__name:"DescendantsSynonymList",props:{list:{type:Array,required:!0}},setup(t){const n=t;return(o,i)=>(Z(),et("ul",c0,[(Z(!0),et(Gt,null,ve(n.list,l=>(Z(),et("li",{key:l},[u0,it("span",{innerHTML:l},null,8,h0)]))),128))]))}};const d0={key:0,class:"tree"},f0={__name:"DescendantsTree",props:{taxonomy:{type:Object,required:!0},level:{type:Number,default:1}},setup(t){const n=t,o=qt(!!n.taxonomy.descendants.length),i=qt([...n.taxonomy.descendants]);Ke(o,c=>{c&&l()});const l=()=>{i.value.length||an.getTaxonomy(n.taxonomy.otu_id,{params:{max_descendants_depth:1}}).then(({data:c})=>{i.value=c.descendants})};return(c,h)=>{const d=dt("button-expand"),m=dt("router-link"),g=dt("AnimationOpacity");return Object.keys(t.taxonomy).length?(Z(),et("li",{key:t.taxonomy.otu_id},[t.taxonomy.leaf_node?Ht("",!0):(Z(),At(d,{key:0,modelValue:o.value,"onUpdate:modelValue":h[0]||(h[0]=y=>o.value=y),class:"absolute -left-2.5"},null,8,["modelValue"])),rt(m,{class:"text-primary-500",to:{name:"otus-id",params:{id:t.taxonomy.otu_id}},innerHTML:t.taxonomy.name},null,8,["to","innerHTML"]),t.taxonomy.nomenclatural_synonyms.length?(Z(),At(p0,{key:1,class:"pb-4",list:t.taxonomy.nomenclatural_synonyms},null,8,["list"])):Ht("",!0),rt(g,null,{default:mt(()=>[i.value.length?(Z(),et("ul",d0,[(Z(!0),et(Gt,null,ve(i.value,y=>(Z(),At(g,{key:y.otu_id},{default:mt(()=>[o.value?(Z(),At(Lp,{key:0,taxonomy:y},null,8,["taxonomy"])):Ht("",!0)]),_:2},1024))),128))])):Ht("",!0)]),_:1})])):Ht("",!0)}}},Lp=ie(f0,[["__scopeId","data-v-b79ba271"]]),m0=it("h3",null,"JSON Data",-1),g0={key:0,class:"p-5 font-normal"},_0={class:"pb-2 text-sm"},y0=["href"],v0={class:"relative"},b0=["innerHTML"],Pi={__name:"PanelDropdown",props:{panelKey:{type:String,required:!0},menuOptions:{type:Array,default:()=>[]}},setup(t){const n=t,o=de(()=>i.getRequest(n.panelKey)),i=Hs(),l=qt(!1),c=de(()=>[...n.menuOptions,{label:"JSON Data",action:()=>l.value=!0}]);return(h,d)=>{const m=dt("IconHamburger"),g=dt("Dropdown"),y=dt("VClipboard"),w=dt("VModal");return Z(),et(Gt,null,[rt(g,{items:c.value},{button:mt(()=>[rt(m,{class:"text-base-soft h-4"})]),_:1},8,["items"]),l.value?(Z(),At(w,{key:0,onClose:d[0]||(d[0]=M=>l.value=!1)},{header:mt(()=>[m0]),default:mt(()=>[o.value?(Z(),et("div",g0,[it("h3",_0,[oe(" URL: "),it("a",{href:o.value.url},te(o.value.url),9,y0)]),it("div",v0,[it("p",{class:"bg-base-background p-2 text-sm font-normal whitespace-pre-wrap",innerHTML:JSON.stringify(o.value.data,null,4)},null,8,b0),rt(y,{class:"absolute right-2 top-2 opacity-75",text:JSON.stringify(o.value.data,null,2)},null,8,["text"])])])):Ht("",!0)]),_:1})):Ht("",!0)],64)}}};const w0=t=>(sh("data-v-91511d41"),t=t(),ah(),t),x0=w0(()=>it("h2",{class:"text-md"},"Descendants and synonyms",-1)),k0={class:"tree ml-2"},L0={__name:"PanelDescendants",props:{otuId:{type:[String,Number],required:!0}},setup(t){const n=t,o=qt(null),i=qt(!1);return Ke(()=>n.otuId,async()=>{n.otuId&&(i.value=!0,nr("panel:descendants",()=>an.getTaxonomy(n.otuId,{params:{max_descendants_depth:1}})).then(({data:l})=>{o.value=l}).finally(()=>i.value=!1))},{immediate:!0}),(l,c)=>{const h=dt("VSpinner"),d=dt("ClientOnly"),m=dt("VCardHeader"),g=dt("AnimationOpacity"),y=dt("VCardContent"),w=dt("VCard");return Z(),At(w,null,{default:mt(()=>[rt(d,null,{default:mt(()=>[i.value?(Z(),At(h,{key:0,"logo-class":"w-8 h-8",legend:""})):Ht("",!0)]),_:1}),rt(m,{class:"flex justify-between"},{default:mt(()=>[x0,rt(Pi,{"panel-key":"panel:descendants"})]),_:1}),rt(y,{class:"text-sm"},{default:mt(()=>[it("ul",k0,[rt(g,null,{default:mt(()=>[o.value&&(o.value.nomenclatural_synonyms.length||o.value.descendants.length)?(Z(),At(Lp,{key:0,taxonomy:o.value},null,8,["taxonomy"])):Ht("",!0)]),_:1})])]),_:1})]),_:1})}}},M0=ie(L0,[["__scopeId","data-v-91511d41"]]),C0={id:"panel:descendants",component:M0},P0=Rs("imageStore",{state:()=>({images:null,controller:null}),actions:{resetRequest(){var t;(t=this.controller)==null||t.abort()},async loadImages(t){const n={extend:["depictions","attribution","source","citations"],otu_scope:["all"]};this.controller=new AbortController;try{const o=await nr("panel:images",()=>an.getOtuImages(t,{params:n,signal:this.controller.signal}));this.images=o.data,this.controller=null}catch(o){o.name!==go.CanceledError&&(this.controller=null)}}}}),S0={__name:"PanelGallery",props:{otuId:{type:[String,Number],required:!0}},setup(t){const n=t,o=P0(),i=de(()=>o.images||[]);return al(async()=>{await o.loadImages(n.otuId)}),en(()=>{o.images||o.loadImages(n.otuId)}),Lr(()=>{o.resetRequest(),o.$reset()}),(l,c)=>{const h=dt("GalleryImage"),d=dt("VCardContent"),m=dt("VCard");return i.value.length?(Z(),At(m,{key:0},{default:mt(()=>[rt(d,null,{default:mt(()=>[rt(h,{images:i.value},null,8,["images"])]),_:1})]),_:1})):Ht("",!0)}}},E0={id:"panel:gallery",component:S0,available:[kp]};function T0(t,n){return n.split("::").at(2)===t}function O0(t,n){return{type:"Feature",geometry:t,properties:{base:[{type:n}]}}}function R0(t){const n=[],o=[];return t.features.forEach(i=>{const l=i.properties.shape.id,c=i.properties.shape.type;o.includes(i.properties.base.type)||o.push(i.properties.base.type);const h=n.findIndex(d=>d.properties.shape.id===l&&d.properties.shape.type===c);if(h>-1){const d=n[h];d.properties.base.push(i.properties.base),d.properties.target.push(i.properties.target)}else{const d=structuredClone(i);d.properties.base=[d.properties.base],d.properties.target=[d.properties.target],n.push(d)}}),o.sort(),{shapeTypes:o,features:n}}const A0=Rs("distributionStore",{state:()=>({distribution:{geojson:null,errorMessage:null,currentShapeTypes:[],cachedMap:null},controller:null}),actions:{resetRequest(){var t;(t=this.controller)==null||t.abort()},loadCachedMap(t){an.getCachedMap(t,{signal:this.controller.signal}).then(n=>{this.distribution.cachedMap=n.data})},async getAggregateShape(t){nr("panel:map",()=>an.getOtuDistribution(t,{signal:this.controller.signal})).then(({data:n})=>{const o=JSON.parse(n.cached_map.geo_json);this.distribution.currentShapeTypes=["Aggregate"],this.distribution.geojson={features:[O0(o,"Aggregate")]},this.loadCachedMap(n.cached_map.id)}).catch(n=>{n.name!=go.CanceledError&&(this.distribution.errorMessage=n.response.data.error,this.distribution.currentShapeTypes=[],this.distribution.geojson=[])})},async loadDistribution({otuId:t,rankString:n}){const o=n&&T0("SpeciesGroup",n);this.controller=new AbortController,o?nr("panel:map",()=>an.getOtuGeoJSONDistribution(t,{signal:this.controller.signal})).then(({data:i})=>{if(i.request_too_large)this.distribution.geojson=null,this.distribution.errorMessage=i.message;else{const{features:l,shapeTypes:c}=R0(i);this.distribution.currentShapeTypes=c,this.distribution.geojson={features:l}}}).catch(i=>{i.name!==go.CanceledError&&this.getAggregateShape(t)}):this.getAggregateShape(t)}}});const B0=it("h3",{class:"font-medium"},"Cached map",-1),I0={class:"p-4 pt-0"},D0={key:0,class:"text-success flex text-sm items-center"},z0=it("span",{class:"ml-1"}," Map is synchronized with the latest changes * ",-1),j0={key:1,class:"text-warning flex text-sm items-center"},N0=it("span",{class:"ml-1"}," Map is not synchronized with the latest changes * ",-1),F0=it("p",{class:"italic text-xs pt-4"}," * Aggregate maps are generated from georeference and asserted distribution data. Map computation takes time, and as such they are re-calculated periodically rather than when individual georeferences and asserted distributions are created, destroyed, or updated. When a warning notice is present then the map is not syncronized with the latest changes to the underlying data. ",-1),H0={__name:"CachedMap",props:{cachedMap:{type:Object,required:!0}},setup(t){const n=qt(!1);return(o,i)=>{const l=dt("IconCheck"),c=dt("IconWarning"),h=dt("VButton"),d=dt("VTableHeaderCell"),m=dt("VTableHeaderRow"),g=dt("VTableHeader"),y=dt("VTableBodyCell"),w=dt("VTableBodyRow"),M=dt("VTableBody"),I=dt("VTable"),O=dt("VModal");return Z(),et(Gt,null,[rt(h,{class:"left-2 bottom-2 !px-2 py-2 rounded-full absolute z-[1500]",primary:"",title:"Cached map",onClick:i[0]||(i[0]=S=>n.value=!0)},{default:mt(()=>[t.cachedMap.synced?(Z(),At(l,{key:0,class:"w-4 h-4"})):(Z(),At(c,{key:1,class:"w-4 h-4"}))]),_:1}),n.value?(Z(),At(O,{key:0,onClose:i[1]||(i[1]=()=>n.value=!1)},{header:mt(()=>[B0]),default:mt(()=>[it("div",I0,[rt(I,null,{default:mt(()=>[rt(g,null,{default:mt(()=>[rt(m,null,{default:mt(()=>[rt(d,null,{default:mt(()=>[oe("Data")]),_:1}),rt(d)]),_:1})]),_:1}),rt(M,null,{default:mt(()=>[rt(w,null,{default:mt(()=>[rt(y,null,{default:mt(()=>[oe(" Is synced ")]),_:1}),rt(y,null,{default:mt(()=>[t.cachedMap.synced?(Z(),et("p",D0,[rt(l,{class:"w-4 h-4"}),z0])):(Z(),et("p",j0,[rt(c,{class:"w-4 h-4"}),N0]))]),_:1})]),_:1}),rt(w,null,{default:mt(()=>[rt(y,null,{default:mt(()=>[oe(" Last update ")]),_:1}),rt(y,null,{default:mt(()=>[oe(te(new Date(t.cachedMap.updated_at)),1)]),_:1})]),_:1})]),_:1}),rt(g,null,{default:mt(()=>[rt(m,null,{default:mt(()=>[rt(d,null,{default:mt(()=>[oe("Source")]),_:1}),rt(d,null,{default:mt(()=>[oe("Total")]),_:1})]),_:1})]),_:1}),rt(M,null,{default:mt(()=>[(Z(!0),et(Gt,null,ve(t.cachedMap.source_scope,(S,U)=>(Z(),At(w,{key:U},{default:mt(()=>[rt(y,{class:"capitalize"},{default:mt(()=>[oe(te(U.replaceAll("_"," ")),1)]),_:2},1024),rt(y,null,{default:mt(()=>[oe(te(S),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),F0])]),_:1})):Ht("",!0)],64)}}},V0={class:"bottom-0 w-screen bg-base-foreground z-[1000] left-0 p-4 text-sm flex flex-row justify-between align-middle box-border border-b border-base-muted"},$0=["innerHTML"],U0={__name:"SearchBar",props:{label:{type:String,required:!0}},emits:["close"],setup(t,{emit:n}){return(o,i)=>{const l=dt("IconClose");return Z(),et("div",V0,[it("div",null,[it("span",{class:"ml-2",innerHTML:t.label},null,8,$0)]),rt(l,{class:"cursor-pointer",onClick:i[0]||(i[0]=()=>n("close"))})])}}},G0={key:1,class:"text-lg text-center text-base-lighter align-middle p-4"},Z0={__name:"ListResults",props:{list:{type:Array,default:()=>[]}},emits:["close","close:table"],setup(t,{emit:n}){return(o,i)=>{const l=dt("IconArrowRight"),c=dt("VTableHeaderCell"),h=dt("VTableHeaderRow"),d=dt("VTableHeader"),m=dt("RouterLink"),g=dt("VTableBodyCell"),y=dt("VTableBodyRow"),w=dt("VTableBody"),M=dt("VTable");return t.list.length?(Z(),At(M,{key:0,class:"shadow-md"},{default:mt(()=>[rt(d,null,{default:mt(()=>[rt(h,null,{default:mt(()=>[rt(c,{class:"w-full flex justify-between box-border items-center"},{default:mt(()=>[it("span",null,"OTU ("+te(t.list.length)+")",1),rt(l,{class:"opacity-50 cursor-pointer w-4 h-4",onClick:i[0]||(i[0]=I=>n("close:table"))})]),_:1})]),_:1})]),_:1}),rt(w,null,{default:mt(()=>[(Z(!0),et(Gt,null,ve(t.list,I=>(Z(),At(y,{key:I.id},{default:mt(()=>[rt(g,null,{default:mt(()=>[rt(m,{innerHTML:I.object_tag,to:{name:"otus-id",params:{id:I.id}},onClick:i[1]||(i[1]=()=>n("close"))},null,8,["innerHTML","to"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(Z(),et("div",G0," No OTUs found in this area "))}}};const q0={__name:"OtuSearch",props:{otu:{type:Array,default:()=>[]},shapes:{type:Object,default:void 0}},emits:["close"],setup(t,{emit:n}){const o=t,i=qt(),l=qt(null),c=qt([]),h=qt(!1),d=qt(),m=qt(6),g=qt(6),y=de(()=>!!o.shapes&&g.value<=m.value);en(()=>{document.addEventListener("keyup",w),document.body.classList.add("overflow-hidden")}),Zr(()=>{document.removeEventListener("keyup",w),document.body.classList.remove("overflow-hidden")});const w=({key:U})=>{switch(U){case"Escape":n("close");break}};function M(U){const C={geo_json:U,taxon_name_id:[o.otu.taxon_name_id],descendants:!0,per:5e3};d.value=!0,an.getOtus(C).then(({data:R})=>{c.value=R,h.value=!0}).finally(R=>{d.value=!1})}function I(U){O(),y.value&&l.value.resizeMap()}function O(){g.value=l.value.getMapObject().getZoom()}function S(){m.value=l.value.getMapObject().getZoom(),O()}return(U,C)=>{const R=dt("VSpinner"),V=dt("VMap");return Z(),et("div",{ref_key:"root",ref:i,class:"w-screen h-screen fixed top-0 left-0 z-[5000] flex flex-col"},[d.value?(Z(),At(R,{key:0})):Ht("",!0),rt(U0,{label:t.otu.object_tag,onClose:C[0]||(C[0]=()=>n("close"))},null,8,["label"]),it("div",{class:tn(["w-full h-full relative",{"disable-zoom-out":y.value}])},[rt(V,{ref_key:"mapRef",ref:l,class:"w-full h-full",controls:"",dragging:!y.value,"zoom-bounds":m.value,geojson:t.shapes,"onGeojson:ready":S,"onAdd:layer":C[1]||(C[1]=E=>M(JSON.stringify(E.geometry))),"onEdit:layer":C[2]||(C[2]=E=>M(JSON.stringify(E.geometry))),"onDrag:layer":C[3]||(C[3]=E=>M(JSON.stringify(E.geometry))),"onZoom:change":I,zoom:4},null,8,["dragging","zoom-bounds","geojson"]),it("div",{class:tn(["h-full md:w-96 absolute top-0 bg-base-background z-[2000] overflow-auto ease-in-out duration-300 w-full",{"md:-right-96 -right-full":!h.value,"right-0":h.value}])},[h.value?(Z(),At(Z0,{key:0,list:c.value,onClose:C[4]||(C[4]=()=>n("close")),"onClose:table":C[5]||(C[5]=()=>h.value=!1)},null,8,["list"])):Ht("",!0)],2)],2)],512)}}},K0=ie(q0,[["__scopeId","data-v-3caf981b"]]),W0={class:"relative"},J0={key:0,class:"flex flex-row p-2 text-xs italic"},Y0={key:1,class:"flex flex-row p-2 gap-2 text-xs"},X0=2,Q0={__name:"PanelMap",props:{otuId:{type:[String,Number],required:!0},otu:{type:Object,required:!0},taxon:{type:Object,required:!0}},setup(t){const n=t,o=qt(!0),i=qt(!1),l=A0(),c={AssertedDistribution:{label:"Asserted distribution",background:"bg-map-asserted"},Georeference:{label:"Georeference",background:"bg-map-georeference"},TypeMaterial:{label:"Type material",background:"bg-map-type-material"},CollectionObject:{label:"Collection object",background:"bg-map-collection-object"},Aggregate:{label:"Aggregate (Asserted distribution & Georeference)",background:"bg-map-aggregate"}};return en(()=>{o.value=!0,l.loadDistribution({otuId:n.otuId,rankString:n.taxon.rank_string})}),Lr(()=>{l.resetRequest(),l.$reset()}),(h,d)=>{const m=dt("VSpinner"),g=dt("VMap"),y=dt("VButton"),w=dt("ClientOnly"),M=dt("VCard");return Z(),At(M,null,{default:mt(()=>[it("div",W0,[rt(w,null,{default:mt(()=>[o.value?(Z(),At(m,{key:0})):Ht("",!0),rt(g,{class:"h-96 max-h-96",dragging:"",zoom:X0,geojson:Yt(l).distribution.geojson,"onGeojson:ready":d[0]||(d[0]=()=>o.value=!1)},null,8,["geojson"]),rt(y,{class:"h-6 text-sm absolute right-3 top-3 z-[400]",primary:"",onClick:d[1]||(d[1]=()=>i.value=!0)},{default:mt(()=>[oe(" Search ")]),_:1}),i.value?(Z(),At(K0,{key:1,otu:t.otu,shapes:Yt(l).distribution.geojson,onClose:d[2]||(d[2]=()=>i.value=!1)},null,8,["otu","shapes"])):Ht("",!0),Yt(l).distribution.cachedMap?(Z(),At(H0,{key:2,"cached-map":Yt(l).distribution.cachedMap},null,8,["cached-map"])):Ht("",!0)]),_:1})]),Yt(l).distribution.errorMessage?(Z(),et("div",J0," * "+te(Yt(l).distribution.errorMessage),1)):Ht("",!0),Yt(l).distribution.currentShapeTypes.length?(Z(),et("div",Y0,[(Z(!0),et(Gt,null,ve(Yt(l).distribution.currentShapeTypes,I=>(Z(),et("div",{key:I,class:"flex flex-row items-center"},[it("div",{class:tn(["w-3 h-3 m-1 rounded-sm",c[I].background])},null,2),it("span",null,te(c[I].label),1)]))),128))])):Ht("",!0)]),_:1})}}},tw={id:"panel:map",component:Q0};function Mp(t,n){const o=t.slice(),i=o.splice(0,n),l=o.splice(-n);return{first:i,middle:o,last:l}}const ew={class:"border-b border-base-muted p-3 px-5"},nw=["title","innerHTML"],rw=["innerHTML"],ba={__name:"PanelCitationRow",props:{citation:{type:Object,required:!0}},setup(t){return(n,o)=>(Z(),et("li",ew,[it("span",{class:"break-all block",title:t.citation.label,innerHTML:t.citation.label},null,8,nw),t.citation.type_label?(Z(),et("span",{key:0,class:"ml-4 text-base-soft",innerHTML:t.citation.type_label},null,8,rw)):Ht("",!0)]))}},iw={class:"flex justify-start border-b p-3 px-4 cursor-pointer border-base-muted"},Cp={__name:"PanelNomenclatureShowMore",props:{count:{type:Number,required:!0}},setup(t){return(n,o)=>{const i=dt("IconPlusCircle");return Z(),et("li",iw,[it("div",{class:"h-5 w-5 text-secondary-color opacity-60 mr-2 cursor-pointer",onClick:o[0]||(o[0]=()=>n.isExpanded=!n.isExpanded)},[rt(i,{class:"h-5 w-5"})]),it("span",null,"... Show all ... ("+te(t.count)+")",1)])}}},ow={class:"text-md"},sw={class:"text-sm"},aw={class:"text-sm"},lw={class:"text-sm"},cw=2,uw={__name:"PanelNomenclature",props:{otuId:{type:[Number,String],required:!0},taxonId:{type:[Number,String],required:!0},taxon:{type:Object,default:void 0},otu:{type:Object,default:void 0}},setup(t){const n=Ci(),o=qt(!1),i=de(()=>Mp(n.catalog.timeline,cw)),l=de(()=>[{label:o.value?"Show less":"Show all",action:()=>o.value=!o.value}]);return(c,h)=>{const d=dt("VSpinner"),m=dt("VCardHeader"),g=dt("AnimationOpacity"),y=dt("VCard");return Z(),At(y,null,{default:mt(()=>[Yt(n).catalog.isLoading?(Z(),At(d,{key:0,"logo-class":"w-8 h-8",legend:""})):Ht("",!0),rt(m,{class:"flex justify-between"},{default:mt(()=>[it("h2",ow," Nomenclature ("+te(Yt(n).catalog.timeline.length)+") ",1),rt(Pi,{"menu-options":l.value,"panel-key":"taxonomy"},null,8,["menu-options"])]),_:1}),it("ul",sw,[(Z(!0),et(Gt,null,ve(i.value.first,w=>(Z(),At(ba,{key:w.label,citation:w},null,8,["citation"]))),128)),!o.value&&i.value.middle.length?(Z(),At(Cp,{key:0,count:i.value.middle.length,onClick:h[0]||(h[0]=w=>o.value=!0)},null,8,["count"])):Ht("",!0)]),rt(g,null,{default:mt(()=>[vo(it("ul",aw,[(Z(!0),et(Gt,null,ve(i.value.middle,w=>(Z(),At(ba,{key:w.label,citation:w},null,8,["citation"]))),128))],512),[[Ts,o.value]])]),_:1}),it("ul",lw,[(Z(!0),et(Gt,null,ve(i.value.last,w=>(Z(),At(ba,{key:w.label,citation:w},null,8,["citation"]))),128))])]),_:1})}}},hw={id:"panel:nomenclature",component:uw},pw={class:"border-b border-base-muted p-3 px-5"},dw=["title","innerHTML"],wa={__name:"PanelReferenceRow",props:{reference:{type:String,required:!0}},setup(t){return(n,o)=>(Z(),et("li",pw,[it("span",{class:"break-all block",title:t.reference,innerHTML:t.reference},null,8,dw)]))}},fw={class:"text-md"},mw={class:"text-sm"},gw=2,_w={__name:"PanelNomenclatureReferences",setup(t){const n=Ci(),o=qt(!1),i=de(()=>Mp(n.catalog.sources,gw)),l=de(()=>[{label:o.value?"Show less":"Show all",action:()=>o.value=!o.value}]);return(c,h)=>{const d=dt("VSpinner"),m=dt("VCardHeader"),g=dt("AnimationOpacity"),y=dt("VCard");return Z(),At(y,null,{default:mt(()=>[Yt(n).catalog.isLoading?(Z(),At(d,{key:0,"logo-class":"w-8 h-8",legend:""})):Ht("",!0),rt(m,{class:"flex justify-between"},{default:mt(()=>[it("h2",fw," Nomenclature references ("+te(Yt(n).catalog.sources.length)+") ",1),rt(Pi,{"menu-options":l.value,"panel-key":"taxonomy"},null,8,["menu-options"])]),_:1}),it("ul",mw,[(Z(!0),et(Gt,null,ve(i.value.first,w=>(Z(),At(wa,{key:w,reference:w},null,8,["reference"]))),128)),!o.value&&i.value.middle.length?(Z(),At(Cp,{key:0,count:i.value.middle.length,onClick:h[0]||(h[0]=w=>o.value=!0)},null,8,["count"])):Ht("",!0),rt(g,null,{default:mt(()=>[vo(it("div",null,[(Z(!0),et(Gt,null,ve(i.value.middle,w=>(Z(),At(wa,{key:w,reference:w},null,8,["reference"]))),128))],512),[[Ts,o.value]])]),_:1}),(Z(!0),et(Gt,null,ve(i.value.last,w=>(Z(),At(wa,{key:w,reference:w},null,8,["reference"]))),128))])]),_:1})}}},yw={id:"panel:nomenclature-references",component:_w},vw=it("h2",{class:"text-md"},"Stats",-1),bw={__name:"PanelStats",props:{otuId:{type:[Number,String],required:!0},taxonId:{type:[Number,String],required:!0},taxon:{type:Object,default:void 0},otu:{type:Object,default:void 0}},setup(t){const n=Ci();return(o,i)=>{const l=dt("VSpinner"),c=dt("VCardHeader"),h=dt("VTableHeaderCell"),d=dt("VTableHeaderRow"),m=dt("VTableHeader"),g=dt("VTableBodyCell"),y=dt("VTableBodyRow"),w=dt("VTableBody"),M=dt("VTable"),I=dt("VCardContent"),O=dt("VCard");return Z(),At(O,null,{default:mt(()=>[Yt(n).catalog.isLoading?(Z(),At(l,{key:0,"logo-class":"w-8 h-8",legend:""})):Ht("",!0),rt(c,{class:"flex justify-between"},{default:mt(()=>[vw,rt(Pi,{"panel-key":"taxonomy"})]),_:1}),rt(I,{class:"text-sm"},{default:mt(()=>[rt(M,null,{default:mt(()=>[rt(m,null,{default:mt(()=>[rt(d,null,{default:mt(()=>[rt(h,{class:"bg-base-foreground"}),rt(h,{title:"OTUs linked to valid protonyms"},{default:mt(()=>[oe(" Taxa ")]),_:1}),rt(h,{title:"Taxon names",class:"border-l border-base-border"},{default:mt(()=>[oe(" Names ")]),_:1}),rt(h,{colspan:"2",class:"bg-base-foreground"})]),_:1}),rt(d,null,{default:mt(()=>[rt(h,null,{default:mt(()=>[oe("Rank")]),_:1}),rt(h,{title:"OTUs linked to valid protonyms"},{default:mt(()=>[oe("Total")]),_:1}),rt(h,{title:"Taxon names",class:"border-l border-base-border"},{default:mt(()=>[oe(" Total ")]),_:1}),rt(h,null,{default:mt(()=>[oe(" Valid ")]),_:1}),rt(h,null,{default:mt(()=>[oe(" Invalid ")]),_:1})]),_:1})]),_:1}),rt(w,null,{default:mt(()=>[(Z(!0),et(Gt,null,ve(Yt(n).catalog.stats.taxa,(S,U)=>(Z(),At(y,{key:U},{default:mt(()=>[rt(g,{class:"capitalize"},{default:mt(()=>[oe(te(U),1)]),_:2},1024),rt(g,null,{default:mt(()=>[oe(te(S),1)]),_:2},1024),rt(g,{class:"border-l border-base-border"},{default:mt(()=>[oe(te(Yt(n).catalog.stats.names[U].invalid+Yt(n).catalog.stats.names[U].valid),1)]),_:2},1024),rt(g,null,{default:mt(()=>[oe(te(Yt(n).catalog.stats.names[U].valid),1)]),_:2},1024),rt(g,null,{default:mt(()=>[oe(te(Yt(n).catalog.stats.names[U].invalid),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})}}},ww={id:"panel:statistics",component:bw},xw=it("h2",{class:"text-md"},"Type",-1),kw=["innerHTML"],Lw={__name:"PanelTypeDesignation",props:{taxonId:{type:[String,Number],required:!0}},setup(t){const n=t,o=qt({}),i=de(()=>[o.value.subject_object_tag||"",o.value.subject_status_tag||"",o.value.object_object_tag||""].join(" "));return Ke(()=>n.taxonId,async()=>{n.taxonId&&nr("panel:type",()=>an.getTaxonTypeDesignation(n.taxonId)).then(({data:l})=>{o.value=l.type_taxon_name_relationship||{}})},{immediate:!0}),(l,c)=>{const h=dt("VCardHeader"),d=dt("VCardContent"),m=dt("VCard");return Z(),At(m,null,{default:mt(()=>[rt(h,{class:"flex justify-between"},{default:mt(()=>[xw,rt(Pi,{"panel-key":"panel:type"})]),_:1}),rt(d,{class:"text-sm"},{default:mt(()=>[it("p",{innerHTML:i.value},null,8,kw)]),_:1})]),_:1})}}},Mw={id:"panel:type",component:Lw,available:[Mb,Cb]},Cw=it("h2",{class:"text-md"},"Type specimen",-1),Pw={__name:"PanelTypeSpecimen",props:{otuId:{type:[String,Number],required:!0}},setup(t){const n=t,o=qt([]);return Ke(()=>n.otuId,()=>{n.otuId&&nr("panel:typeMaterial",()=>an.getOtuTypeMaterial(n.otuId)).then(({data:i})=>{o.value=i.type_materials_catalog_labels.sort((l,c)=>xu.indexOf(l.type_type)-xu.indexOf(c.type_type))})},{immediate:!0}),(i,l)=>{const c=dt("VCardHeader"),h=dt("VCardContent"),d=dt("VCard");return o.value.length?(Z(),At(d,{key:0},{default:mt(()=>[rt(c,{class:"flex justify-between"},{default:mt(()=>[Cw,rt(Pi,{"panel-key":"panel:typeMaterial"})]),_:1}),rt(h,{class:"text-sm"},{default:mt(()=>[it("p",null,te(o.value[0].label),1)]),_:1})]),_:1})):Ht("",!0)}}},Sw={id:"panel:type-specimen",component:Pw,available:[kp]},Ew=Object.values(Object.assign({"/src/modules/otus/components/Panel/PanelContent/main.js":l0,"/src/modules/otus/components/Panel/PanelDescendants/main.js":C0,"/src/modules/otus/components/Panel/PanelGallery/main.js":E0,"/src/modules/otus/components/Panel/PanelMap/main.js":tw,"/src/modules/otus/components/Panel/PanelNomenclature/main.js":hw,"/src/modules/otus/components/Panel/PanelNomenclatureReferences/main.js":yw,"/src/modules/otus/components/Panel/PanelStats/main.js":ww,"/src/modules/otus/components/Panel/PanelTypeDesignation/main.js":Mw,"/src/modules/otus/components/Panel/PanelTypeSpecimen/main.js":Sw})),{taxa_page_overview:xa}={base_url:"/plecoptera/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://sfg.taxonworks.org/api/v1",project_token:"7JgzFyTsllL_1WuwvcQ_Zw",copyright_image:"https://licensebuttons.net/l/by/4.0/80x15.png",copyright_image_link:"http://creativecommons.org/licenses/by/4.0/",copyright_text:"Unless otherwise noted (e.g. image licenses may vary) all content is licensed under a Creative Commons Attribution 4.0 International License. (CC-BY)",header_logo_url:"https://sfg.taxonworks.org/s/78q89i",header_logo_text:"Plecoptera Species File",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Perla",link:"/perla"}],map_tiles:[{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],metadata:[{name:"description",content:"The Plecoptera Species File is a taxonomic, nomenclatural, and bibliographic database of the stoneflies of the world, including all extant and fossil taxa."},{name:"keywords",content:"taxonomy, species, Species File Group, Plecoptera, stoneflies, taxonpages, Plecoptera Species File"},{name:"robots",content:"follow"}],project_name:"Plecoptera Species File",project_citation:"Plecoptera Species File",project_authors:"DeWalt RE, Maehr MD, Hopkins H, Neu-Becker U, and Stueber G.",project_url:"https://plecoptera.speciesfile.org",project_old_url:"https://plecoptera.archive.speciesfile.org",focal_taxon:"Plecoptera",focal_taxon_common_name:"stoneflies",contact_email:"dewalt@illinois.edu",issue_trackers:[{label:"Data",description:"E.g. missing data that I'd like to add, misspellings, or invalid data",url:"https://github.com/sfg-taxonpages/plecoptera/issues"},{label:"Website",description:"E.g. a link, panel, or other feature is not working as expected",url:"https://github.com/SpeciesFileGroup/taxonpages/issues"}]},Tw=[[["panel:gallery","panel:type","panel:type","panel:type-specimen","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:descendants","panel:content","panel:statistics"]]];function Ow(t){return t.map(n=>n.map(o=>o.map(i=>{const c=typeof i=="string"?{id:i}:{...i};return{...Ew.find(d=>d.id===c.id),...c}})))}const Rw=Ow((xa==null?void 0:xa.panels)||Tw),Aw={class:"grid gap-3"},Bw={__name:"Overview",props:{taxonId:{type:[Number,String],required:!0},taxonRank:{type:[String,null],required:!0},otuId:{type:[Number,String],required:!0},otu:{type:Object,required:!0},taxon:{type:Object,required:!0}},setup(t){const n={1:["md:grid-cols-1"],2:["md:grid-cols-2"],3:["md:grid-cols-3"]};function o(i,l){return i.some(c=>l==null?void 0:l.includes(c))}return(i,l)=>(Z(),et("div",Aw,[(Z(!0),et(Gt,null,ve(Yt(Rw),(c,h)=>(Z(),et("div",{class:tn(["grid grid-cols-1 gap-3",[n[c.length]]])},[(Z(!0),et(Gt,null,ve(c,(d,m)=>(Z(),et("div",{class:"grid grid-cols-1 gap-3 auto-rows-min",key:m},[(Z(!0),et(Gt,null,ve(d,({component:g,available:y,id:w})=>(Z(),et(Gt,{key:w},[!y||o(y,t.taxonRank)?(Z(),At(Ps(g),{key:0,"otu-id":t.otuId,otu:t.otu,"taxon-id":t.taxonId,taxon:t.taxon},null,8,["otu-id","otu","taxon-id","taxon"])):Ht("",!0)],64))),128))]))),128))],2))),256))]))}},Iw=[{name:"otus-id",path:"/otus/:id",component:i0,redirect:{name:"otus-id-overview"},children:[{path:"overview",name:"otus-id-overview",component:Bw}]}],Dw="modulepreload",zw=function(t){return"/plecoptera/"+t},ku={},Pp=function(n,o,i){if(!o||o.length===0)return n();const l=document.getElementsByTagName("link");return Promise.all(o.map(c=>{if(c=zw(c),c in ku)return;ku[c]=!0;const h=c.endsWith(".css"),d=h?'[rel="stylesheet"]':"";if(!!i)for(let y=l.length-1;y>=0;y--){const w=l[y];if(w.href===c&&(!h||w.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${d}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":Dw,h||(g.as="script",g.crossOrigin=""),g.href=c,document.head.appendChild(g),h)return new Promise((y,w)=>{g.addEventListener("load",y),g.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${c}`)))})})).then(()=>n()).catch(c=>{const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c})},jw=()=>Pp(()=>import("./home-a54319b4.js"),[]),Nw=()=>Pp(()=>import("./about-3478d02e.js"),[]),Fw=[{name:"home",path:"/",component:jw,props:!0,alias:"/home"},{name:"about",path:"/about",component:Nw,props:!0}],Hw=Object.assign({"/src/modules/home/router/index.js":j_,"/src/modules/httpErrorPages/router/index.js":ey,"/src/modules/otus/router/index.js":Iw}),Vw=Object.assign({}),{base_url:Lu,hash_mode:$w}={base_url:"/plecoptera/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://sfg.taxonworks.org/api/v1",project_token:"7JgzFyTsllL_1WuwvcQ_Zw",copyright_image:"https://licensebuttons.net/l/by/4.0/80x15.png",copyright_image_link:"http://creativecommons.org/licenses/by/4.0/",copyright_text:"Unless otherwise noted (e.g. image licenses may vary) all content is licensed under a Creative Commons Attribution 4.0 International License. (CC-BY)",header_logo_url:"https://sfg.taxonworks.org/s/78q89i",header_logo_text:"Plecoptera Species File",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Perla",link:"/perla"}],map_tiles:[{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],metadata:[{name:"description",content:"The Plecoptera Species File is a taxonomic, nomenclatural, and bibliographic database of the stoneflies of the world, including all extant and fossil taxa."},{name:"keywords",content:"taxonomy, species, Species File Group, Plecoptera, stoneflies, taxonpages, Plecoptera Species File"},{name:"robots",content:"follow"}],project_name:"Plecoptera Species File",project_citation:"Plecoptera Species File",project_authors:"DeWalt RE, Maehr MD, Hopkins H, Neu-Becker U, and Stueber G.",project_url:"https://plecoptera.speciesfile.org",project_old_url:"https://plecoptera.archive.speciesfile.org",focal_taxon:"Plecoptera",focal_taxon_common_name:"stoneflies",contact_email:"dewalt@illinois.edu",issue_trackers:[{label:"Data",description:"E.g. missing data that I'd like to add, misspellings, or invalid data",url:"https://github.com/sfg-taxonpages/plecoptera/issues"},{label:"Website",description:"E.g. a link, panel, or other feature is not working as expected",url:"https://github.com/SpeciesFileGroup/taxonpages/issues"}]},Uw=[].concat(...Object.values(Hw),...Object.values(Vw)),Gw=[...Fw,...Uw];function Zw(){return $w?vy(Lu):Kh(Lu)}function qw(){return rv({history:Zw(),routes:Gw,scrollBehavior(t,n,o){if(t.hash)return{el:t.hash}}})}function Kw({originUrl:t}){const{url:n,project_token:o}={base_url:"/plecoptera/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://sfg.taxonworks.org/api/v1",project_token:"7JgzFyTsllL_1WuwvcQ_Zw",copyright_image:"https://licensebuttons.net/l/by/4.0/80x15.png",copyright_image_link:"http://creativecommons.org/licenses/by/4.0/",copyright_text:"Unless otherwise noted (e.g. image licenses may vary) all content is licensed under a Creative Commons Attribution 4.0 International License. (CC-BY)",header_logo_url:"https://sfg.taxonworks.org/s/78q89i",header_logo_text:"Plecoptera Species File",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Perla",link:"/perla"}],map_tiles:[{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],metadata:[{name:"description",content:"The Plecoptera Species File is a taxonomic, nomenclatural, and bibliographic database of the stoneflies of the world, including all extant and fossil taxa."},{name:"keywords",content:"taxonomy, species, Species File Group, Plecoptera, stoneflies, taxonpages, Plecoptera Species File"},{name:"robots",content:"follow"}],project_name:"Plecoptera Species File",project_citation:"Plecoptera Species File",project_authors:"DeWalt RE, Maehr MD, Hopkins H, Neu-Becker U, and Stueber G.",project_url:"https://plecoptera.speciesfile.org",project_old_url:"https://plecoptera.archive.speciesfile.org",focal_taxon:"Plecoptera",focal_taxon_common_name:"stoneflies",contact_email:"dewalt@illinois.edu",issue_trackers:[{label:"Data",description:"E.g. missing data that I'd like to add, misspellings, or invalid data",url:"https://github.com/sfg-taxonpages/plecoptera/issues"},{label:"Website",description:"E.g. a link, panel, or other feature is not working as expected",url:"https://github.com/SpeciesFileGroup/taxonpages/issues"}]},l=Gm(n&&o?c_:m_),c=qw(),h=M_();return kg({plugins:[k_({host:t})]}),l.use(c),l.use(h),{app:l,router:c,store:h}}var Ww=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Za={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,n){(function(o,i){i(n)})(Ww,function(o){var i="1.9.4";function l(e){var s,u,f,v;for(u=1,f=arguments.length;u<f;u++){v=arguments[u];for(s in v)e[s]=v[s]}return e}var c=Object.create||function(){function e(){}return function(s){return e.prototype=s,new e}}();function h(e,s){var u=Array.prototype.slice;if(e.bind)return e.bind.apply(e,u.call(arguments,1));var f=u.call(arguments,2);return function(){return e.apply(s,f.length?f.concat(u.call(arguments)):arguments)}}var d=0;function m(e){return"_leaflet_id"in e||(e._leaflet_id=++d),e._leaflet_id}function g(e,s,u){var f,v,P,q;return q=function(){f=!1,v&&(P.apply(u,v),v=!1)},P=function(){f?v=arguments:(e.apply(u,arguments),setTimeout(q,s),f=!0)},P}function y(e,s,u){var f=s[1],v=s[0],P=f-v;return e===f&&u?e:((e-v)%P+P)%P+v}function w(){return!1}function M(e,s){if(s===!1)return e;var u=Math.pow(10,s===void 0?6:s);return Math.round(e*u)/u}function I(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function O(e){return I(e).split(/\s+/)}function S(e,s){Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?c(e.options):{});for(var u in s)e.options[u]=s[u];return e.options}function U(e,s,u){var f=[];for(var v in e)f.push(encodeURIComponent(u?v.toUpperCase():v)+"="+encodeURIComponent(e[v]));return(!s||s.indexOf("?")===-1?"?":"&")+f.join("&")}var C=/\{ *([\w_ -]+) *\}/g;function R(e,s){return e.replace(C,function(u,f){var v=s[f];if(v===void 0)throw new Error("No value provided for variable "+u);return typeof v=="function"&&(v=v(s)),v})}var V=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function E(e,s){for(var u=0;u<e.length;u++)if(e[u]===s)return u;return-1}var z="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function W(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var ot=0;function Y(e){var s=+new Date,u=Math.max(0,16-(s-ot));return ot=s+u,window.setTimeout(e,u)}var st=window.requestAnimationFrame||W("RequestAnimationFrame")||Y,ct=window.cancelAnimationFrame||W("CancelAnimationFrame")||W("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function gt(e,s,u){if(u&&st===Y)e.call(s);else return st.call(window,h(e,s))}function at(e){e&&ct.call(window,e)}var bt={__proto__:null,extend:l,create:c,bind:h,get lastId(){return d},stamp:m,throttle:g,wrapNum:y,falseFn:w,formatNum:M,trim:I,splitWords:O,setOptions:S,getParamString:U,template:R,isArray:V,indexOf:E,emptyImageUrl:z,requestFn:st,cancelFn:ct,requestAnimFrame:gt,cancelAnimFrame:at};function Lt(){}Lt.extend=function(e){var s=function(){S(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},u=s.__super__=this.prototype,f=c(u);f.constructor=s,s.prototype=f;for(var v in this)Object.prototype.hasOwnProperty.call(this,v)&&v!=="prototype"&&v!=="__super__"&&(s[v]=this[v]);return e.statics&&l(s,e.statics),e.includes&&(Et(e.includes),l.apply(null,[f].concat(e.includes))),l(f,e),delete f.statics,delete f.includes,f.options&&(f.options=u.options?c(u.options):{},l(f.options,e.options)),f._initHooks=[],f.callInitHooks=function(){if(!this._initHooksCalled){u.callInitHooks&&u.callInitHooks.call(this),this._initHooksCalled=!0;for(var P=0,q=f._initHooks.length;P<q;P++)f._initHooks[P].call(this)}},s},Lt.include=function(e){var s=this.prototype.options;return l(this.prototype,e),e.options&&(this.prototype.options=s,this.mergeOptions(e.options)),this},Lt.mergeOptions=function(e){return l(this.prototype.options,e),this},Lt.addInitHook=function(e){var s=Array.prototype.slice.call(arguments,1),u=typeof e=="function"?e:function(){this[e].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(u),this};function Et(e){if(!(typeof L>"u"||!L||!L.Mixin)){e=V(e)?e:[e];for(var s=0;s<e.length;s++)e[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ct={on:function(e,s,u){if(typeof e=="object")for(var f in e)this._on(f,e[f],s);else{e=O(e);for(var v=0,P=e.length;v<P;v++)this._on(e[v],s,u)}return this},off:function(e,s,u){if(!arguments.length)delete this._events;else if(typeof e=="object")for(var f in e)this._off(f,e[f],s);else{e=O(e);for(var v=arguments.length===1,P=0,q=e.length;P<q;P++)v?this._off(e[P]):this._off(e[P],s,u)}return this},_on:function(e,s,u,f){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(e,s,u)===!1){u===this&&(u=void 0);var v={fn:s,ctx:u};f&&(v.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(v)}},_off:function(e,s,u){var f,v,P;if(this._events&&(f=this._events[e],!!f)){if(arguments.length===1){if(this._firingCount)for(v=0,P=f.length;v<P;v++)f[v].fn=w;delete this._events[e];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var q=this._listens(e,s,u);if(q!==!1){var tt=f[q];this._firingCount&&(tt.fn=w,this._events[e]=f=f.slice()),f.splice(q,1)}}},fire:function(e,s,u){if(!this.listens(e,u))return this;var f=l({},s,{type:e,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var v=this._events[e];if(v){this._firingCount=this._firingCount+1||1;for(var P=0,q=v.length;P<q;P++){var tt=v[P],lt=tt.fn;tt.once&&this.off(e,lt,tt.ctx),lt.call(tt.ctx||this,f)}this._firingCount--}}return u&&this._propagateEvent(f),this},listens:function(e,s,u,f){typeof e!="string"&&console.warn('"string" type argument expected');var v=s;typeof s!="function"&&(f=!!s,v=void 0,u=void 0);var P=this._events&&this._events[e];if(P&&P.length&&this._listens(e,v,u)!==!1)return!0;if(f){for(var q in this._eventParents)if(this._eventParents[q].listens(e,s,u,f))return!0}return!1},_listens:function(e,s,u){if(!this._events)return!1;var f=this._events[e]||[];if(!s)return!!f.length;u===this&&(u=void 0);for(var v=0,P=f.length;v<P;v++)if(f[v].fn===s&&f[v].ctx===u)return v;return!1},once:function(e,s,u){if(typeof e=="object")for(var f in e)this._on(f,e[f],s,!0);else{e=O(e);for(var v=0,P=e.length;v<P;v++)this._on(e[v],s,u,!0)}return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[m(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[m(e)],this},_propagateEvent:function(e){for(var s in this._eventParents)this._eventParents[s].fire(e.type,l({layer:e.target,propagatedFrom:e.target},e),!0)}};Ct.addEventListener=Ct.on,Ct.removeEventListener=Ct.clearAllEventListeners=Ct.off,Ct.addOneTimeEventListener=Ct.once,Ct.fireEvent=Ct.fire,Ct.hasEventListeners=Ct.listens;var Vt=Lt.extend(Ct);function wt(e,s,u){this.x=u?Math.round(e):e,this.y=u?Math.round(s):s}var pe=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};wt.prototype={clone:function(){return new wt(this.x,this.y)},add:function(e){return this.clone()._add(Dt(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(Dt(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new wt(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new wt(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=pe(this.x),this.y=pe(this.y),this},distanceTo:function(e){e=Dt(e);var s=e.x-this.x,u=e.y-this.y;return Math.sqrt(s*s+u*u)},equals:function(e){return e=Dt(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=Dt(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+M(this.x)+", "+M(this.y)+")"}};function Dt(e,s,u){return e instanceof wt?e:V(e)?new wt(e[0],e[1]):e==null?e:typeof e=="object"&&"x"in e&&"y"in e?new wt(e.x,e.y):new wt(e,s,u)}function Bt(e,s){if(e)for(var u=s?[e,s]:e,f=0,v=u.length;f<v;f++)this.extend(u[f])}Bt.prototype={extend:function(e){var s,u;if(!e)return this;if(e instanceof wt||typeof e[0]=="number"||"x"in e)s=u=Dt(e);else if(e=$t(e),s=e.min,u=e.max,!s||!u)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=u.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(u.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(u.y,this.max.y)),this},getCenter:function(e){return Dt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return Dt(this.min.x,this.max.y)},getTopRight:function(){return Dt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var s,u;return typeof e[0]=="number"||e instanceof wt?e=Dt(e):e=$t(e),e instanceof Bt?(s=e.min,u=e.max):s=u=e,s.x>=this.min.x&&u.x<=this.max.x&&s.y>=this.min.y&&u.y<=this.max.y},intersects:function(e){e=$t(e);var s=this.min,u=this.max,f=e.min,v=e.max,P=v.x>=s.x&&f.x<=u.x,q=v.y>=s.y&&f.y<=u.y;return P&&q},overlaps:function(e){e=$t(e);var s=this.min,u=this.max,f=e.min,v=e.max,P=v.x>s.x&&f.x<u.x,q=v.y>s.y&&f.y<u.y;return P&&q},isValid:function(){return!!(this.min&&this.max)},pad:function(e){var s=this.min,u=this.max,f=Math.abs(s.x-u.x)*e,v=Math.abs(s.y-u.y)*e;return $t(Dt(s.x-f,s.y-v),Dt(u.x+f,u.y+v))},equals:function(e){return e?(e=$t(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight())):!1}};function $t(e,s){return!e||e instanceof Bt?e:new Bt(e,s)}function Me(e,s){if(e)for(var u=s?[e,s]:e,f=0,v=u.length;f<v;f++)this.extend(u[f])}Me.prototype={extend:function(e){var s=this._southWest,u=this._northEast,f,v;if(e instanceof ae)f=e,v=e;else if(e instanceof Me){if(f=e._southWest,v=e._northEast,!f||!v)return this}else return e?this.extend(Nt(e)||fe(e)):this;return!s&&!u?(this._southWest=new ae(f.lat,f.lng),this._northEast=new ae(v.lat,v.lng)):(s.lat=Math.min(f.lat,s.lat),s.lng=Math.min(f.lng,s.lng),u.lat=Math.max(v.lat,u.lat),u.lng=Math.max(v.lng,u.lng)),this},pad:function(e){var s=this._southWest,u=this._northEast,f=Math.abs(s.lat-u.lat)*e,v=Math.abs(s.lng-u.lng)*e;return new Me(new ae(s.lat-f,s.lng-v),new ae(u.lat+f,u.lng+v))},getCenter:function(){return new ae((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ae(this.getNorth(),this.getWest())},getSouthEast:function(){return new ae(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){typeof e[0]=="number"||e instanceof ae||"lat"in e?e=Nt(e):e=fe(e);var s=this._southWest,u=this._northEast,f,v;return e instanceof Me?(f=e.getSouthWest(),v=e.getNorthEast()):f=v=e,f.lat>=s.lat&&v.lat<=u.lat&&f.lng>=s.lng&&v.lng<=u.lng},intersects:function(e){e=fe(e);var s=this._southWest,u=this._northEast,f=e.getSouthWest(),v=e.getNorthEast(),P=v.lat>=s.lat&&f.lat<=u.lat,q=v.lng>=s.lng&&f.lng<=u.lng;return P&&q},overlaps:function(e){e=fe(e);var s=this._southWest,u=this._northEast,f=e.getSouthWest(),v=e.getNorthEast(),P=v.lat>s.lat&&f.lat<u.lat,q=v.lng>s.lng&&f.lng<u.lng;return P&&q},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,s){return e?(e=fe(e),this._southWest.equals(e.getSouthWest(),s)&&this._northEast.equals(e.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function fe(e,s){return e instanceof Me?e:new Me(e,s)}function ae(e,s,u){if(isNaN(e)||isNaN(s))throw new Error("Invalid LatLng object: ("+e+", "+s+")");this.lat=+e,this.lng=+s,u!==void 0&&(this.alt=+u)}ae.prototype={equals:function(e,s){if(!e)return!1;e=Nt(e);var u=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return u<=(s===void 0?1e-9:s)},toString:function(e){return"LatLng("+M(this.lat,e)+", "+M(this.lng,e)+")"},distanceTo:function(e){return Pt.distance(this,Nt(e))},wrap:function(){return Pt.wrapLatLng(this)},toBounds:function(e){var s=180*e/40075017,u=s/Math.cos(Math.PI/180*this.lat);return fe([this.lat-s,this.lng-u],[this.lat+s,this.lng+u])},clone:function(){return new ae(this.lat,this.lng,this.alt)}};function Nt(e,s,u){return e instanceof ae?e:V(e)&&typeof e[0]!="object"?e.length===3?new ae(e[0],e[1],e[2]):e.length===2?new ae(e[0],e[1]):null:e==null?e:typeof e=="object"&&"lat"in e?new ae(e.lat,"lng"in e?e.lng:e.lon,e.alt):s===void 0?null:new ae(e,s,u)}var pt={latLngToPoint:function(e,s){var u=this.projection.project(e),f=this.scale(s);return this.transformation._transform(u,f)},pointToLatLng:function(e,s){var u=this.scale(s),f=this.transformation.untransform(e,u);return this.projection.unproject(f)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var s=this.projection.bounds,u=this.scale(e),f=this.transformation.transform(s.min,u),v=this.transformation.transform(s.max,u);return new Bt(f,v)},infinite:!1,wrapLatLng:function(e){var s=this.wrapLng?y(e.lng,this.wrapLng,!0):e.lng,u=this.wrapLat?y(e.lat,this.wrapLat,!0):e.lat,f=e.alt;return new ae(u,s,f)},wrapLatLngBounds:function(e){var s=e.getCenter(),u=this.wrapLatLng(s),f=s.lat-u.lat,v=s.lng-u.lng;if(f===0&&v===0)return e;var P=e.getSouthWest(),q=e.getNorthEast(),tt=new ae(P.lat-f,P.lng-v),lt=new ae(q.lat-f,q.lng-v);return new Me(tt,lt)}},Pt=l({},pt,{wrapLng:[-180,180],R:6371e3,distance:function(e,s){var u=Math.PI/180,f=e.lat*u,v=s.lat*u,P=Math.sin((s.lat-e.lat)*u/2),q=Math.sin((s.lng-e.lng)*u/2),tt=P*P+Math.cos(f)*Math.cos(v)*q*q,lt=2*Math.atan2(Math.sqrt(tt),Math.sqrt(1-tt));return this.R*lt}}),St=6378137,zt={R:St,MAX_LATITUDE:85.0511287798,project:function(e){var s=Math.PI/180,u=this.MAX_LATITUDE,f=Math.max(Math.min(u,e.lat),-u),v=Math.sin(f*s);return new wt(this.R*e.lng*s,this.R*Math.log((1+v)/(1-v))/2)},unproject:function(e){var s=180/Math.PI;return new ae((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*s,e.x*s/this.R)},bounds:function(){var e=St*Math.PI;return new Bt([-e,-e],[e,e])}()};function le(e,s,u,f){if(V(e)){this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3];return}this._a=e,this._b=s,this._c=u,this._d=f}le.prototype={transform:function(e,s){return this._transform(e.clone(),s)},_transform:function(e,s){return s=s||1,e.x=s*(this._a*e.x+this._b),e.y=s*(this._c*e.y+this._d),e},untransform:function(e,s){return s=s||1,new wt((e.x/s-this._b)/this._a,(e.y/s-this._d)/this._c)}};function F(e,s,u,f){return new le(e,s,u,f)}var K=l({},Pt,{code:"EPSG:3857",projection:zt,transformation:function(){var e=.5/(Math.PI*zt.R);return F(e,.5,-e,.5)}()}),J=l({},K,{code:"EPSG:900913"});function ht(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function yt(e,s){var u="",f,v,P,q,tt,lt;for(f=0,P=e.length;f<P;f++){for(tt=e[f],v=0,q=tt.length;v<q;v++)lt=tt[v],u+=(v?"L":"M")+lt.x+" "+lt.y;u+=s?Ft.svg?"z":"x":""}return u||"M0 0"}var xt=document.documentElement.style,Ot="ActiveXObject"in window,B=Ot&&!document.addEventListener,b="msLaunchUri"in navigator&&!("documentMode"in document),k=nn("webkit"),T=nn("android"),D=nn("android 2")||nn("android 3"),N=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Q=T&&nn("Google")&&N<537&&!("AudioNode"in window),nt=!!window.opera,vt=!b&&nn("chrome"),Tt=nn("gecko")&&!k&&!nt&&!Ot,jt=!vt&&nn("safari"),Wt=nn("phantom"),Qt="OTransition"in xt,be=navigator.platform.indexOf("Win")===0,Xt=Ot&&"transition"in xt,ye="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!D,ue="MozPerspective"in xt,we=!window.L_DISABLE_3D&&(Xt||ye||ue)&&!Qt&&!Wt,Re=typeof orientation<"u"||nn("mobile"),Ge=Re&&k,Ze=Re&&ye,dn=!window.PointerEvent&&window.MSPointerEvent,cn=!!(window.PointerEvent||dn),We="ontouchstart"in window||!!window.TouchEvent,un=!window.L_NO_TOUCH&&(We||cn),Ln=Re&&nt,$n=Re&&Tt,qe=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ne=function(){var e=!1;try{var s=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",w,s),window.removeEventListener("testPassiveEventSupport",w,s)}catch{}return e}(),Rn=function(){return!!document.createElement("canvas").getContext}(),qr=!!(document.createElementNS&&ht("svg").createSVGRect),Si=!!qr&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Mr=!qr&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var s=e.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}}(),Vs=navigator.platform.indexOf("Mac")===0,Ei=navigator.platform.indexOf("Linux")===0;function nn(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var Ft={ie:Ot,ielt9:B,edge:b,webkit:k,android:T,android23:D,androidStock:Q,opera:nt,chrome:vt,gecko:Tt,safari:jt,phantom:Wt,opera12:Qt,win:be,ie3d:Xt,webkit3d:ye,gecko3d:ue,any3d:we,mobile:Re,mobileWebkit:Ge,mobileWebkit3d:Ze,msPointer:dn,pointer:cn,touch:un,touchNative:We,mobileOpera:Ln,mobileGecko:$n,retina:qe,passiveEvents:Ne,canvas:Rn,svg:qr,vml:Mr,inlineSvg:Si,mac:Vs,linux:Ei},Ti=Ft.msPointer?"MSPointerDown":"pointerdown",An=Ft.msPointer?"MSPointerMove":"pointermove",Bn=Ft.msPointer?"MSPointerUp":"pointerup",xo=Ft.msPointer?"MSPointerCancel":"pointercancel",Cr={touchstart:Ti,touchmove:An,touchend:Bn,touchcancel:xo},ir={touchstart:Wr,touchmove:Kr,touchend:Kr,touchcancel:Kr},or={},Oi=!1;function ko(e,s,u){return s==="touchstart"&&Bi(),ir[s]?(u=ir[s].bind(this,u),e.addEventListener(Cr[s],u,!1),u):(console.warn("wrong event specified:",s),w)}function $s(e,s,u){if(!Cr[s]){console.warn("wrong event specified:",s);return}e.removeEventListener(Cr[s],u,!1)}function Lo(e){or[e.pointerId]=e}function Ri(e){or[e.pointerId]&&(or[e.pointerId]=e)}function Ai(e){delete or[e.pointerId]}function Bi(){Oi||(document.addEventListener(Ti,Lo,!0),document.addEventListener(An,Ri,!0),document.addEventListener(Bn,Ai,!0),document.addEventListener(xo,Ai,!0),Oi=!0)}function Kr(e,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var u in or)s.touches.push(or[u]);s.changedTouches=[s],e(s)}}function Wr(e,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&G(s),Kr(e,s)}function Mo(e){var s={},u,f;for(f in e)u=e[f],s[f]=u&&u.bind?u.bind(e):u;return e=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var Us=200;function Pr(e,s){e.addEventListener("dblclick",s);var u=0,f;function v(P){if(P.detail!==1){f=P.detail;return}if(!(P.pointerType==="mouse"||P.sourceCapabilities&&!P.sourceCapabilities.firesTouchEvents)){var q=ft(P);if(!(q.some(function(lt){return lt instanceof HTMLLabelElement&&lt.attributes.for})&&!q.some(function(lt){return lt instanceof HTMLInputElement||lt instanceof HTMLSelectElement}))){var tt=Date.now();tt-u<=Us?(f++,f===2&&s(Mo(P))):f=1,u=tt}}}return e.addEventListener("click",v),{dblclick:s,simDblclick:v}}function Gs(e,s){e.removeEventListener("dblclick",s.dblclick),e.removeEventListener("click",s.simDblclick)}var Jr=Xr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Un=Xr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Co=Un==="webkitTransition"||Un==="OTransition"?Un+"End":"transitionend";function Po(e){return typeof e=="string"?document.getElementById(e):e}function sr(e,s){var u=e.style[s]||e.currentStyle&&e.currentStyle[s];if((!u||u==="auto")&&document.defaultView){var f=document.defaultView.getComputedStyle(e,null);u=f?f[s]:null}return u==="auto"?null:u}function he(e,s,u){var f=document.createElement(e);return f.className=s||"",u&&u.appendChild(f),f}function Ce(e){var s=e.parentNode;s&&s.removeChild(e)}function Sr(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function Gn(e){var s=e.parentNode;s&&s.lastChild!==e&&s.appendChild(e)}function Zn(e){var s=e.parentNode;s&&s.firstChild!==e&&s.insertBefore(e,s.firstChild)}function Yr(e,s){if(e.classList!==void 0)return e.classList.contains(s);var u=Er(e);return u.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(u)}function ne(e,s){if(e.classList!==void 0)for(var u=O(s),f=0,v=u.length;f<v;f++)e.classList.add(u[f]);else if(!Yr(e,s)){var P=Er(e);Ii(e,(P?P+" ":"")+s)}}function Ae(e,s){e.classList!==void 0?e.classList.remove(s):Ii(e,I((" "+Er(e)+" ").replace(" "+s+" "," ")))}function Ii(e,s){e.className.baseVal===void 0?e.className=s:e.className.baseVal=s}function Er(e){return e.correspondingElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}function rn(e,s){"opacity"in e.style?e.style.opacity=s:"filter"in e.style&&Di(e,s)}function Di(e,s){var u=!1,f="DXImageTransform.Microsoft.Alpha";try{u=e.filters.item(f)}catch{if(s===1)return}s=Math.round(s*100),u?(u.Enabled=s!==100,u.Opacity=s):e.style.filter+=" progid:"+f+"(opacity="+s+")"}function Xr(e){for(var s=document.documentElement.style,u=0;u<e.length;u++)if(e[u]in s)return e[u];return!1}function In(e,s,u){var f=s||new wt(0,0);e.style[Jr]=(Ft.ie3d?"translate("+f.x+"px,"+f.y+"px)":"translate3d("+f.x+"px,"+f.y+"px,0)")+(u?" scale("+u+")":"")}function Se(e,s){e._leaflet_pos=s,Ft.any3d?In(e,s):(e.style.left=s.x+"px",e.style.top=s.y+"px")}function fn(e){return e._leaflet_pos||new wt(0,0)}var Tr,Or,Be;if("onselectstart"in document)Tr=function(){ee(window,"selectstart",G)},Or=function(){a(window,"selectstart",G)};else{var Dn=Xr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Tr=function(){if(Dn){var e=document.documentElement.style;Be=e[Dn],e[Dn]="none"}},Or=function(){Dn&&(document.documentElement.style[Dn]=Be,Be=void 0)}}function Rr(){ee(window,"dragstart",G)}function zi(){a(window,"dragstart",G)}var Qr,ti;function ji(e){for(;e.tabIndex===-1;)e=e.parentNode;e.style&&(ar(),Qr=e,ti=e.style.outlineStyle,e.style.outlineStyle="none",ee(window,"keydown",ar))}function ar(){Qr&&(Qr.style.outlineStyle=ti,Qr=void 0,ti=void 0,a(window,"keydown",ar))}function ei(e){do e=e.parentNode;while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function Ni(e){var s=e.getBoundingClientRect();return{x:s.width/e.offsetWidth||1,y:s.height/e.offsetHeight||1,boundingClientRect:s}}var Zs={__proto__:null,TRANSFORM:Jr,TRANSITION:Un,TRANSITION_END:Co,get:Po,getStyle:sr,create:he,remove:Ce,empty:Sr,toFront:Gn,toBack:Zn,hasClass:Yr,addClass:ne,removeClass:Ae,setClass:Ii,getClass:Er,setOpacity:rn,testProp:Xr,setTransform:In,setPosition:Se,getPosition:fn,get disableTextSelection(){return Tr},get enableTextSelection(){return Or},disableImageDrag:Rr,enableImageDrag:zi,preventOutline:ji,restoreOutline:ar,getSizedParentNode:ei,getScale:Ni};function ee(e,s,u,f){if(s&&typeof s=="object")for(var v in s)x(e,v,s[v],u);else{s=O(s);for(var P=0,q=s.length;P<q;P++)x(e,s[P],u,f)}return this}var r="_leaflet_events";function a(e,s,u,f){if(arguments.length===1)p(e),delete e[r];else if(s&&typeof s=="object")for(var v in s)A(e,v,s[v],u);else if(s=O(s),arguments.length===2)p(e,function(tt){return E(s,tt)!==-1});else for(var P=0,q=s.length;P<q;P++)A(e,s[P],u,f);return this}function p(e,s){for(var u in e[r]){var f=u.split(/\d/)[0];(!s||s(f))&&A(e,f,null,null,u)}}var _={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function x(e,s,u,f){var v=s+m(u)+(f?"_"+m(f):"");if(e[r]&&e[r][v])return this;var P=function(tt){return u.call(f||e,tt||window.event)},q=P;!Ft.touchNative&&Ft.pointer&&s.indexOf("touch")===0?P=ko(e,s,P):Ft.touch&&s==="dblclick"?P=Pr(e,P):"addEventListener"in e?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?e.addEventListener(_[s]||s,P,Ft.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(P=function(tt){tt=tt||window.event,Zt(e,tt)&&q(tt)},e.addEventListener(_[s],P,!1)):e.addEventListener(s,q,!1):e.attachEvent("on"+s,P),e[r]=e[r]||{},e[r][v]=P}function A(e,s,u,f,v){v=v||s+m(u)+(f?"_"+m(f):"");var P=e[r]&&e[r][v];if(!P)return this;!Ft.touchNative&&Ft.pointer&&s.indexOf("touch")===0?$s(e,s,P):Ft.touch&&s==="dblclick"?Gs(e,P):"removeEventListener"in e?e.removeEventListener(_[s]||s,P,!1):e.detachEvent("on"+s,P),e[r][v]=null}function j(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function $(e){return x(e,"wheel",j),this}function H(e){return ee(e,"mousedown touchstart dblclick contextmenu",j),e._leaflet_disable_click=!0,this}function G(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function X(e){return G(e),j(e),this}function ft(e){if(e.composedPath)return e.composedPath();for(var s=[],u=e.target;u;)s.push(u),u=u.parentNode;return s}function ut(e,s){if(!s)return new wt(e.clientX,e.clientY);var u=Ni(s),f=u.boundingClientRect;return new wt((e.clientX-f.left)/u.x-s.clientLeft,(e.clientY-f.top)/u.y-s.clientTop)}var Mt=Ft.linux&&Ft.chrome?window.devicePixelRatio:Ft.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Rt(e){return Ft.edge?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/Mt:e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?-e.detail*20:e.detail?e.detail/-32765*60:0}function Zt(e,s){var u=s.relatedTarget;if(!u)return!0;try{for(;u&&u!==e;)u=u.parentNode}catch{return!1}return u!==e}var re={__proto__:null,on:ee,off:a,stopPropagation:j,disableScrollPropagation:$,disableClickPropagation:H,preventDefault:G,stop:X,getPropagationPath:ft,getMousePosition:ut,getWheelDelta:Rt,isExternalTarget:Zt,addListener:ee,removeListener:a},xe=Vt.extend({run:function(e,s,u,f){this.stop(),this._el=e,this._inProgress=!0,this._duration=u||.25,this._easeOutPower=1/Math.max(f||.5,.2),this._startPos=fn(e),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=gt(this._animate,this),this._step()},_step:function(e){var s=+new Date-this._startTime,u=this._duration*1e3;s<u?this._runFrame(this._easeOut(s/u),e):(this._runFrame(1),this._complete())},_runFrame:function(e,s){var u=this._startPos.add(this._offset.multiplyBy(e));s&&u._round(),Se(this._el,u),this.fire("step")},_complete:function(){at(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),Ut=Vt.extend({options:{crs:K,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,s){s=S(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=h(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(Nt(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Un&&Ft.any3d&&!Ft.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ee(this._proxy,Co,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,s,u){if(s=s===void 0?this._zoom:this._limitZoom(s),e=this._limitCenter(Nt(e),s,this.options.maxBounds),u=u||{},this._stop(),this._loaded&&!u.reset&&u!==!0){u.animate!==void 0&&(u.zoom=l({animate:u.animate},u.zoom),u.pan=l({animate:u.animate,duration:u.duration},u.pan));var f=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,s,u.zoom):this._tryAnimatedPan(e,u.pan);if(f)return clearTimeout(this._sizeTimer),this}return this._resetView(e,s,u.pan&&u.pan.noMoveStart),this},setZoom:function(e,s){return this._loaded?this.setView(this.getCenter(),e,{zoom:s}):(this._zoom=e,this)},zoomIn:function(e,s){return e=e||(Ft.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,s)},zoomOut:function(e,s){return e=e||(Ft.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,s)},setZoomAround:function(e,s,u){var f=this.getZoomScale(s),v=this.getSize().divideBy(2),P=e instanceof wt?e:this.latLngToContainerPoint(e),q=P.subtract(v).multiplyBy(1-1/f),tt=this.containerPointToLatLng(v.add(q));return this.setView(tt,s,{zoom:u})},_getBoundsCenterZoom:function(e,s){s=s||{},e=e.getBounds?e.getBounds():fe(e);var u=Dt(s.paddingTopLeft||s.padding||[0,0]),f=Dt(s.paddingBottomRight||s.padding||[0,0]),v=this.getBoundsZoom(e,!1,u.add(f));if(v=typeof s.maxZoom=="number"?Math.min(s.maxZoom,v):v,v===1/0)return{center:e.getCenter(),zoom:v};var P=f.subtract(u).divideBy(2),q=this.project(e.getSouthWest(),v),tt=this.project(e.getNorthEast(),v),lt=this.unproject(q.add(tt).divideBy(2).add(P),v);return{center:lt,zoom:v}},fitBounds:function(e,s){if(e=fe(e),!e.isValid())throw new Error("Bounds are not valid.");var u=this._getBoundsCenterZoom(e,s);return this.setView(u.center,u.zoom,s)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,s){return this.setView(e,this._zoom,{pan:s})},panBy:function(e,s){if(e=Dt(e).round(),s=s||{},!e.x&&!e.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new xe,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){ne(this._mapPane,"leaflet-pan-anim");var u=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,u,s.duration||.25,s.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,s,u){if(u=u||{},u.animate===!1||!Ft.any3d)return this.setView(e,s,u);this._stop();var f=this.project(this.getCenter()),v=this.project(e),P=this.getSize(),q=this._zoom;e=Nt(e),s=s===void 0?q:s;var tt=Math.max(P.x,P.y),lt=tt*this.getZoomScale(q,s),kt=v.distanceTo(f)||1,It=1.42,Jt=It*It;function ce(ze){var Ho=ze?-1:1,pd=ze?lt:tt,dd=lt*lt-tt*tt+Ho*Jt*Jt*kt*kt,fd=2*pd*Jt*kt,ra=dd/fd,nc=Math.sqrt(ra*ra+1)-ra,md=nc<1e-9?-18:Math.log(nc);return md}function Xe(ze){return(Math.exp(ze)-Math.exp(-ze))/2}function $e(ze){return(Math.exp(ze)+Math.exp(-ze))/2}function _n(ze){return Xe(ze)/$e(ze)}var on=ce(0);function ai(ze){return tt*($e(on)/$e(on+It*ze))}function ld(ze){return tt*($e(on)*_n(on+It*ze)-Xe(on))/Jt}function cd(ze){return 1-Math.pow(1-ze,1.5)}var ud=Date.now(),tc=(ce(1)-on)/It,hd=u.duration?1e3*u.duration:1e3*tc*.8;function ec(){var ze=(Date.now()-ud)/hd,Ho=cd(ze)*tc;ze<=1?(this._flyToFrame=gt(ec,this),this._move(this.unproject(f.add(v.subtract(f).multiplyBy(ld(Ho)/kt)),q),this.getScaleZoom(tt/ai(Ho),q),{flyTo:!0})):this._move(e,s)._moveEnd(!0)}return this._moveStart(!0,u.noMoveStart),ec.call(this),this},flyToBounds:function(e,s){var u=this._getBoundsCenterZoom(e,s);return this.flyTo(u.center,u.zoom,s)},setMaxBounds:function(e){return e=fe(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var s=this.options.minZoom;return this.options.minZoom=e,this._loaded&&s!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var s=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&s!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,s){this._enforcingBounds=!0;var u=this.getCenter(),f=this._limitCenter(u,this._zoom,fe(e));return u.equals(f)||this.panTo(f,s),this._enforcingBounds=!1,this},panInside:function(e,s){s=s||{};var u=Dt(s.paddingTopLeft||s.padding||[0,0]),f=Dt(s.paddingBottomRight||s.padding||[0,0]),v=this.project(this.getCenter()),P=this.project(e),q=this.getPixelBounds(),tt=$t([q.min.add(u),q.max.subtract(f)]),lt=tt.getSize();if(!tt.contains(P)){this._enforcingBounds=!0;var kt=P.subtract(tt.getCenter()),It=tt.extend(P).getSize().subtract(lt);v.x+=kt.x<0?-It.x:It.x,v.y+=kt.y<0?-It.y:It.y,this.panTo(this.unproject(v),s),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=l({animate:!1,pan:!0},e===!0?{animate:!0}:e);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var u=this.getSize(),f=s.divideBy(2).round(),v=u.divideBy(2).round(),P=f.subtract(v);return!P.x&&!P.y?this:(e.animate&&e.pan?this.panBy(P):(e.pan&&this._rawPanBy(P),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(h(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:u}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=l({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=h(this._handleGeolocationResponse,this),u=h(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,u,e):navigator.geolocation.getCurrentPosition(s,u,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var s=e.code,u=e.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+u+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var s=e.coords.latitude,u=e.coords.longitude,f=new ae(s,u),v=f.toBounds(e.coords.accuracy*2),P=this._locateOptions;if(P.setView){var q=this.getBoundsZoom(v);this.setView(f,P.maxZoom?Math.min(q,P.maxZoom):q)}var tt={latlng:f,bounds:v,timestamp:e.timestamp};for(var lt in e.coords)typeof e.coords[lt]=="number"&&(tt[lt]=e.coords[lt]);this.fire("locationfound",tt)}},addHandler:function(e,s){if(!s)return this;var u=this[e]=new s(this);return this._handlers.push(u),this.options[e]&&u.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ce(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(at(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var e;for(e in this._layers)this._layers[e].remove();for(e in this._panes)Ce(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,s){var u="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),f=he("div",u,s||this._mapPane);return e&&(this._panes[e]=f),f},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),s=this.unproject(e.getBottomLeft()),u=this.unproject(e.getTopRight());return new Me(s,u)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,s,u){e=fe(e),u=Dt(u||[0,0]);var f=this.getZoom()||0,v=this.getMinZoom(),P=this.getMaxZoom(),q=e.getNorthWest(),tt=e.getSouthEast(),lt=this.getSize().subtract(u),kt=$t(this.project(tt,f),this.project(q,f)).getSize(),It=Ft.any3d?this.options.zoomSnap:1,Jt=lt.x/kt.x,ce=lt.y/kt.y,Xe=s?Math.max(Jt,ce):Math.min(Jt,ce);return f=this.getScaleZoom(Xe,f),It&&(f=Math.round(f/(It/100))*(It/100),f=s?Math.ceil(f/It)*It:Math.floor(f/It)*It),Math.max(v,Math.min(P,f))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new wt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,s){var u=this._getTopLeftPoint(e,s);return new Bt(u,u.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e=="string"?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,s){var u=this.options.crs;return s=s===void 0?this._zoom:s,u.scale(e)/u.scale(s)},getScaleZoom:function(e,s){var u=this.options.crs;s=s===void 0?this._zoom:s;var f=u.zoom(e*u.scale(s));return isNaN(f)?1/0:f},project:function(e,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(Nt(e),s)},unproject:function(e,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(Dt(e),s)},layerPointToLatLng:function(e){var s=Dt(e).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(e){var s=this.project(Nt(e))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(Nt(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(fe(e))},distance:function(e,s){return this.options.crs.distance(Nt(e),Nt(s))},containerPointToLayerPoint:function(e){return Dt(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return Dt(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var s=this.containerPointToLayerPoint(Dt(e));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Nt(e)))},mouseEventToContainerPoint:function(e){return ut(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var s=this._container=Po(e);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ee(s,"scroll",this._onScroll,this),this._containerId=m(s)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ft.any3d,ne(e,"leaflet-container"+(Ft.touch?" leaflet-touch":"")+(Ft.retina?" leaflet-retina":"")+(Ft.ielt9?" leaflet-oldie":"")+(Ft.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=sr(e,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Se(this._mapPane,new wt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ne(e.markerPane,"leaflet-zoom-hide"),ne(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,s,u){Se(this._mapPane,new wt(0,0));var f=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var v=this._zoom!==s;this._moveStart(v,u)._move(e,s)._moveEnd(v),this.fire("viewreset"),f&&this.fire("load")},_moveStart:function(e,s){return e&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(e,s,u,f){s===void 0&&(s=this._zoom);var v=this._zoom!==s;return this._zoom=s,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),f?u&&u.pinch&&this.fire("zoom",u):((v||u&&u.pinch)&&this.fire("zoom",u),this.fire("move",u)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return at(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){Se(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[m(this._container)]=this;var s=e?a:ee;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),Ft.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){at(this._resizeRequest),this._resizeRequest=gt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,s){for(var u=[],f,v=s==="mouseout"||s==="mouseover",P=e.target||e.srcElement,q=!1;P;){if(f=this._targets[m(P)],f&&(s==="click"||s==="preclick")&&this._draggableMoved(f)){q=!0;break}if(f&&f.listens(s,!0)&&(v&&!Zt(P,e)||(u.push(f),v))||P===this._container)break;P=P.parentNode}return!u.length&&!q&&!v&&this.listens(s,!0)&&(u=[this]),u},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var s=e.target||e.srcElement;if(!(!this._loaded||s._leaflet_disable_events||e.type==="click"&&this._isClickDisabled(s))){var u=e.type;u==="mousedown"&&ji(s),this._fireDOMEvent(e,u)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,s,u){if(e.type==="click"){var f=l({},e);f.type="preclick",this._fireDOMEvent(f,f.type,u)}var v=this._findEventTargets(e,s);if(u){for(var P=[],q=0;q<u.length;q++)u[q].listens(s,!0)&&P.push(u[q]);v=P.concat(v)}if(v.length){s==="contextmenu"&&G(e);var tt=v[0],lt={originalEvent:e};if(e.type!=="keypress"&&e.type!=="keydown"&&e.type!=="keyup"){var kt=tt.getLatLng&&(!tt._radius||tt._radius<=10);lt.containerPoint=kt?this.latLngToContainerPoint(tt.getLatLng()):this.mouseEventToContainerPoint(e),lt.layerPoint=this.containerPointToLayerPoint(lt.containerPoint),lt.latlng=kt?tt.getLatLng():this.layerPointToLatLng(lt.layerPoint)}for(q=0;q<v.length;q++)if(v[q].fire(s,lt,!0),lt.originalEvent._stopped||v[q].options.bubblingMouseEvents===!1&&E(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,s=this._handlers.length;e<s;e++)this._handlers[e].disable()},whenReady:function(e,s){return this._loaded?e.call(s||this,{target:this}):this.on("load",e,s),this},_getMapPanePos:function(){return fn(this._mapPane)||new wt(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,s){var u=e&&s!==void 0?this._getNewPixelOrigin(e,s):this.getPixelOrigin();return u.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,s){var u=this.getSize()._divideBy(2);return this.project(e,s)._subtract(u)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,s,u){var f=this._getNewPixelOrigin(u,s);return this.project(e,s)._subtract(f)},_latLngBoundsToNewLayerBounds:function(e,s,u){var f=this._getNewPixelOrigin(u,s);return $t([this.project(e.getSouthWest(),s)._subtract(f),this.project(e.getNorthWest(),s)._subtract(f),this.project(e.getSouthEast(),s)._subtract(f),this.project(e.getNorthEast(),s)._subtract(f)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,s,u){if(!u)return e;var f=this.project(e,s),v=this.getSize().divideBy(2),P=new Bt(f.subtract(v),f.add(v)),q=this._getBoundsOffset(P,u,s);return Math.abs(q.x)<=1&&Math.abs(q.y)<=1?e:this.unproject(f.add(q),s)},_limitOffset:function(e,s){if(!s)return e;var u=this.getPixelBounds(),f=new Bt(u.min.add(e),u.max.add(e));return e.add(this._getBoundsOffset(f,s))},_getBoundsOffset:function(e,s,u){var f=$t(this.project(s.getNorthEast(),u),this.project(s.getSouthWest(),u)),v=f.min.subtract(e.min),P=f.max.subtract(e.max),q=this._rebound(v.x,-P.x),tt=this._rebound(v.y,-P.y);return new wt(q,tt)},_rebound:function(e,s){return e+s>0?Math.round(e-s)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(s))},_limitZoom:function(e){var s=this.getMinZoom(),u=this.getMaxZoom(),f=Ft.any3d?this.options.zoomSnap:1;return f&&(e=Math.round(e/f)*f),Math.max(s,Math.min(u,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ae(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,s){var u=this._getCenterOffset(e)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(u)?!1:(this.panBy(u,s),!0)},_createAnimProxy:function(){var e=this._proxy=he("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(s){var u=Jr,f=this._proxy.style[u];In(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),f===this._proxy.style[u]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ce(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),s=this.getZoom();In(this._proxy,this.project(e,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,s,u){if(this._animatingZoom)return!0;if(u=u||{},!this._zoomAnimated||u.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var f=this.getZoomScale(s),v=this._getCenterOffset(e)._divideBy(1-1/f);return u.animate!==!0&&!this.getSize().contains(v)?!1:(gt(function(){this._moveStart(!0,u.noMoveStart||!1)._animateZoom(e,s,!0)},this),!0)},_animateZoom:function(e,s,u,f){this._mapPane&&(u&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=s,ne(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:s,noUpdate:f}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(h(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ae(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ke(e,s){return new Ut(e,s)}var Pe=Lt.extend({options:{position:"topright"},initialize:function(e){S(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var s=this._map;return s&&s.removeControl(this),this.options.position=e,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var s=this._container=this.onAdd(e),u=this.getPosition(),f=e._controlCorners[u];return ne(s,"leaflet-control"),u.indexOf("bottom")!==-1?f.insertBefore(s,f.firstChild):f.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ce(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),Ve=function(e){return new Pe(e)};Ut.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},s="leaflet-",u=this._controlContainer=he("div",s+"control-container",this._container);function f(v,P){var q=s+v+" "+s+P;e[v+P]=he("div",q,u)}f("top","left"),f("top","right"),f("bottom","left"),f("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)Ce(this._controlCorners[e]);Ce(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Mn=Pe.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,s,u,f){return u<f?-1:f<u?1:0}},initialize:function(e,s,u){S(this,u),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var f in e)this._addLayer(e[f],f);for(f in s)this._addLayer(s[f],f,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return Pe.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,s){return this._addLayer(e,s),this._map?this._update():this},addOverlay:function(e,s){return this._addLayer(e,s,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var s=this._getLayer(m(e));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){ne(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(ne(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):Ae(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ae(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",s=this._container=he("div",e),u=this.options.collapsed;s.setAttribute("aria-haspopup",!0),H(s),$(s);var f=this._section=he("section",e+"-list");u&&(this._map.on("click",this.collapse,this),ee(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var v=this._layersLink=he("a",e+"-toggle",s);v.href="#",v.title="Layers",v.setAttribute("role","button"),ee(v,{keydown:function(P){P.keyCode===13&&this._expandSafely()},click:function(P){G(P),this._expandSafely()}},this),u||this.expand(),this._baseLayersList=he("div",e+"-base",f),this._separator=he("div",e+"-separator",f),this._overlaysList=he("div",e+"-overlays",f),s.appendChild(f)},_getLayer:function(e){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&m(this._layers[s].layer)===e)return this._layers[s]},_addLayer:function(e,s,u){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:s,overlay:u}),this.options.sortLayers&&this._layers.sort(h(function(f,v){return this.options.sortFunction(f.layer,v.layer,f.name,v.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Sr(this._baseLayersList),Sr(this._overlaysList),this._layerControlInputs=[];var e,s,u,f,v=0;for(u=0;u<this._layers.length;u++)f=this._layers[u],this._addItem(f),s=s||f.overlay,e=e||!f.overlay,v+=f.overlay?0:1;return this.options.hideSingleBase&&(e=e&&v>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=s&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var s=this._getLayer(m(e.target)),u=s.overlay?e.type==="add"?"overlayadd":"overlayremove":e.type==="add"?"baselayerchange":null;u&&this._map.fire(u,s)},_createRadioElement:function(e,s){var u='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(s?' checked="checked"':"")+"/>",f=document.createElement("div");return f.innerHTML=u,f.firstChild},_addItem:function(e){var s=document.createElement("label"),u=this._map.hasLayer(e.layer),f;e.overlay?(f=document.createElement("input"),f.type="checkbox",f.className="leaflet-control-layers-selector",f.defaultChecked=u):f=this._createRadioElement("leaflet-base-layers_"+m(this),u),this._layerControlInputs.push(f),f.layerId=m(e.layer),ee(f,"click",this._onInputClick,this);var v=document.createElement("span");v.innerHTML=" "+e.name;var P=document.createElement("span");s.appendChild(P),P.appendChild(f),P.appendChild(v);var q=e.overlay?this._overlaysList:this._baseLayersList;return q.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var e=this._layerControlInputs,s,u,f=[],v=[];this._handlingClick=!0;for(var P=e.length-1;P>=0;P--)s=e[P],u=this._getLayer(s.layerId).layer,s.checked?f.push(u):s.checked||v.push(u);for(P=0;P<v.length;P++)this._map.hasLayer(v[P])&&this._map.removeLayer(v[P]);for(P=0;P<f.length;P++)this._map.hasLayer(f[P])||this._map.addLayer(f[P]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e=this._layerControlInputs,s,u,f=this._map.getZoom(),v=e.length-1;v>=0;v--)s=e[v],u=this._getLayer(s.layerId).layer,s.disabled=u.options.minZoom!==void 0&&f<u.options.minZoom||u.options.maxZoom!==void 0&&f>u.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,ee(e,"click",G),this.expand();var s=this;setTimeout(function(){a(e,"click",G),s._preventClick=!1})}}),So=function(e,s,u){return new Mn(e,s,u)},Ar=Pe.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var s="leaflet-control-zoom",u=he("div",s+" leaflet-bar"),f=this.options;return this._zoomInButton=this._createButton(f.zoomInText,f.zoomInTitle,s+"-in",u,this._zoomIn),this._zoomOutButton=this._createButton(f.zoomOutText,f.zoomOutTitle,s+"-out",u,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),u},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,s,u,f,v){var P=he("a",u,f);return P.innerHTML=e,P.href="#",P.title=s,P.setAttribute("role","button"),P.setAttribute("aria-label",s),H(P),ee(P,"click",X),ee(P,"click",v,this),ee(P,"click",this._refocusOnMap,this),P},_updateDisabled:function(){var e=this._map,s="leaflet-disabled";Ae(this._zoomInButton,s),Ae(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(ne(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(ne(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ut.mergeOptions({zoomControl:!0}),Ut.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ar,this.addControl(this.zoomControl))});var qn=function(e){return new Ar(e)},Fi=Pe.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var s="leaflet-control-scale",u=he("div",s),f=this.options;return this._addScales(f,s+"-line",u),e.on(f.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),u},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,s,u){e.metric&&(this._mScale=he("div",s,u)),e.imperial&&(this._iScale=he("div",s,u))},_update:function(){var e=this._map,s=e.getSize().y/2,u=e.distance(e.containerPointToLatLng([0,s]),e.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(u)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var s=this._getRoundNum(e),u=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,u,s/e)},_updateImperial:function(e){var s=e*3.2808399,u,f,v;s>5280?(u=s/5280,f=this._getRoundNum(u),this._updateScale(this._iScale,f+" mi",f/u)):(v=this._getRoundNum(s),this._updateScale(this._iScale,v+" ft",v/s))},_updateScale:function(e,s,u){e.style.width=Math.round(this.options.maxWidth*u)+"px",e.innerHTML=s},_getRoundNum:function(e){var s=Math.pow(10,(Math.floor(e)+"").length-1),u=e/s;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:1,s*u}}),Eo=function(e){return new Fi(e)},qs='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Br=Pe.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ft.inlineSvg?qs+" ":"")+"Leaflet</a>"},initialize:function(e){S(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=he("div","leaflet-control-attribution"),H(this._container);for(var s in e._layers)e._layers[s].getAttribution&&this.addAttribution(e._layers[s].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var s in this._attributions)this._attributions[s]&&e.push(s);var u=[];this.options.prefix&&u.push(this.options.prefix),e.length&&u.push(e.join(", ")),this._container.innerHTML=u.join(' <span aria-hidden="true">|</span> ')}}});Ut.mergeOptions({attributionControl:!0}),Ut.addInitHook(function(){this.options.attributionControl&&new Br().addTo(this)});var Ks=function(e){return new Br(e)};Pe.Layers=Mn,Pe.Zoom=Ar,Pe.Scale=Fi,Pe.Attribution=Br,Ve.layers=So,Ve.zoom=qn,Ve.scale=Eo,Ve.attribution=Ks;var mn=Lt.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});mn.addTo=function(e,s){return e.addHandler(s,this),this};var Op={Events:Ct},Ml=Ft.touch?"touchstart mousedown":"mousedown",lr=Vt.extend({options:{clickTolerance:3},initialize:function(e,s,u,f){S(this,f),this._element=e,this._dragStartTarget=s||e,this._preventOutline=u},enable:function(){this._enabled||(ee(this._dragStartTarget,Ml,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(lr._dragging===this&&this.finishDrag(!0),a(this._dragStartTarget,Ml,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!Yr(this._element,"leaflet-zoom-anim"))){if(e.touches&&e.touches.length!==1){lr._dragging===this&&this.finishDrag();return}if(!(lr._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&(lr._dragging=this,this._preventOutline&&ji(this._element),Rr(),Tr(),!this._moving)){this.fire("down");var s=e.touches?e.touches[0]:e,u=ei(this._element);this._startPoint=new wt(s.clientX,s.clientY),this._startPos=fn(this._element),this._parentScale=Ni(u);var f=e.type==="mousedown";ee(document,f?"mousemove":"touchmove",this._onMove,this),ee(document,f?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(e){if(this._enabled){if(e.touches&&e.touches.length>1){this._moved=!0;return}var s=e.touches&&e.touches.length===1?e.touches[0]:e,u=new wt(s.clientX,s.clientY)._subtract(this._startPoint);!u.x&&!u.y||Math.abs(u.x)+Math.abs(u.y)<this.options.clickTolerance||(u.x/=this._parentScale.x,u.y/=this._parentScale.y,G(e),this._moved||(this.fire("dragstart"),this._moved=!0,ne(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ne(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(u),this._moving=!0,this._lastEvent=e,this._updatePosition())}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),Se(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){Ae(document.body,"leaflet-dragging"),this._lastTarget&&(Ae(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),a(document,"mousemove touchmove",this._onMove,this),a(document,"mouseup touchend touchcancel",this._onUp,this),zi(),Or();var s=this._moved&&this._moving;this._moving=!1,lr._dragging=!1,s&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function Cl(e,s,u){var f,v=[1,4,2,8],P,q,tt,lt,kt,It,Jt,ce;for(P=0,It=e.length;P<It;P++)e[P]._code=Ir(e[P],s);for(tt=0;tt<4;tt++){for(Jt=v[tt],f=[],P=0,It=e.length,q=It-1;P<It;q=P++)lt=e[P],kt=e[q],lt._code&Jt?kt._code&Jt||(ce=To(kt,lt,Jt,s,u),ce._code=Ir(ce,s),f.push(ce)):(kt._code&Jt&&(ce=To(kt,lt,Jt,s,u),ce._code=Ir(ce,s),f.push(ce)),f.push(lt));e=f}return e}function Pl(e,s){var u,f,v,P,q,tt,lt,kt,It;if(!e||e.length===0)throw new Error("latlngs not passed");gn(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var Jt=Nt([0,0]),ce=fe(e),Xe=ce.getNorthWest().distanceTo(ce.getSouthWest())*ce.getNorthEast().distanceTo(ce.getNorthWest());Xe<1700&&(Jt=Ws(e));var $e=e.length,_n=[];for(u=0;u<$e;u++){var on=Nt(e[u]);_n.push(s.project(Nt([on.lat-Jt.lat,on.lng-Jt.lng])))}for(tt=lt=kt=0,u=0,f=$e-1;u<$e;f=u++)v=_n[u],P=_n[f],q=v.y*P.x-P.y*v.x,lt+=(v.x+P.x)*q,kt+=(v.y+P.y)*q,tt+=q*3;tt===0?It=_n[0]:It=[lt/tt,kt/tt];var ai=s.unproject(Dt(It));return Nt([ai.lat+Jt.lat,ai.lng+Jt.lng])}function Ws(e){for(var s=0,u=0,f=0,v=0;v<e.length;v++){var P=Nt(e[v]);s+=P.lat,u+=P.lng,f++}return Nt([s/f,u/f])}var Rp={__proto__:null,clipPolygon:Cl,polygonCenter:Pl,centroid:Ws};function Sl(e,s){if(!s||!e.length)return e.slice();var u=s*s;return e=Ip(e,u),e=Bp(e,u),e}function El(e,s,u){return Math.sqrt(Hi(e,s,u,!0))}function Ap(e,s,u){return Hi(e,s,u)}function Bp(e,s){var u=e.length,f=typeof Uint8Array!=void 0+""?Uint8Array:Array,v=new f(u);v[0]=v[u-1]=1,Js(e,v,s,0,u-1);var P,q=[];for(P=0;P<u;P++)v[P]&&q.push(e[P]);return q}function Js(e,s,u,f,v){var P=0,q,tt,lt;for(tt=f+1;tt<=v-1;tt++)lt=Hi(e[tt],e[f],e[v],!0),lt>P&&(q=tt,P=lt);P>u&&(s[q]=1,Js(e,s,u,f,q),Js(e,s,u,q,v))}function Ip(e,s){for(var u=[e[0]],f=1,v=0,P=e.length;f<P;f++)Dp(e[f],e[v])>s&&(u.push(e[f]),v=f);return v<P-1&&u.push(e[P-1]),u}var Tl;function Ol(e,s,u,f,v){var P=f?Tl:Ir(e,u),q=Ir(s,u),tt,lt,kt;for(Tl=q;;){if(!(P|q))return[e,s];if(P&q)return!1;tt=P||q,lt=To(e,s,tt,u,v),kt=Ir(lt,u),tt===P?(e=lt,P=kt):(s=lt,q=kt)}}function To(e,s,u,f,v){var P=s.x-e.x,q=s.y-e.y,tt=f.min,lt=f.max,kt,It;return u&8?(kt=e.x+P*(lt.y-e.y)/q,It=lt.y):u&4?(kt=e.x+P*(tt.y-e.y)/q,It=tt.y):u&2?(kt=lt.x,It=e.y+q*(lt.x-e.x)/P):u&1&&(kt=tt.x,It=e.y+q*(tt.x-e.x)/P),new wt(kt,It,v)}function Ir(e,s){var u=0;return e.x<s.min.x?u|=1:e.x>s.max.x&&(u|=2),e.y<s.min.y?u|=4:e.y>s.max.y&&(u|=8),u}function Dp(e,s){var u=s.x-e.x,f=s.y-e.y;return u*u+f*f}function Hi(e,s,u,f){var v=s.x,P=s.y,q=u.x-v,tt=u.y-P,lt=q*q+tt*tt,kt;return lt>0&&(kt=((e.x-v)*q+(e.y-P)*tt)/lt,kt>1?(v=u.x,P=u.y):kt>0&&(v+=q*kt,P+=tt*kt)),q=e.x-v,tt=e.y-P,f?q*q+tt*tt:new wt(v,P)}function gn(e){return!V(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]<"u"}function Rl(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),gn(e)}function Al(e,s){var u,f,v,P,q,tt,lt,kt;if(!e||e.length===0)throw new Error("latlngs not passed");gn(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var It=Nt([0,0]),Jt=fe(e),ce=Jt.getNorthWest().distanceTo(Jt.getSouthWest())*Jt.getNorthEast().distanceTo(Jt.getNorthWest());ce<1700&&(It=Ws(e));var Xe=e.length,$e=[];for(u=0;u<Xe;u++){var _n=Nt(e[u]);$e.push(s.project(Nt([_n.lat-It.lat,_n.lng-It.lng])))}for(u=0,f=0;u<Xe-1;u++)f+=$e[u].distanceTo($e[u+1])/2;if(f===0)kt=$e[0];else for(u=0,P=0;u<Xe-1;u++)if(q=$e[u],tt=$e[u+1],v=q.distanceTo(tt),P+=v,P>f){lt=(P-f)/v,kt=[tt.x-lt*(tt.x-q.x),tt.y-lt*(tt.y-q.y)];break}var on=s.unproject(Dt(kt));return Nt([on.lat+It.lat,on.lng+It.lng])}var zp={__proto__:null,simplify:Sl,pointToSegmentDistance:El,closestPointOnSegment:Ap,clipSegment:Ol,_getEdgeIntersection:To,_getBitCode:Ir,_sqClosestPointOnSegment:Hi,isFlat:gn,_flat:Rl,polylineCenter:Al},Ys={project:function(e){return new wt(e.lng,e.lat)},unproject:function(e){return new ae(e.y,e.x)},bounds:new Bt([-180,-90],[180,90])},Xs={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Bt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(e){var s=Math.PI/180,u=this.R,f=e.lat*s,v=this.R_MINOR/u,P=Math.sqrt(1-v*v),q=P*Math.sin(f),tt=Math.tan(Math.PI/4-f/2)/Math.pow((1-q)/(1+q),P/2);return f=-u*Math.log(Math.max(tt,1e-10)),new wt(e.lng*s*u,f)},unproject:function(e){for(var s=180/Math.PI,u=this.R,f=this.R_MINOR/u,v=Math.sqrt(1-f*f),P=Math.exp(-e.y/u),q=Math.PI/2-2*Math.atan(P),tt=0,lt=.1,kt;tt<15&&Math.abs(lt)>1e-7;tt++)kt=v*Math.sin(q),kt=Math.pow((1-kt)/(1+kt),v/2),lt=Math.PI/2-2*Math.atan(P*kt)-q,q+=lt;return new ae(q*s,e.x*s/u)}},jp={__proto__:null,LonLat:Ys,Mercator:Xs,SphericalMercator:zt},Np=l({},Pt,{code:"EPSG:3395",projection:Xs,transformation:function(){var e=.5/(Math.PI*Xs.R);return F(e,.5,-e,.5)}()}),Bl=l({},Pt,{code:"EPSG:4326",projection:Ys,transformation:F(1/180,1,-1/180,.5)}),Fp=l({},pt,{projection:Ys,transformation:F(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,s){var u=s.lng-e.lng,f=s.lat-e.lat;return Math.sqrt(u*u+f*f)},infinite:!0});pt.Earth=Pt,pt.EPSG3395=Np,pt.EPSG3857=K,pt.EPSG900913=J,pt.EPSG4326=Bl,pt.Simple=Fp;var Cn=Vt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[m(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[m(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var s=e.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var u=this.getEvents();s.on(u,this),this.once("remove",function(){s.off(u,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});Ut.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var s=m(e);return this._layers[s]?this:(this._layers[s]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var s=m(e);return this._layers[s]?(this._loaded&&e.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return m(e)in this._layers},eachLayer:function(e,s){for(var u in this._layers)e.call(s,this._layers[u]);return this},_addLayers:function(e){e=e?V(e)?e:[e]:[];for(var s=0,u=e.length;s<u;s++)this.addLayer(e[s])},_addZoomLimit:function(e){(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[m(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var s=m(e);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,s=-1/0,u=this._getZoomSpan();for(var f in this._zoomBoundLayers){var v=this._zoomBoundLayers[f].options;e=v.minZoom===void 0?e:Math.min(e,v.minZoom),s=v.maxZoom===void 0?s:Math.max(s,v.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=e===1/0?void 0:e,u!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ni=Cn.extend({initialize:function(e,s){S(this,s),this._layers={};var u,f;if(e)for(u=0,f=e.length;u<f;u++)this.addLayer(e[u])},addLayer:function(e){var s=this.getLayerId(e);return this._layers[s]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var s=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(e){var s=typeof e=="number"?e:this.getLayerId(e);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var s=Array.prototype.slice.call(arguments,1),u,f;for(u in this._layers)f=this._layers[u],f[e]&&f[e].apply(f,s);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,s){for(var u in this._layers)e.call(s,this._layers[u]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return m(e)}}),Hp=function(e,s){return new ni(e,s)},Kn=ni.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),ni.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),ni.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new Me;for(var s in this._layers){var u=this._layers[s];e.extend(u.getBounds?u.getBounds():u.getLatLng())}return e}}),Vp=function(e,s){return new Kn(e,s)},ri=Lt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){S(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,s){var u=this._getIconUrl(e);if(!u){if(e==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var f=this._createImg(u,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(f,e),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),f},_setIconStyles:function(e,s){var u=this.options,f=u[s+"Size"];typeof f=="number"&&(f=[f,f]);var v=Dt(f),P=Dt(s==="shadow"&&u.shadowAnchor||u.iconAnchor||v&&v.divideBy(2,!0));e.className="leaflet-marker-"+s+" "+(u.className||""),P&&(e.style.marginLeft=-P.x+"px",e.style.marginTop=-P.y+"px"),v&&(e.style.width=v.x+"px",e.style.height=v.y+"px")},_createImg:function(e,s){return s=s||document.createElement("img"),s.src=e,s},_getIconUrl:function(e){return Ft.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function $p(e){return new ri(e)}var Vi=ri.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return typeof Vi.imagePath!="string"&&(Vi.imagePath=this._detectIconPath()),(this.options.imagePath||Vi.imagePath)+ri.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var s=function(u,f,v){var P=f.exec(u);return P&&P[v]};return e=s(e,/^url\((['"])?(.+)\1\)$/,2),e&&s(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=he("div","leaflet-default-icon-path",document.body),s=sr(e,"background-image")||sr(e,"backgroundImage");if(document.body.removeChild(e),s=this._stripUrl(s),s)return s;var u=document.querySelector('link[href$="leaflet.css"]');return u?u.href.substring(0,u.href.length-11-1):""}}),Il=mn.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new lr(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ne(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ae(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var s=this._marker,u=s._map,f=this._marker.options.autoPanSpeed,v=this._marker.options.autoPanPadding,P=fn(s._icon),q=u.getPixelBounds(),tt=u.getPixelOrigin(),lt=$t(q.min._subtract(tt).add(v),q.max._subtract(tt).subtract(v));if(!lt.contains(P)){var kt=Dt((Math.max(lt.max.x,P.x)-lt.max.x)/(q.max.x-lt.max.x)-(Math.min(lt.min.x,P.x)-lt.min.x)/(q.min.x-lt.min.x),(Math.max(lt.max.y,P.y)-lt.max.y)/(q.max.y-lt.max.y)-(Math.min(lt.min.y,P.y)-lt.min.y)/(q.min.y-lt.min.y)).multiplyBy(f);u.panBy(kt,{animate:!1}),this._draggable._newPos._add(kt),this._draggable._startPos._add(kt),Se(s._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=gt(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(at(this._panRequest),this._panRequest=gt(this._adjustPan.bind(this,e)))},_onDrag:function(e){var s=this._marker,u=s._shadow,f=fn(s._icon),v=s._map.layerPointToLatLng(f);u&&Se(u,f),s._latlng=v,e.latlng=v,e.oldLatLng=this._oldLatLng,s.fire("move",e).fire("drag",e)},_onDragEnd:function(e){at(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),Oo=Cn.extend({options:{icon:new Vi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,s){S(this,s),this._latlng=Nt(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var s=this._latlng;return this._latlng=Nt(e),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),u=e.icon.createIcon(this._icon),f=!1;u!==this._icon&&(this._icon&&this._removeIcon(),f=!0,e.title&&(u.title=e.title),u.tagName==="IMG"&&(u.alt=e.alt||"")),ne(u,s),e.keyboard&&(u.tabIndex="0",u.setAttribute("role","button")),this._icon=u,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ee(u,"focus",this._panOnFocus,this);var v=e.icon.createShadow(this._shadow),P=!1;v!==this._shadow&&(this._removeShadow(),P=!0),v&&(ne(v,s),v.alt=""),this._shadow=v,e.opacity<1&&this._updateOpacity(),f&&this.getPane().appendChild(this._icon),this._initInteraction(),v&&P&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&a(this._icon,"focus",this._panOnFocus,this),Ce(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ce(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&Se(this._icon,e),this._shadow&&Se(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var s=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(ne(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Il)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Il(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&rn(this._icon,e),this._shadow&&rn(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var s=this.options.icon.options,u=s.iconSize?Dt(s.iconSize):Dt(0,0),f=s.iconAnchor?Dt(s.iconAnchor):Dt(0,0);e.panInside(this._latlng,{paddingTopLeft:f,paddingBottomRight:u.subtract(f)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Up(e,s){return new Oo(e,s)}var cr=Cn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return S(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ro=cr.extend({options:{fill:!0,radius:10},initialize:function(e,s){S(this,s),this._latlng=Nt(e),this._radius=this.options.radius},setLatLng:function(e){var s=this._latlng;return this._latlng=Nt(e),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var s=e&&e.radius||this._radius;return cr.prototype.setStyle.call(this,e),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,s=this._radiusY||e,u=this._clickTolerance(),f=[e+u,s+u];this._pxBounds=new Bt(this._point.subtract(f),this._point.add(f))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Gp(e,s){return new Ro(e,s)}var Qs=Ro.extend({initialize:function(e,s,u){if(typeof s=="number"&&(s=l({},u,{radius:s})),S(this,s),this._latlng=Nt(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new Me(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:cr.prototype.setStyle,_project:function(){var e=this._latlng.lng,s=this._latlng.lat,u=this._map,f=u.options.crs;if(f.distance===Pt.distance){var v=Math.PI/180,P=this._mRadius/Pt.R/v,q=u.project([s+P,e]),tt=u.project([s-P,e]),lt=q.add(tt).divideBy(2),kt=u.unproject(lt).lat,It=Math.acos((Math.cos(P*v)-Math.sin(s*v)*Math.sin(kt*v))/(Math.cos(s*v)*Math.cos(kt*v)))/v;(isNaN(It)||It===0)&&(It=P/Math.cos(Math.PI/180*s)),this._point=lt.subtract(u.getPixelOrigin()),this._radius=isNaN(It)?0:lt.x-u.project([kt,e-It]).x,this._radiusY=lt.y-q.y}else{var Jt=f.unproject(f.project(this._latlng).subtract([this._mRadius,0]));this._point=u.latLngToLayerPoint(this._latlng),this._radius=this._point.x-u.latLngToLayerPoint(Jt).x}this._updateBounds()}});function Zp(e,s,u){return new Qs(e,s,u)}var Wn=cr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,s){S(this,s),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var s=1/0,u=null,f=Hi,v,P,q=0,tt=this._parts.length;q<tt;q++)for(var lt=this._parts[q],kt=1,It=lt.length;kt<It;kt++){v=lt[kt-1],P=lt[kt];var Jt=f(e,v,P,!0);Jt<s&&(s=Jt,u=f(e,v,P))}return u&&(u.distance=Math.sqrt(s)),u},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Al(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,s){return s=s||this._defaultShape(),e=Nt(e),s.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new Me,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return gn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var s=[],u=gn(e),f=0,v=e.length;f<v;f++)u?(s[f]=Nt(e[f]),this._bounds.extend(s[f])):s[f]=this._convertLatLngs(e[f]);return s},_project:function(){var e=new Bt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),s=new wt(e,e);this._rawPxBounds&&(this._pxBounds=new Bt([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(e,s,u){var f=e[0]instanceof ae,v=e.length,P,q;if(f){for(q=[],P=0;P<v;P++)q[P]=this._map.latLngToLayerPoint(e[P]),u.extend(q[P]);s.push(q)}else for(P=0;P<v;P++)this._projectLatlngs(e[P],s,u)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,u,f,v,P,q,tt,lt;for(u=0,v=0,P=this._rings.length;u<P;u++)for(lt=this._rings[u],f=0,q=lt.length;f<q-1;f++)tt=Ol(lt[f],lt[f+1],e,f,!0),tt&&(s[v]=s[v]||[],s[v].push(tt[0]),(tt[1]!==lt[f+1]||f===q-2)&&(s[v].push(tt[1]),v++))}},_simplifyPoints:function(){for(var e=this._parts,s=this.options.smoothFactor,u=0,f=e.length;u<f;u++)e[u]=Sl(e[u],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,s){var u,f,v,P,q,tt,lt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(u=0,P=this._parts.length;u<P;u++)for(tt=this._parts[u],f=0,q=tt.length,v=q-1;f<q;v=f++)if(!(!s&&f===0)&&El(e,tt[v],tt[f])<=lt)return!0;return!1}});function qp(e,s){return new Wn(e,s)}Wn._flat=Rl;var ii=Wn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Pl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var s=Wn.prototype._convertLatLngs.call(this,e),u=s.length;return u>=2&&s[0]instanceof ae&&s[0].equals(s[u-1])&&s.pop(),s},_setLatLngs:function(e){Wn.prototype._setLatLngs.call(this,e),gn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return gn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,s=this.options.weight,u=new wt(s,s);if(e=new Bt(e.min.subtract(u),e.max.add(u)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}for(var f=0,v=this._rings.length,P;f<v;f++)P=Cl(this._rings[f],e,!0),P.length&&this._parts.push(P)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var s=!1,u,f,v,P,q,tt,lt,kt;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(P=0,lt=this._parts.length;P<lt;P++)for(u=this._parts[P],q=0,kt=u.length,tt=kt-1;q<kt;tt=q++)f=u[q],v=u[tt],f.y>e.y!=v.y>e.y&&e.x<(v.x-f.x)*(e.y-f.y)/(v.y-f.y)+f.x&&(s=!s);return s||Wn.prototype._containsPoint.call(this,e,!0)}});function Kp(e,s){return new ii(e,s)}var Jn=Kn.extend({initialize:function(e,s){S(this,s),this._layers={},e&&this.addData(e)},addData:function(e){var s=V(e)?e:e.features,u,f,v;if(s){for(u=0,f=s.length;u<f;u++)v=s[u],(v.geometries||v.geometry||v.features||v.coordinates)&&this.addData(v);return this}var P=this.options;if(P.filter&&!P.filter(e))return this;var q=Ao(e,P);return q?(q.feature=Do(e),q.defaultOptions=q.options,this.resetStyle(q),P.onEachFeature&&P.onEachFeature(e,q),this.addLayer(q)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=l({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(s){this._setLayerStyle(s,e)},this)},_setLayerStyle:function(e,s){e.setStyle&&(typeof s=="function"&&(s=s(e.feature)),e.setStyle(s))}});function Ao(e,s){var u=e.type==="Feature"?e.geometry:e,f=u?u.coordinates:null,v=[],P=s&&s.pointToLayer,q=s&&s.coordsToLatLng||ta,tt,lt,kt,It;if(!f&&!u)return null;switch(u.type){case"Point":return tt=q(f),Dl(P,e,tt,s);case"MultiPoint":for(kt=0,It=f.length;kt<It;kt++)tt=q(f[kt]),v.push(Dl(P,e,tt,s));return new Kn(v);case"LineString":case"MultiLineString":return lt=Bo(f,u.type==="LineString"?0:1,q),new Wn(lt,s);case"Polygon":case"MultiPolygon":return lt=Bo(f,u.type==="Polygon"?1:2,q),new ii(lt,s);case"GeometryCollection":for(kt=0,It=u.geometries.length;kt<It;kt++){var Jt=Ao({geometry:u.geometries[kt],type:"Feature",properties:e.properties},s);Jt&&v.push(Jt)}return new Kn(v);case"FeatureCollection":for(kt=0,It=u.features.length;kt<It;kt++){var ce=Ao(u.features[kt],s);ce&&v.push(ce)}return new Kn(v);default:throw new Error("Invalid GeoJSON object.")}}function Dl(e,s,u,f){return e?e(s,u):new Oo(u,f&&f.markersInheritOptions&&f)}function ta(e){return new ae(e[1],e[0],e[2])}function Bo(e,s,u){for(var f=[],v=0,P=e.length,q;v<P;v++)q=s?Bo(e[v],s-1,u):(u||ta)(e[v]),f.push(q);return f}function ea(e,s){return e=Nt(e),e.alt!==void 0?[M(e.lng,s),M(e.lat,s),M(e.alt,s)]:[M(e.lng,s),M(e.lat,s)]}function Io(e,s,u,f){for(var v=[],P=0,q=e.length;P<q;P++)v.push(s?Io(e[P],gn(e[P])?0:s-1,u,f):ea(e[P],f));return!s&&u&&v.length>0&&v.push(v[0].slice()),v}function oi(e,s){return e.feature?l({},e.feature,{geometry:s}):Do(s)}function Do(e){return e.type==="Feature"||e.type==="FeatureCollection"?e:{type:"Feature",properties:{},geometry:e}}var na={toGeoJSON:function(e){return oi(this,{type:"Point",coordinates:ea(this.getLatLng(),e)})}};Oo.include(na),Qs.include(na),Ro.include(na),Wn.include({toGeoJSON:function(e){var s=!gn(this._latlngs),u=Io(this._latlngs,s?1:0,!1,e);return oi(this,{type:(s?"Multi":"")+"LineString",coordinates:u})}}),ii.include({toGeoJSON:function(e){var s=!gn(this._latlngs),u=s&&!gn(this._latlngs[0]),f=Io(this._latlngs,u?2:s?1:0,!0,e);return s||(f=[f]),oi(this,{type:(u?"Multi":"")+"Polygon",coordinates:f})}}),ni.include({toMultiPoint:function(e){var s=[];return this.eachLayer(function(u){s.push(u.toGeoJSON(e).geometry.coordinates)}),oi(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(e){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(e);var u=s==="GeometryCollection",f=[];return this.eachLayer(function(v){if(v.toGeoJSON){var P=v.toGeoJSON(e);if(u)f.push(P.geometry);else{var q=Do(P);q.type==="FeatureCollection"?f.push.apply(f,q.features):f.push(q)}}}),u?oi(this,{geometries:f,type:"GeometryCollection"}):{type:"FeatureCollection",features:f}}});function zl(e,s){return new Jn(e,s)}var Wp=zl,zo=Cn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,s,u){this._url=e,this._bounds=fe(s),S(this,u)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ne(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ce(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&Gn(this._image),this},bringToBack:function(){return this._map&&Zn(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=fe(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName==="IMG",s=this._image=e?this._url:he("img");if(ne(s,"leaflet-image-layer"),this._zoomAnimated&&ne(s,"leaflet-zoom-animated"),this.options.className&&ne(s,this.options.className),s.onselectstart=w,s.onmousemove=w,s.onload=h(this.fire,this,"load"),s.onerror=h(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(e){var s=this._map.getZoomScale(e.zoom),u=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;In(this._image,u,s)},_reset:function(){var e=this._image,s=new Bt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),u=s.getSize();Se(e,s.min),e.style.width=u.x+"px",e.style.height=u.y+"px"},_updateOpacity:function(){rn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),Jp=function(e,s,u){return new zo(e,s,u)},jl=zo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e=this._url.tagName==="VIDEO",s=this._image=e?this._url:he("video");if(ne(s,"leaflet-image-layer"),this._zoomAnimated&&ne(s,"leaflet-zoom-animated"),this.options.className&&ne(s,this.options.className),s.onselectstart=w,s.onmousemove=w,s.onloadeddata=h(this.fire,this,"load"),e){for(var u=s.getElementsByTagName("source"),f=[],v=0;v<u.length;v++)f.push(u[v].src);this._url=u.length>0?f:[s.src];return}V(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var P=0;P<this._url.length;P++){var q=he("source");q.src=this._url[P],s.appendChild(q)}}});function Yp(e,s,u){return new jl(e,s,u)}var Nl=zo.extend({_initImage:function(){var e=this._image=this._url;ne(e,"leaflet-image-layer"),this._zoomAnimated&&ne(e,"leaflet-zoom-animated"),this.options.className&&ne(e,this.options.className),e.onselectstart=w,e.onmousemove=w}});function Xp(e,s,u){return new Nl(e,s,u)}var zn=Cn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,s){e&&(e instanceof ae||V(e))?(this._latlng=Nt(e),S(this,s)):(S(this,e),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(e){return e=arguments.length?e:this._source._map,e.hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&rn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&rn(this._container,1),this.bringToFront(),this.options.interactive&&(ne(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(rn(this._container,0),this._removeTimeout=setTimeout(h(Ce,void 0,this._container),200)):Ce(this._container),this.options.interactive&&(Ae(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=Nt(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Gn(this._container),this},bringToBack:function(){return this._map&&Zn(this._container),this},_prepareOpen:function(e){var s=this._source;if(!s._map)return!1;if(s instanceof Kn){s=null;var u=this._source._layers;for(var f in u)if(u[f]._map){s=u[f];break}if(!s)return!1;this._source=s}if(!e)if(s.getCenter)e=s.getCenter();else if(s.getLatLng)e=s.getLatLng();else if(s.getBounds)e=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")e.innerHTML=s;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),s=Dt(this.options.offset),u=this._getAnchor();this._zoomAnimated?Se(this._container,e.add(u)):s=s.add(e).add(u);var f=this._containerBottom=-s.y,v=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=f+"px",this._container.style.left=v+"px"}},_getAnchor:function(){return[0,0]}});Ut.include({_initOverlay:function(e,s,u,f){var v=s;return v instanceof e||(v=new e(f).setContent(s)),u&&v.setLatLng(u),v}}),Cn.include({_initOverlay:function(e,s,u,f){var v=u;return v instanceof e?(S(v,f),v._source=this):(v=s&&!f?s:new e(f,this),v.setContent(u)),v}});var jo=zn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e=arguments.length?e:this._source._map,!e.hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,zn.prototype.openOn.call(this,e)},onAdd:function(e){zn.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof cr||this._source.on("preclick",j))},onRemove:function(e){zn.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof cr||this._source.off("preclick",j))},getEvents:function(){var e=zn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",s=this._container=he("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),u=this._wrapper=he("div",e+"-content-wrapper",s);if(this._contentNode=he("div",e+"-content",u),H(s),$(this._contentNode),ee(s,"contextmenu",j),this._tipContainer=he("div",e+"-tip-container",s),this._tip=he("div",e+"-tip",this._tipContainer),this.options.closeButton){var f=this._closeButton=he("a",e+"-close-button",s);f.setAttribute("role","button"),f.setAttribute("aria-label","Close popup"),f.href="#close",f.innerHTML='<span aria-hidden="true">&#215;</span>',ee(f,"click",function(v){G(v),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,s=e.style;s.width="",s.whiteSpace="nowrap";var u=e.offsetWidth;u=Math.min(u,this.options.maxWidth),u=Math.max(u,this.options.minWidth),s.width=u+1+"px",s.whiteSpace="",s.height="";var f=e.offsetHeight,v=this.options.maxHeight,P="leaflet-popup-scrolled";v&&f>v?(s.height=v+"px",ne(e,P)):Ae(e,P),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var s=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),u=this._getAnchor();Se(this._container,s.add(u))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var e=this._map,s=parseInt(sr(this._container,"marginBottom"),10)||0,u=this._container.offsetHeight+s,f=this._containerWidth,v=new wt(this._containerLeft,-u-this._containerBottom);v._add(fn(this._container));var P=e.layerPointToContainerPoint(v),q=Dt(this.options.autoPanPadding),tt=Dt(this.options.autoPanPaddingTopLeft||q),lt=Dt(this.options.autoPanPaddingBottomRight||q),kt=e.getSize(),It=0,Jt=0;P.x+f+lt.x>kt.x&&(It=P.x+f-kt.x+lt.x),P.x-It-tt.x<0&&(It=P.x-tt.x),P.y+u+lt.y>kt.y&&(Jt=P.y+u-kt.y+lt.y),P.y-Jt-tt.y<0&&(Jt=P.y-tt.y),(It||Jt)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([It,Jt]))}},_getAnchor:function(){return Dt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Qp=function(e,s){return new jo(e,s)};Ut.mergeOptions({closePopupOnClick:!0}),Ut.include({openPopup:function(e,s,u){return this._initOverlay(jo,e,s,u).openOn(this),this},closePopup:function(e){return e=arguments.length?e:this._popup,e&&e.close(),this}}),Cn.include({bindPopup:function(e,s){return this._popup=this._initOverlay(jo,this._popup,e,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof Kn||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(!(!this._popup||!this._map)){X(e);var s=e.layer||e.target;if(this._popup._source===s&&!(s instanceof cr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng);return}this._popup._source=s,this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}});var No=zn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){zn.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){zn.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=zn.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip",s=e+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=he("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+m(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var s,u,f=this._map,v=this._container,P=f.latLngToContainerPoint(f.getCenter()),q=f.layerPointToContainerPoint(e),tt=this.options.direction,lt=v.offsetWidth,kt=v.offsetHeight,It=Dt(this.options.offset),Jt=this._getAnchor();tt==="top"?(s=lt/2,u=kt):tt==="bottom"?(s=lt/2,u=0):tt==="center"?(s=lt/2,u=kt/2):tt==="right"?(s=0,u=kt/2):tt==="left"?(s=lt,u=kt/2):q.x<P.x?(tt="right",s=0,u=kt/2):(tt="left",s=lt+(It.x+Jt.x)*2,u=kt/2),e=e.subtract(Dt(s,u,!0)).add(It).add(Jt),Ae(v,"leaflet-tooltip-right"),Ae(v,"leaflet-tooltip-left"),Ae(v,"leaflet-tooltip-top"),Ae(v,"leaflet-tooltip-bottom"),ne(v,"leaflet-tooltip-"+tt),Se(v,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&rn(this._container,e)},_animateZoom:function(e){var s=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(s)},_getAnchor:function(){return Dt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),td=function(e,s){return new No(e,s)};Ut.include({openTooltip:function(e,s,u){return this._initOverlay(No,e,s,u).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Cn.include({bindTooltip:function(e,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(No,this._tooltip,e,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(!(!e&&this._tooltipHandlersAdded)){var s=e?"off":"on",u={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?u.add=this._openTooltip:(u.mouseover=this._openTooltip,u.mouseout=this.closeTooltip,u.click=this._openTooltip,this._map?this._addFocusListeners():u.add=this._addFocusListeners),this._tooltip.options.sticky&&(u.mousemove=this._moveTooltip),this[s](u),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof Kn||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var s=typeof e.getElement=="function"&&e.getElement();s&&(ee(s,"focus",function(){this._tooltip._source=e,this.openTooltip()},this),ee(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var s=typeof e.getElement=="function"&&e.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(e)});return}this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)}},_moveTooltip:function(e){var s=e.latlng,u,f;this._tooltip.options.sticky&&e.originalEvent&&(u=this._map.mouseEventToContainerPoint(e.originalEvent),f=this._map.containerPointToLayerPoint(u),s=this._map.layerPointToLatLng(f)),this._tooltip.setLatLng(s)}});var Fl=ri.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var s=e&&e.tagName==="DIV"?e:document.createElement("div"),u=this.options;if(u.html instanceof Element?(Sr(s),s.appendChild(u.html)):s.innerHTML=u.html!==!1?u.html:"",u.bgPos){var f=Dt(u.bgPos);s.style.backgroundPosition=-f.x+"px "+-f.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function ed(e){return new Fl(e)}ri.Default=Vi;var $i=Cn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ft.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){S(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),Ce(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Gn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Zn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=g(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof wt?e:new wt(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var s=this.getPane().children,u=-e(-1/0,1/0),f=0,v=s.length,P;f<v;f++)P=s[f].style.zIndex,s[f]!==this._container&&P&&(u=e(u,+P));isFinite(u)&&(this.options.zIndex=u+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ft.ielt9){rn(this._container,this.options.opacity);var e=+new Date,s=!1,u=!1;for(var f in this._tiles){var v=this._tiles[f];if(!(!v.current||!v.loaded)){var P=Math.min(1,(e-v.loaded)/200);rn(v.el,P),P<1?s=!0:(v.active?u=!0:this._onOpaqueTile(v),v.active=!0)}}u&&!this._noPrune&&this._pruneTiles(),s&&(at(this._fadeFrame),this._fadeFrame=gt(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=he("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,s=this.options.maxZoom;if(e!==void 0){for(var u in this._levels)u=Number(u),this._levels[u].el.children.length||u===e?(this._levels[u].el.style.zIndex=s-Math.abs(e-u),this._onUpdateLevel(u)):(Ce(this._levels[u].el),this._removeTilesAtZoom(u),this._onRemoveLevel(u),delete this._levels[u]);var f=this._levels[e],v=this._map;return f||(f=this._levels[e]={},f.el=he("div","leaflet-tile-container leaflet-zoom-animated",this._container),f.el.style.zIndex=s,f.origin=v.project(v.unproject(v.getPixelOrigin()),e).round(),f.zoom=e,this._setZoomTransform(f,v.getCenter(),v.getZoom()),w(f.el.offsetWidth),this._onCreateLevel(f)),this._level=f,f}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var e,s,u=this._map.getZoom();if(u>this.options.maxZoom||u<this.options.minZoom){this._removeAllTiles();return}for(e in this._tiles)s=this._tiles[e],s.retain=s.current;for(e in this._tiles)if(s=this._tiles[e],s.current&&!s.active){var f=s.coords;this._retainParent(f.x,f.y,f.z,f.z-5)||this._retainChildren(f.x,f.y,f.z,f.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var s in this._tiles)this._tiles[s].coords.z===e&&this._removeTile(s)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)Ce(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,s,u,f){var v=Math.floor(e/2),P=Math.floor(s/2),q=u-1,tt=new wt(+v,+P);tt.z=+q;var lt=this._tileCoordsToKey(tt),kt=this._tiles[lt];return kt&&kt.active?(kt.retain=!0,!0):(kt&&kt.loaded&&(kt.retain=!0),q>f?this._retainParent(v,P,q,f):!1)},_retainChildren:function(e,s,u,f){for(var v=2*e;v<2*e+2;v++)for(var P=2*s;P<2*s+2;P++){var q=new wt(v,P);q.z=u+1;var tt=this._tileCoordsToKey(q),lt=this._tiles[tt];if(lt&&lt.active){lt.retain=!0;continue}else lt&&lt.loaded&&(lt.retain=!0);u+1<f&&this._retainChildren(v,P,u+1,f)}},_resetView:function(e){var s=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var s=this.options;return s.minNativeZoom!==void 0&&e<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<e?s.maxNativeZoom:e},_setView:function(e,s,u,f){var v=Math.round(s);this.options.maxZoom!==void 0&&v>this.options.maxZoom||this.options.minZoom!==void 0&&v<this.options.minZoom?v=void 0:v=this._clampZoom(v);var P=this.options.updateWhenZooming&&v!==this._tileZoom;(!f||P)&&(this._tileZoom=v,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),v!==void 0&&this._update(e),u||this._pruneTiles(),this._noPrune=!!u),this._setZoomTransforms(e,s)},_setZoomTransforms:function(e,s){for(var u in this._levels)this._setZoomTransform(this._levels[u],e,s)},_setZoomTransform:function(e,s,u){var f=this._map.getZoomScale(u,e.zoom),v=e.origin.multiplyBy(f).subtract(this._map._getNewPixelOrigin(s,u)).round();Ft.any3d?In(e.el,v,f):Se(e.el,v)},_resetGrid:function(){var e=this._map,s=e.options.crs,u=this._tileSize=this.getTileSize(),f=this._tileZoom,v=this._map.getPixelWorldBounds(this._tileZoom);v&&(this._globalTileRange=this._pxBoundsToTileRange(v)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,s.wrapLng[0]],f).x/u.x),Math.ceil(e.project([0,s.wrapLng[1]],f).x/u.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([s.wrapLat[0],0],f).y/u.x),Math.ceil(e.project([s.wrapLat[1],0],f).y/u.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(e){var s=this._map,u=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),f=s.getZoomScale(u,this._tileZoom),v=s.project(e,this._tileZoom).floor(),P=s.getSize().divideBy(f*2);return new Bt(v.subtract(P),v.add(P))},_update:function(e){var s=this._map;if(s){var u=this._clampZoom(s.getZoom());if(e===void 0&&(e=s.getCenter()),this._tileZoom!==void 0){var f=this._getTiledPixelBounds(e),v=this._pxBoundsToTileRange(f),P=v.getCenter(),q=[],tt=this.options.keepBuffer,lt=new Bt(v.getBottomLeft().subtract([tt,-tt]),v.getTopRight().add([tt,-tt]));if(!(isFinite(v.min.x)&&isFinite(v.min.y)&&isFinite(v.max.x)&&isFinite(v.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var kt in this._tiles){var It=this._tiles[kt].coords;(It.z!==this._tileZoom||!lt.contains(new wt(It.x,It.y)))&&(this._tiles[kt].current=!1)}if(Math.abs(u-this._tileZoom)>1){this._setView(e,u);return}for(var Jt=v.min.y;Jt<=v.max.y;Jt++)for(var ce=v.min.x;ce<=v.max.x;ce++){var Xe=new wt(ce,Jt);if(Xe.z=this._tileZoom,!!this._isValidTile(Xe)){var $e=this._tiles[this._tileCoordsToKey(Xe)];$e?$e.current=!0:q.push(Xe)}}if(q.sort(function(on,ai){return on.distanceTo(P)-ai.distanceTo(P)}),q.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var _n=document.createDocumentFragment();for(ce=0;ce<q.length;ce++)this._addTile(q[ce],_n);this._level.el.appendChild(_n)}}}},_isValidTile:function(e){var s=this._map.options.crs;if(!s.infinite){var u=this._globalTileRange;if(!s.wrapLng&&(e.x<u.min.x||e.x>u.max.x)||!s.wrapLat&&(e.y<u.min.y||e.y>u.max.y))return!1}if(!this.options.bounds)return!0;var f=this._tileCoordsToBounds(e);return fe(this.options.bounds).overlaps(f)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var s=this._map,u=this.getTileSize(),f=e.scaleBy(u),v=f.add(u),P=s.unproject(f,e.z),q=s.unproject(v,e.z);return[P,q]},_tileCoordsToBounds:function(e){var s=this._tileCoordsToNwSe(e),u=new Me(s[0],s[1]);return this.options.noWrap||(u=this._map.wrapLatLngBounds(u)),u},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var s=e.split(":"),u=new wt(+s[0],+s[1]);return u.z=+s[2],u},_removeTile:function(e){var s=this._tiles[e];s&&(Ce(s.el),delete this._tiles[e],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){ne(e,"leaflet-tile");var s=this.getTileSize();e.style.width=s.x+"px",e.style.height=s.y+"px",e.onselectstart=w,e.onmousemove=w,Ft.ielt9&&this.options.opacity<1&&rn(e,this.options.opacity)},_addTile:function(e,s){var u=this._getTilePos(e),f=this._tileCoordsToKey(e),v=this.createTile(this._wrapCoords(e),h(this._tileReady,this,e));this._initTile(v),this.createTile.length<2&&gt(h(this._tileReady,this,e,null,v)),Se(v,u),this._tiles[f]={el:v,coords:e,current:!0},s.appendChild(v),this.fire("tileloadstart",{tile:v,coords:e})},_tileReady:function(e,s,u){s&&this.fire("tileerror",{error:s,tile:u,coords:e});var f=this._tileCoordsToKey(e);u=this._tiles[f],u&&(u.loaded=+new Date,this._map._fadeAnimated?(rn(u.el,0),at(this._fadeFrame),this._fadeFrame=gt(this._updateOpacity,this)):(u.active=!0,this._pruneTiles()),s||(ne(u.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:u.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ft.ielt9||!this._map._fadeAnimated?gt(this._pruneTiles,this):setTimeout(h(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var s=new wt(this._wrapX?y(e.x,this._wrapX):e.x,this._wrapY?y(e.y,this._wrapY):e.y);return s.z=e.z,s},_pxBoundsToTileRange:function(e){var s=this.getTileSize();return new Bt(e.min.unscaleBy(s).floor(),e.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function nd(e){return new $i(e)}var si=$i.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,s){this._url=e,s=S(this,s),s.detectRetina&&Ft.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,s){return this._url===e&&s===void 0&&(s=!0),this._url=e,s||this.redraw(),this},createTile:function(e,s){var u=document.createElement("img");return ee(u,"load",h(this._tileOnLoad,this,s,u)),ee(u,"error",h(this._tileOnError,this,s,u)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(u.referrerPolicy=this.options.referrerPolicy),u.alt="",u.src=this.getTileUrl(e),u},getTileUrl:function(e){var s={r:Ft.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var u=this._globalTileRange.max.y-e.y;this.options.tms&&(s.y=u),s["-y"]=u}return R(this._url,l(s,this.options))},_tileOnLoad:function(e,s){Ft.ielt9?setTimeout(h(e,this,null,s),0):e(null,s)},_tileOnError:function(e,s,u){var f=this.options.errorTileUrl;f&&s.getAttribute("src")!==f&&(s.src=f),e(u,s)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,s=this.options.maxZoom,u=this.options.zoomReverse,f=this.options.zoomOffset;return u&&(e=s-e),e+f},_getSubdomain:function(e){var s=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var e,s;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&(s=this._tiles[e].el,s.onload=w,s.onerror=w,!s.complete)){s.src=z;var u=this._tiles[e].coords;Ce(s),delete this._tiles[e],this.fire("tileabort",{tile:s,coords:u})}},_removeTile:function(e){var s=this._tiles[e];if(s)return s.el.setAttribute("src",z),$i.prototype._removeTile.call(this,e)},_tileReady:function(e,s,u){if(!(!this._map||u&&u.getAttribute("src")===z))return $i.prototype._tileReady.call(this,e,s,u)}});function Hl(e,s){return new si(e,s)}var Vl=si.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,s){this._url=e;var u=l({},this.defaultWmsParams);for(var f in s)f in this.options||(u[f]=s[f]);s=S(this,s);var v=s.detectRetina&&Ft.retina?2:1,P=this.getTileSize();u.width=P.x*v,u.height=P.y*v,this.wmsParams=u},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,si.prototype.onAdd.call(this,e)},getTileUrl:function(e){var s=this._tileCoordsToNwSe(e),u=this._crs,f=$t(u.project(s[0]),u.project(s[1])),v=f.min,P=f.max,q=(this._wmsVersion>=1.3&&this._crs===Bl?[v.y,v.x,P.y,P.x]:[v.x,v.y,P.x,P.y]).join(","),tt=si.prototype.getTileUrl.call(this,e);return tt+U(this.wmsParams,tt,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+q},setParams:function(e,s){return l(this.wmsParams,e),s||this.redraw(),this}});function rd(e,s){return new Vl(e,s)}si.WMS=Vl,Hl.wms=rd;var Yn=Cn.extend({options:{padding:.1},initialize:function(e){S(this,e),m(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ne(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,s){var u=this._map.getZoomScale(s,this._zoom),f=this._map.getSize().multiplyBy(.5+this.options.padding),v=this._map.project(this._center,s),P=f.multiplyBy(-u).add(v).subtract(this._map._getNewPixelOrigin(e,s));Ft.any3d?In(this._container,P,u):Se(this._container,P)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var e in this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,s=this._map.getSize(),u=this._map.containerPointToLayerPoint(s.multiplyBy(-e)).round();this._bounds=new Bt(u,u.add(s.multiplyBy(1+e*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),$l=Yn.extend({options:{tolerance:0},getEvents:function(){var e=Yn.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Yn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");ee(e,"mousemove",this._onMouseMove,this),ee(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ee(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){at(this._redrawRequest),delete this._ctx,Ce(this._container),a(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;this._redrawBounds=null;for(var s in this._layers)e=this._layers[s],e._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Yn.prototype._update.call(this);var e=this._bounds,s=this._container,u=e.getSize(),f=Ft.retina?2:1;Se(s,e.min),s.width=f*u.x,s.height=f*u.y,s.style.width=u.x+"px",s.style.height=u.y+"px",Ft.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){Yn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[m(e)]=e;var s=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var s=e._order,u=s.next,f=s.prev;u?u.prev=f:this._drawLast=f,f?f.next=u:this._drawFirst=u,delete e._order,delete this._layers[m(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray=="string"){var s=e.options.dashArray.split(/[, ]+/),u=[],f,v;for(v=0;v<s.length;v++){if(f=Number(s[v]),isNaN(f))return;u.push(f)}e.options._dashArray=u}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||gt(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var s=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Bt,this._redrawBounds.extend(e._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(e._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var s=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,s=this._redrawBounds;if(this._ctx.save(),s){var u=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,u.x,u.y),this._ctx.clip()}this._drawing=!0;for(var f=this._drawFirst;f;f=f.next)e=f.layer,(!s||e._pxBounds&&e._pxBounds.intersects(s))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,s){if(this._drawing){var u,f,v,P,q=e._parts,tt=q.length,lt=this._ctx;if(tt){for(lt.beginPath(),u=0;u<tt;u++){for(f=0,v=q[u].length;f<v;f++)P=q[u][f],lt[f?"lineTo":"moveTo"](P.x,P.y);s&&lt.closePath()}this._fillStroke(lt,e)}}},_updateCircle:function(e){if(!(!this._drawing||e._empty())){var s=e._point,u=this._ctx,f=Math.max(Math.round(e._radius),1),v=(Math.max(Math.round(e._radiusY),1)||f)/f;v!==1&&(u.save(),u.scale(1,v)),u.beginPath(),u.arc(s.x,s.y/v,f,0,Math.PI*2,!1),v!==1&&u.restore(),this._fillStroke(u,e)}},_fillStroke:function(e,s){var u=s.options;u.fill&&(e.globalAlpha=u.fillOpacity,e.fillStyle=u.fillColor||u.color,e.fill(u.fillRule||"evenodd")),u.stroke&&u.weight!==0&&(e.setLineDash&&e.setLineDash(s.options&&s.options._dashArray||[]),e.globalAlpha=u.opacity,e.lineWidth=u.weight,e.strokeStyle=u.color,e.lineCap=u.lineCap,e.lineJoin=u.lineJoin,e.stroke())},_onClick:function(e){for(var s=this._map.mouseEventToLayerPoint(e),u,f,v=this._drawFirst;v;v=v.next)u=v.layer,u.options.interactive&&u._containsPoint(s)&&(!(e.type==="click"||e.type==="preclick")||!this._map._draggableMoved(u))&&(f=u);this._fireEvent(f?[f]:!1,e)},_onMouseMove:function(e){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,s)}},_handleMouseOut:function(e){var s=this._hoveredLayer;s&&(Ae(this._container,"leaflet-interactive"),this._fireEvent([s],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,s){if(!this._mouseHoverThrottled){for(var u,f,v=this._drawFirst;v;v=v.next)u=v.layer,u.options.interactive&&u._containsPoint(s)&&(f=u);f!==this._hoveredLayer&&(this._handleMouseOut(e),f&&(ne(this._container,"leaflet-interactive"),this._fireEvent([f],e,"mouseover"),this._hoveredLayer=f)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,e),this._mouseHoverThrottled=!0,setTimeout(h(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,s,u){this._map._fireDOMEvent(s,u||s.type,e)},_bringToFront:function(e){var s=e._order;if(s){var u=s.next,f=s.prev;if(u)u.prev=f;else return;f?f.next=u:u&&(this._drawFirst=u),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(e)}},_bringToBack:function(e){var s=e._order;if(s){var u=s.next,f=s.prev;if(f)f.next=u;else return;u?u.prev=f:f&&(this._drawLast=f),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(e)}}});function Ul(e){return Ft.canvas?new $l(e):null}var Ui=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch{}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),id={_initContainer:function(){this._container=he("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Yn.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var s=e._container=Ui("shape");ne(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",e._path=Ui("path"),s.appendChild(e._path),this._updateStyle(e),this._layers[m(e)]=e},_addPath:function(e){var s=e._container;this._container.appendChild(s),e.options.interactive&&e.addInteractiveTarget(s)},_removePath:function(e){var s=e._container;Ce(s),e.removeInteractiveTarget(s),delete this._layers[m(e)]},_updateStyle:function(e){var s=e._stroke,u=e._fill,f=e.options,v=e._container;v.stroked=!!f.stroke,v.filled=!!f.fill,f.stroke?(s||(s=e._stroke=Ui("stroke")),v.appendChild(s),s.weight=f.weight+"px",s.color=f.color,s.opacity=f.opacity,f.dashArray?s.dashStyle=V(f.dashArray)?f.dashArray.join(" "):f.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=f.lineCap.replace("butt","flat"),s.joinstyle=f.lineJoin):s&&(v.removeChild(s),e._stroke=null),f.fill?(u||(u=e._fill=Ui("fill")),v.appendChild(u),u.color=f.fillColor||f.color,u.opacity=f.fillOpacity):u&&(v.removeChild(u),e._fill=null)},_updateCircle:function(e){var s=e._point.round(),u=Math.round(e._radius),f=Math.round(e._radiusY||u);this._setPath(e,e._empty()?"M0 0":"AL "+s.x+","+s.y+" "+u+","+f+" 0,"+65535*360)},_setPath:function(e,s){e._path.v=s},_bringToFront:function(e){Gn(e._container)},_bringToBack:function(e){Zn(e._container)}},Fo=Ft.vml?Ui:ht,Gi=Yn.extend({_initContainer:function(){this._container=Fo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Fo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ce(this._container),a(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Yn.prototype._update.call(this);var e=this._bounds,s=e.getSize(),u=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,u.setAttribute("width",s.x),u.setAttribute("height",s.y)),Se(u,e.min),u.setAttribute("viewBox",[e.min.x,e.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(e){var s=e._path=Fo("path");e.options.className&&ne(s,e.options.className),e.options.interactive&&ne(s,"leaflet-interactive"),this._updateStyle(e),this._layers[m(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){Ce(e._path),e.removeInteractiveTarget(e._path),delete this._layers[m(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var s=e._path,u=e.options;s&&(u.stroke?(s.setAttribute("stroke",u.color),s.setAttribute("stroke-opacity",u.opacity),s.setAttribute("stroke-width",u.weight),s.setAttribute("stroke-linecap",u.lineCap),s.setAttribute("stroke-linejoin",u.lineJoin),u.dashArray?s.setAttribute("stroke-dasharray",u.dashArray):s.removeAttribute("stroke-dasharray"),u.dashOffset?s.setAttribute("stroke-dashoffset",u.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),u.fill?(s.setAttribute("fill",u.fillColor||u.color),s.setAttribute("fill-opacity",u.fillOpacity),s.setAttribute("fill-rule",u.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(e,s){this._setPath(e,yt(e._parts,s))},_updateCircle:function(e){var s=e._point,u=Math.max(Math.round(e._radius),1),f=Math.max(Math.round(e._radiusY),1)||u,v="a"+u+","+f+" 0 1,0 ",P=e._empty()?"M0 0":"M"+(s.x-u)+","+s.y+v+u*2+",0 "+v+-u*2+",0 ";this._setPath(e,P)},_setPath:function(e,s){e._path.setAttribute("d",s)},_bringToFront:function(e){Gn(e._path)},_bringToBack:function(e){Zn(e._path)}});Ft.vml&&Gi.include(id);function Gl(e){return Ft.svg||Ft.vml?new Gi(e):null}Ut.include({getRenderer:function(e){var s=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(e){if(e==="overlayPane"||e===void 0)return!1;var s=this._paneRenderers[e];return s===void 0&&(s=this._createRenderer({pane:e}),this._paneRenderers[e]=s),s},_createRenderer:function(e){return this.options.preferCanvas&&Ul(e)||Gl(e)}});var Zl=ii.extend({initialize:function(e,s){ii.prototype.initialize.call(this,this._boundsToLatLngs(e),s)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=fe(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function od(e,s){return new Zl(e,s)}Gi.create=Fo,Gi.pointsToPath=yt,Jn.geometryToLayer=Ao,Jn.coordsToLatLng=ta,Jn.coordsToLatLngs=Bo,Jn.latLngToCoords=ea,Jn.latLngsToCoords=Io,Jn.getFeature=oi,Jn.asFeature=Do,Ut.mergeOptions({boxZoom:!0});var ql=mn.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){ee(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){a(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ce(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Tr(),Rr(),this._startPoint=this._map.mouseEventToContainerPoint(e),ee(document,{contextmenu:X,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=he("div","leaflet-zoom-box",this._container),ne(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var s=new Bt(this._point,this._startPoint),u=s.getSize();Se(this._box,s.min),this._box.style.width=u.x+"px",this._box.style.height=u.y+"px"},_finish:function(){this._moved&&(Ce(this._box),Ae(this._container,"leaflet-crosshair")),Or(),zi(),a(document,{contextmenu:X,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(!(e.which!==1&&e.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(h(this._resetState,this),0);var s=new Me(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(e){e.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ut.addInitHook("addHandler","boxZoom",ql),Ut.mergeOptions({doubleClickZoom:!0});var Kl=mn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var s=this._map,u=s.getZoom(),f=s.options.zoomDelta,v=e.originalEvent.shiftKey?u-f:u+f;s.options.doubleClickZoom==="center"?s.setZoom(v):s.setZoomAround(e.containerPoint,v)}});Ut.addInitHook("addHandler","doubleClickZoom",Kl),Ut.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Wl=mn.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new lr(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}ne(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ae(this._map._container,"leaflet-grab"),Ae(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=fe(this._map.options.maxBounds);this._offsetLimit=$t(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var s=this._lastTime=+new Date,u=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(u),this._times.push(s),this._prunePositions(s)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,s){return e-(e-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var e=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;e.x<s.min.x&&(e.x=this._viscousLimit(e.x,s.min.x)),e.y<s.min.y&&(e.y=this._viscousLimit(e.y,s.min.y)),e.x>s.max.x&&(e.x=this._viscousLimit(e.x,s.max.x)),e.y>s.max.y&&(e.y=this._viscousLimit(e.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,s=Math.round(e/2),u=this._initialWorldOffset,f=this._draggable._newPos.x,v=(f-s+u)%e+s-u,P=(f+s+u)%e-s-u,q=Math.abs(v+u)<Math.abs(P+u)?v:P;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=q},_onDragEnd:function(e){var s=this._map,u=s.options,f=!u.inertia||e.noInertia||this._times.length<2;if(s.fire("dragend",e),f)s.fire("moveend");else{this._prunePositions(+new Date);var v=this._lastPos.subtract(this._positions[0]),P=(this._lastTime-this._times[0])/1e3,q=u.easeLinearity,tt=v.multiplyBy(q/P),lt=tt.distanceTo([0,0]),kt=Math.min(u.inertiaMaxSpeed,lt),It=tt.multiplyBy(kt/lt),Jt=kt/(u.inertiaDeceleration*q),ce=It.multiplyBy(-Jt/2).round();!ce.x&&!ce.y?s.fire("moveend"):(ce=s._limitOffset(ce,s.options.maxBounds),gt(function(){s.panBy(ce,{duration:Jt,easeLinearity:q,noMoveStart:!0,animate:!0})}))}}});Ut.addInitHook("addHandler","dragging",Wl),Ut.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Jl=mn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),ee(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),a(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,s=document.documentElement,u=e.scrollTop||s.scrollTop,f=e.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(f,u)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var s=this._panKeys={},u=this.keyCodes,f,v;for(f=0,v=u.left.length;f<v;f++)s[u.left[f]]=[-1*e,0];for(f=0,v=u.right.length;f<v;f++)s[u.right[f]]=[e,0];for(f=0,v=u.down.length;f<v;f++)s[u.down[f]]=[0,e];for(f=0,v=u.up.length;f<v;f++)s[u.up[f]]=[0,-1*e]},_setZoomDelta:function(e){var s=this._zoomKeys={},u=this.keyCodes,f,v;for(f=0,v=u.zoomIn.length;f<v;f++)s[u.zoomIn[f]]=e;for(f=0,v=u.zoomOut.length;f<v;f++)s[u.zoomOut[f]]=-e},_addHooks:function(){ee(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){a(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var s=e.keyCode,u=this._map,f;if(s in this._panKeys){if(!u._panAnim||!u._panAnim._inProgress)if(f=this._panKeys[s],e.shiftKey&&(f=Dt(f).multiplyBy(3)),u.options.maxBounds&&(f=u._limitOffset(Dt(f),u.options.maxBounds)),u.options.worldCopyJump){var v=u.wrapLatLng(u.unproject(u.project(u.getCenter()).add(f)));u.panTo(v)}else u.panBy(f)}else if(s in this._zoomKeys)u.setZoom(u.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&u._popup&&u._popup.options.closeOnEscapeKey)u.closePopup();else return;X(e)}}});Ut.addInitHook("addHandler","keyboard",Jl),Ut.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Yl=mn.extend({addHooks:function(){ee(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){a(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var s=Rt(e),u=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var f=Math.max(u-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(h(this._performZoom,this),f),X(e)},_performZoom:function(){var e=this._map,s=e.getZoom(),u=this._map.options.zoomSnap||0;e._stop();var f=this._delta/(this._map.options.wheelPxPerZoomLevel*4),v=4*Math.log(2/(1+Math.exp(-Math.abs(f))))/Math.LN2,P=u?Math.ceil(v/u)*u:v,q=e._limitZoom(s+(this._delta>0?P:-P))-s;this._delta=0,this._startTime=null,q&&(e.options.scrollWheelZoom==="center"?e.setZoom(s+q):e.setZoomAround(this._lastMousePos,s+q))}});Ut.addInitHook("addHandler","scrollWheelZoom",Yl);var sd=600;Ut.mergeOptions({tapHold:Ft.touchNative&&Ft.safari&&Ft.mobile,tapTolerance:15});var Xl=mn.extend({addHooks:function(){ee(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){a(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),e.touches.length===1){var s=e.touches[0];this._startPos=this._newPos=new wt(s.clientX,s.clientY),this._holdTimeout=setTimeout(h(function(){this._cancel(),this._isTapValid()&&(ee(document,"touchend",G),ee(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),sd),ee(document,"touchend touchcancel contextmenu",this._cancel,this),ee(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){a(document,"touchend",G),a(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),a(document,"touchend touchcancel contextmenu",this._cancel,this),a(document,"touchmove",this._onMove,this)},_onMove:function(e){var s=e.touches[0];this._newPos=new wt(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,s){var u=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});u._simulated=!0,s.target.dispatchEvent(u)}});Ut.addInitHook("addHandler","tapHold",Xl),Ut.mergeOptions({touchZoom:Ft.touch,bounceAtZoomLimits:!0});var Ql=mn.extend({addHooks:function(){ne(this._map._container,"leaflet-touch-zoom"),ee(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ae(this._map._container,"leaflet-touch-zoom"),a(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var s=this._map;if(!(!e.touches||e.touches.length!==2||s._animatingZoom||this._zooming)){var u=s.mouseEventToContainerPoint(e.touches[0]),f=s.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(u.add(f)._divideBy(2))),this._startDist=u.distanceTo(f),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),ee(document,"touchmove",this._onTouchMove,this),ee(document,"touchend touchcancel",this._onTouchEnd,this),G(e)}},_onTouchMove:function(e){if(!(!e.touches||e.touches.length!==2||!this._zooming)){var s=this._map,u=s.mouseEventToContainerPoint(e.touches[0]),f=s.mouseEventToContainerPoint(e.touches[1]),v=u.distanceTo(f)/this._startDist;if(this._zoom=s.getScaleZoom(v,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&v<1||this._zoom>s.getMaxZoom()&&v>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,v===1)return}else{var P=u._add(f)._divideBy(2)._subtract(this._centerPoint);if(v===1&&P.x===0&&P.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(P),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),at(this._animRequest);var q=h(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=gt(q,this,!0),G(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,at(this._animRequest),a(document,"touchmove",this._onTouchMove,this),a(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ut.addInitHook("addHandler","touchZoom",Ql),Ut.BoxZoom=ql,Ut.DoubleClickZoom=Kl,Ut.Drag=Wl,Ut.Keyboard=Jl,Ut.ScrollWheelZoom=Yl,Ut.TapHold=Xl,Ut.TouchZoom=Ql,o.Bounds=Bt,o.Browser=Ft,o.CRS=pt,o.Canvas=$l,o.Circle=Qs,o.CircleMarker=Ro,o.Class=Lt,o.Control=Pe,o.DivIcon=Fl,o.DivOverlay=zn,o.DomEvent=re,o.DomUtil=Zs,o.Draggable=lr,o.Evented=Vt,o.FeatureGroup=Kn,o.GeoJSON=Jn,o.GridLayer=$i,o.Handler=mn,o.Icon=ri,o.ImageOverlay=zo,o.LatLng=ae,o.LatLngBounds=Me,o.Layer=Cn,o.LayerGroup=ni,o.LineUtil=zp,o.Map=Ut,o.Marker=Oo,o.Mixin=Op,o.Path=cr,o.Point=wt,o.PolyUtil=Rp,o.Polygon=ii,o.Polyline=Wn,o.Popup=jo,o.PosAnimation=xe,o.Projection=jp,o.Rectangle=Zl,o.Renderer=Yn,o.SVG=Gi,o.SVGOverlay=Nl,o.TileLayer=si,o.Tooltip=No,o.Transformation=le,o.Util=bt,o.VideoOverlay=jl,o.bind=h,o.bounds=$t,o.canvas=Ul,o.circle=Zp,o.circleMarker=Gp,o.control=Ve,o.divIcon=ed,o.extend=l,o.featureGroup=Vp,o.geoJSON=zl,o.geoJson=Wp,o.gridLayer=nd,o.icon=$p,o.imageOverlay=Jp,o.latLng=Nt,o.latLngBounds=fe,o.layerGroup=Hp,o.map=ke,o.marker=Up,o.point=Dt,o.polygon=Kp,o.polyline=qp,o.popup=Qp,o.rectangle=od,o.setOptions=S,o.stamp=m,o.svg=Gl,o.svgOverlay=Xp,o.tileLayer=Hl,o.tooltip=td,o.transformation=F,o.version=i,o.videoOverlay=Yp;var ad=window.L;o.noConflict=function(){return window.L=ad,this},window.L=o})})(Za,Za.exports);var Yw=Za.exports;const vn=Jw(Yw),Xw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",Qw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",tx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",ex={className:"bg-map-asserted rounded-full map-point-marker",iconSize:[8,8],iconAnchor:[4,4]},nx={className:"bg-map-collection-object rounded-full map-point-marker",iconSize:[8,8],iconAnchor:[4,4]},Sp={className:"bg-map-georeference rounded-full map-point-marker",iconSize:[8,8],iconAnchor:[4,4]},rx={className:"bg-map-type-material map-point-marker rounded-full",iconSize:[8,8],iconAnchor:[4,4]},ix=Object.freeze(Object.defineProperty({__proto__:null,AssertedDistribution:ex,CollectionObject:nx,Georeference:Sp,TypeMaterial:rx},Symbol.toStringTag,{value:"Module"})),ox={color:"rgb(var(--color-map-aggregate))",weight:1,dashArray:"3",dashOffset:"3",fillOpacity:"var(--color-map-shape-opacity)"},sx={color:"rgb(var(--color-map-asserted))",weight:1,dashArray:"3",dashOffset:"3",fillOpacity:"var(--color-map-shape-opacity)"},ax={color:"rgb(var(--color-map-collection-object))",weight:1,fillOpacity:"var(--color-map-shape-opacity)"},lx={color:"rgb(var(--color-map-type-material))",weight:1,fillOpacity:"var(--color-map-shape-opacity)"},Mu=Object.freeze(Object.defineProperty({__proto__:null,Aggregate:ox,AssertedDistribution:sx,CollectionObject:ax,TypeMaterial:lx},Symbol.toStringTag,{value:"Module"})),Cu=["TypeMaterial","CollectionObject","AssertedDistribution","Georeference","Aggregate"],Pu={allowEditing:!1,allowRemoval:!1,allowCutting:!1,allowRotation:!1,draggable:!1};function Su(t){const n=t.map(o=>o.type);return n.sort((o,i)=>Cu.indexOf(o)-Cu.indexOf(i)),n[0]}const cx=t=>({onEachFeature:(n,o)=>{const i=(n.properties.base||[]).map(c=>c.label).filter(Boolean);if(!i.length)return;const l=`
      <div class="max-h-32 overflow-y-auto text-xs">
        <ul>
        ${i.map(c=>`
              <li 
                class="py-2 last:border-0 truncate border-b"
                title="${c}"
              >
                ${c}
              </li>
              `).join("")}
        </ul>
      </div>`;o.pm.setOptions(Pu),o.pm.disable(),o.bindPopup(l)},pointToLayer:(n,o)=>{const i=Su(n.properties.base),l=ix[i]||Sp,c=t.marker(o,{icon:t.divIcon(l)});return c.pm.setOptions(Pu),c},style:n=>{var i;const o=Su((i=n.properties)==null?void 0:i.base);if(Mu[o])return Mu[o]}}),{map_tile_server:ux,map_tile_attribution:hx,map_tiles:px}={base_url:"/plecoptera/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://sfg.taxonworks.org/api/v1",project_token:"7JgzFyTsllL_1WuwvcQ_Zw",copyright_image:"https://licensebuttons.net/l/by/4.0/80x15.png",copyright_image_link:"http://creativecommons.org/licenses/by/4.0/",copyright_text:"Unless otherwise noted (e.g. image licenses may vary) all content is licensed under a Creative Commons Attribution 4.0 International License. (CC-BY)",header_logo_url:"https://sfg.taxonworks.org/s/78q89i",header_logo_text:"Plecoptera Species File",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Perla",link:"/perla"}],map_tiles:[{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],metadata:[{name:"description",content:"The Plecoptera Species File is a taxonomic, nomenclatural, and bibliographic database of the stoneflies of the world, including all extant and fossil taxa."},{name:"keywords",content:"taxonomy, species, Species File Group, Plecoptera, stoneflies, taxonpages, Plecoptera Species File"},{name:"robots",content:"follow"}],project_name:"Plecoptera Species File",project_citation:"Plecoptera Species File",project_authors:"DeWalt RE, Maehr MD, Hopkins H, Neu-Becker U, and Stueber G.",project_url:"https://plecoptera.speciesfile.org",project_old_url:"https://plecoptera.archive.speciesfile.org",focal_taxon:"Plecoptera",focal_taxon_common_name:"stoneflies",contact_email:"dewalt@illinois.edu",issue_trackers:[{label:"Data",description:"E.g. missing data that I'd like to add, misspellings, or invalid data",url:"https://github.com/sfg-taxonpages/plecoptera/issues"},{label:"Website",description:"E.g. a link, panel, or other feature is not working as expected",url:"https://github.com/SpeciesFileGroup/taxonpages/issues"}]};function dx(t,n){return Object.fromEntries((px||[{label:"tile",server:ux,attribution:hx}]).map(({server:i,attribution:l,label:c})=>[c,t.tileLayer(i,{...n,attribution:l})]))}(()=>{var t={9705:(i,l,c)=>{var h=c(1540);function d(m){var g=[1/0,1/0,-1/0,-1/0];return h.coordEach(m,function(y){g[0]>y[0]&&(g[0]=y[0]),g[1]>y[1]&&(g[1]=y[1]),g[2]<y[0]&&(g[2]=y[0]),g[3]<y[1]&&(g[3]=y[1])}),g}d.default=d,l.Z=d},4102:(i,l)=>{function c(C,R,V){V===void 0&&(V={});var E={type:"Feature"};return(V.id===0||V.id)&&(E.id=V.id),V.bbox&&(E.bbox=V.bbox),E.properties=R||{},E.geometry=C,E}function h(C,R,V){if(V===void 0&&(V={}),!C)throw new Error("coordinates is required");if(!Array.isArray(C))throw new Error("coordinates must be an Array");if(C.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!U(C[0])||!U(C[1]))throw new Error("coordinates must contain numbers");return c({type:"Point",coordinates:C},R,V)}function d(C,R,V){V===void 0&&(V={});for(var E=0,z=C;E<z.length;E++){var W=z[E];if(W.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var ot=0;ot<W[W.length-1].length;ot++)if(W[W.length-1][ot]!==W[0][ot])throw new Error("First and last Position are not equivalent.")}return c({type:"Polygon",coordinates:C},R,V)}function m(C,R,V){if(V===void 0&&(V={}),C.length<2)throw new Error("coordinates must be an array of two or more positions");return c({type:"LineString",coordinates:C},R,V)}function g(C,R){R===void 0&&(R={});var V={type:"FeatureCollection"};return R.id&&(V.id=R.id),R.bbox&&(V.bbox=R.bbox),V.features=C,V}function y(C,R,V){return V===void 0&&(V={}),c({type:"MultiLineString",coordinates:C},R,V)}function w(C,R,V){return V===void 0&&(V={}),c({type:"MultiPoint",coordinates:C},R,V)}function M(C,R,V){return V===void 0&&(V={}),c({type:"MultiPolygon",coordinates:C},R,V)}function I(C,R){R===void 0&&(R="kilometers");var V=l.factors[R];if(!V)throw new Error(R+" units is invalid");return C*V}function O(C,R){R===void 0&&(R="kilometers");var V=l.factors[R];if(!V)throw new Error(R+" units is invalid");return C/V}function S(C){return 180*(C%(2*Math.PI))/Math.PI}function U(C){return!isNaN(C)&&C!==null&&!Array.isArray(C)}Object.defineProperty(l,"__esModule",{value:!0}),l.earthRadius=63710088e-1,l.factors={centimeters:100*l.earthRadius,centimetres:100*l.earthRadius,degrees:l.earthRadius/111325,feet:3.28084*l.earthRadius,inches:39.37*l.earthRadius,kilometers:l.earthRadius/1e3,kilometres:l.earthRadius/1e3,meters:l.earthRadius,metres:l.earthRadius,miles:l.earthRadius/1609.344,millimeters:1e3*l.earthRadius,millimetres:1e3*l.earthRadius,nauticalmiles:l.earthRadius/1852,radians:1,yards:1.0936*l.earthRadius},l.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/l.earthRadius,yards:1.0936133},l.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},l.feature=c,l.geometry=function(C,R,V){switch(C){case"Point":return h(R).geometry;case"LineString":return m(R).geometry;case"Polygon":return d(R).geometry;case"MultiPoint":return w(R).geometry;case"MultiLineString":return y(R).geometry;case"MultiPolygon":return M(R).geometry;default:throw new Error(C+" is invalid")}},l.point=h,l.points=function(C,R,V){return V===void 0&&(V={}),g(C.map(function(E){return h(E,R)}),V)},l.polygon=d,l.polygons=function(C,R,V){return V===void 0&&(V={}),g(C.map(function(E){return d(E,R)}),V)},l.lineString=m,l.lineStrings=function(C,R,V){return V===void 0&&(V={}),g(C.map(function(E){return m(E,R)}),V)},l.featureCollection=g,l.multiLineString=y,l.multiPoint=w,l.multiPolygon=M,l.geometryCollection=function(C,R,V){return V===void 0&&(V={}),c({type:"GeometryCollection",geometries:C},R,V)},l.round=function(C,R){if(R===void 0&&(R=0),R&&!(R>=0))throw new Error("precision must be a positive number");var V=Math.pow(10,R||0);return Math.round(C*V)/V},l.radiansToLength=I,l.lengthToRadians=O,l.lengthToDegrees=function(C,R){return S(O(C,R))},l.bearingToAzimuth=function(C){var R=C%360;return R<0&&(R+=360),R},l.radiansToDegrees=S,l.degreesToRadians=function(C){return C%360*Math.PI/180},l.convertLength=function(C,R,V){if(R===void 0&&(R="kilometers"),V===void 0&&(V="kilometers"),!(C>=0))throw new Error("length must be a positive number");return I(O(C,R),V)},l.convertArea=function(C,R,V){if(R===void 0&&(R="meters"),V===void 0&&(V="kilometers"),!(C>=0))throw new Error("area must be a positive number");var E=l.areaFactors[R];if(!E)throw new Error("invalid original units");var z=l.areaFactors[V];if(!z)throw new Error("invalid final units");return C/E*z},l.isNumber=U,l.isObject=function(C){return!!C&&C.constructor===Object},l.validateBBox=function(C){if(!C)throw new Error("bbox is required");if(!Array.isArray(C))throw new Error("bbox must be an Array");if(C.length!==4&&C.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");C.forEach(function(R){if(!U(R))throw new Error("bbox must only contain numbers")})},l.validateId=function(C){if(!C)throw new Error("id is required");if(["string","number"].indexOf(typeof C)===-1)throw new Error("id must be a number or a string")}},1540:(i,l,c)=>{Object.defineProperty(l,"__esModule",{value:!0});var h=c(4102);function d(O,S,U){if(O!==null)for(var C,R,V,E,z,W,ot,Y,st=0,ct=0,gt=O.type,at=gt==="FeatureCollection",bt=gt==="Feature",Lt=at?O.features.length:1,Et=0;Et<Lt;Et++){z=(Y=!!(ot=at?O.features[Et].geometry:bt?O.geometry:O)&&ot.type==="GeometryCollection")?ot.geometries.length:1;for(var Ct=0;Ct<z;Ct++){var Vt=0,wt=0;if((E=Y?ot.geometries[Ct]:ot)!==null){W=E.coordinates;var pe=E.type;switch(st=!U||pe!=="Polygon"&&pe!=="MultiPolygon"?0:1,pe){case null:break;case"Point":if(S(W,ct,Et,Vt,wt)===!1)return!1;ct++,Vt++;break;case"LineString":case"MultiPoint":for(C=0;C<W.length;C++){if(S(W[C],ct,Et,Vt,wt)===!1)return!1;ct++,pe==="MultiPoint"&&Vt++}pe==="LineString"&&Vt++;break;case"Polygon":case"MultiLineString":for(C=0;C<W.length;C++){for(R=0;R<W[C].length-st;R++){if(S(W[C][R],ct,Et,Vt,wt)===!1)return!1;ct++}pe==="MultiLineString"&&Vt++,pe==="Polygon"&&wt++}pe==="Polygon"&&Vt++;break;case"MultiPolygon":for(C=0;C<W.length;C++){for(wt=0,R=0;R<W[C].length;R++){for(V=0;V<W[C][R].length-st;V++){if(S(W[C][R][V],ct,Et,Vt,wt)===!1)return!1;ct++}wt++}Vt++}break;case"GeometryCollection":for(C=0;C<E.geometries.length;C++)if(d(E.geometries[C],S,U)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function m(O,S){var U;switch(O.type){case"FeatureCollection":for(U=0;U<O.features.length&&S(O.features[U].properties,U)!==!1;U++);break;case"Feature":S(O.properties,0)}}function g(O,S){if(O.type==="Feature")S(O,0);else if(O.type==="FeatureCollection")for(var U=0;U<O.features.length&&S(O.features[U],U)!==!1;U++);}function y(O,S){var U,C,R,V,E,z,W,ot,Y,st,ct=0,gt=O.type==="FeatureCollection",at=O.type==="Feature",bt=gt?O.features.length:1;for(U=0;U<bt;U++){for(z=gt?O.features[U].geometry:at?O.geometry:O,ot=gt?O.features[U].properties:at?O.properties:{},Y=gt?O.features[U].bbox:at?O.bbox:void 0,st=gt?O.features[U].id:at?O.id:void 0,E=(W=!!z&&z.type==="GeometryCollection")?z.geometries.length:1,R=0;R<E;R++)if((V=W?z.geometries[R]:z)!==null)switch(V.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(S(V,ct,ot,Y,st)===!1)return!1;break;case"GeometryCollection":for(C=0;C<V.geometries.length;C++)if(S(V.geometries[C],ct,ot,Y,st)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(S(null,ct,ot,Y,st)===!1)return!1;ct++}}function w(O,S){y(O,function(U,C,R,V,E){var z,W=U===null?null:U.type;switch(W){case null:case"Point":case"LineString":case"Polygon":return S(h.feature(U,R,{bbox:V,id:E}),C,0)!==!1&&void 0}switch(W){case"MultiPoint":z="Point";break;case"MultiLineString":z="LineString";break;case"MultiPolygon":z="Polygon"}for(var ot=0;ot<U.coordinates.length;ot++){var Y={type:z,coordinates:U.coordinates[ot]};if(S(h.feature(Y,R),C,ot)===!1)return!1}})}function M(O,S){w(O,function(U,C,R){var V=0;if(U.geometry){var E=U.geometry.type;if(E!=="Point"&&E!=="MultiPoint"){var z,W=0,ot=0,Y=0;return d(U,function(st,ct,gt,at,bt){if(z===void 0||C>W||at>ot||bt>Y)return z=st,W=C,ot=at,Y=bt,void(V=0);var Lt=h.lineString([z,st],U.properties);if(S(Lt,C,R,bt,V)===!1)return!1;V++,z=st})!==!1&&void 0}}})}function I(O,S){if(!O)throw new Error("geojson is required");w(O,function(U,C,R){if(U.geometry!==null){var V=U.geometry.type,E=U.geometry.coordinates;switch(V){case"LineString":if(S(U,C,R,0,0)===!1)return!1;break;case"Polygon":for(var z=0;z<E.length;z++)if(S(h.lineString(E[z],U.properties),C,R,z)===!1)return!1}}})}l.coordAll=function(O){var S=[];return d(O,function(U){S.push(U)}),S},l.coordEach=d,l.coordReduce=function(O,S,U,C){var R=U;return d(O,function(V,E,z,W,ot){R=E===0&&U===void 0?V:S(R,V,E,z,W,ot)},C),R},l.featureEach=g,l.featureReduce=function(O,S,U){var C=U;return g(O,function(R,V){C=V===0&&U===void 0?R:S(C,R,V)}),C},l.findPoint=function(O,S){if(S=S||{},!h.isObject(S))throw new Error("options is invalid");var U,C=S.featureIndex||0,R=S.multiFeatureIndex||0,V=S.geometryIndex||0,E=S.coordIndex||0,z=S.properties;switch(O.type){case"FeatureCollection":C<0&&(C=O.features.length+C),z=z||O.features[C].properties,U=O.features[C].geometry;break;case"Feature":z=z||O.properties,U=O.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":U=O;break;default:throw new Error("geojson is invalid")}if(U===null)return null;var W=U.coordinates;switch(U.type){case"Point":return h.point(W,z,S);case"MultiPoint":return R<0&&(R=W.length+R),h.point(W[R],z,S);case"LineString":return E<0&&(E=W.length+E),h.point(W[E],z,S);case"Polygon":return V<0&&(V=W.length+V),E<0&&(E=W[V].length+E),h.point(W[V][E],z,S);case"MultiLineString":return R<0&&(R=W.length+R),E<0&&(E=W[R].length+E),h.point(W[R][E],z,S);case"MultiPolygon":return R<0&&(R=W.length+R),V<0&&(V=W[R].length+V),E<0&&(E=W[R][V].length-E),h.point(W[R][V][E],z,S)}throw new Error("geojson is invalid")},l.findSegment=function(O,S){if(S=S||{},!h.isObject(S))throw new Error("options is invalid");var U,C=S.featureIndex||0,R=S.multiFeatureIndex||0,V=S.geometryIndex||0,E=S.segmentIndex||0,z=S.properties;switch(O.type){case"FeatureCollection":C<0&&(C=O.features.length+C),z=z||O.features[C].properties,U=O.features[C].geometry;break;case"Feature":z=z||O.properties,U=O.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":U=O;break;default:throw new Error("geojson is invalid")}if(U===null)return null;var W=U.coordinates;switch(U.type){case"Point":case"MultiPoint":return null;case"LineString":return E<0&&(E=W.length+E-1),h.lineString([W[E],W[E+1]],z,S);case"Polygon":return V<0&&(V=W.length+V),E<0&&(E=W[V].length+E-1),h.lineString([W[V][E],W[V][E+1]],z,S);case"MultiLineString":return R<0&&(R=W.length+R),E<0&&(E=W[R].length+E-1),h.lineString([W[R][E],W[R][E+1]],z,S);case"MultiPolygon":return R<0&&(R=W.length+R),V<0&&(V=W[R].length+V),E<0&&(E=W[R][V].length-E-1),h.lineString([W[R][V][E],W[R][V][E+1]],z,S)}throw new Error("geojson is invalid")},l.flattenEach=w,l.flattenReduce=function(O,S,U){var C=U;return w(O,function(R,V,E){C=V===0&&E===0&&U===void 0?R:S(C,R,V,E)}),C},l.geomEach=y,l.geomReduce=function(O,S,U){var C=U;return y(O,function(R,V,E,z,W){C=V===0&&U===void 0?R:S(C,R,V,E,z,W)}),C},l.lineEach=I,l.lineReduce=function(O,S,U){var C=U;return I(O,function(R,V,E,z){C=V===0&&U===void 0?R:S(C,R,V,E,z)}),C},l.propEach=m,l.propReduce=function(O,S,U){var C=U;return m(O,function(R,V){C=V===0&&U===void 0?R:S(C,R,V)}),C},l.segmentEach=M,l.segmentReduce=function(O,S,U){var C=U,R=!1;return M(O,function(V,E,z,W,ot){C=R===!1&&U===void 0?V:S(C,V,E,z,W,ot),R=!0}),C}},5975:(i,l,c)=>{c(7107);var h=c(2492),d=c.n(h);const m=JSON.parse('{"tooltips":{"placeMarker":"Click to place marker","firstVertex":"Click to place first vertex","continueLine":"Click to continue drawing","finishLine":"Click any existing marker to finish","finishPoly":"Click first marker to finish","finishRect":"Click to finish","startCircle":"Click to place circle center","finishCircle":"Click to finish circle","placeCircleMarker":"Click to place circle marker","placeText":"Click to place text"},"actions":{"finish":"Finish","cancel":"Cancel","removeLastVertex":"Remove Last Vertex"},"buttonTitles":{"drawMarkerButton":"Draw Marker","drawPolyButton":"Draw Polygons","drawLineButton":"Draw Polyline","drawCircleButton":"Draw Circle","drawRectButton":"Draw Rectangle","editButton":"Edit Layers","dragButton":"Drag Layers","cutButton":"Cut Layers","deleteButton":"Remove Layers","drawCircleMarkerButton":"Draw Circle Marker","snappingButton":"Snap dragged marker to other layers and vertices","pinningButton":"Pin shared vertices together","rotateButton":"Rotate Layers","drawTextButton":"Draw Text","scaleButton":"Scale Layers","autoTracingButton":"Auto trace Line"},"measurements":{"totalLength":"Length","segmentLength":"Segment length","area":"Area","radius":"Radius","perimeter":"Perimeter","height":"Height","width":"Width","coordinates":"Position","coordinatesMarker":"Position Marker"}}'),g=JSON.parse('{"tooltips":{"placeMarker":"Platziere den Marker mit Klick","firstVertex":"Platziere den ersten Marker mit Klick","continueLine":"Klicke, um weiter zu zeichnen","finishLine":"Beende mit Klick auf existierenden Marker","finishPoly":"Beende mit Klick auf ersten Marker","finishRect":"Beende mit Klick","startCircle":"Platziere das Kreiszentrum mit Klick","finishCircle":"Beende den Kreis mit Klick","placeCircleMarker":"Platziere den Kreismarker mit Klick","placeText":"Platziere den Text mit Klick"},"actions":{"finish":"Beenden","cancel":"Abbrechen","removeLastVertex":"Letzten Vertex lschen"},"buttonTitles":{"drawMarkerButton":"Marker zeichnen","drawPolyButton":"Polygon zeichnen","drawLineButton":"Polyline zeichnen","drawCircleButton":"Kreis zeichnen","drawRectButton":"Rechteck zeichnen","editButton":"Layer editieren","dragButton":"Layer bewegen","cutButton":"Layer schneiden","deleteButton":"Layer lschen","drawCircleMarkerButton":"Kreismarker zeichnen","snappingButton":"Bewegter Layer an andere Layer oder Vertexe einhacken","pinningButton":"Vertexe an der gleichen Position verknpfen","rotateButton":"Layer drehen","drawTextButton":"Text zeichnen","scaleButton":"Layer skalieren","autoTracingButton":"Linie automatisch nachzeichen"},"measurements":{"totalLength":"Lnge","segmentLength":"Segment Lnge","area":"Flche","radius":"Radius","perimeter":"Umfang","height":"Hhe","width":"Breite","coordinates":"Position","coordinatesMarker":"Position Marker"}}'),y=JSON.parse(`{"tooltips":{"placeMarker":"Clicca per posizionare un Marker","firstVertex":"Clicca per posizionare il primo vertice","continueLine":"Clicca per continuare a disegnare","finishLine":"Clicca qualsiasi marker esistente per terminare","finishPoly":"Clicca il primo marker per terminare","finishRect":"Clicca per terminare","startCircle":"Clicca per posizionare il punto centrale del cerchio","finishCircle":"Clicca per terminare il cerchio","placeCircleMarker":"Clicca per posizionare un Marker del cherchio"},"actions":{"finish":"Termina","cancel":"Annulla","removeLastVertex":"Rimuovi l'ultimo vertice"},"buttonTitles":{"drawMarkerButton":"Disegna Marker","drawPolyButton":"Disegna Poligoni","drawLineButton":"Disegna Polilinea","drawCircleButton":"Disegna Cerchio","drawRectButton":"Disegna Rettangolo","editButton":"Modifica Livelli","dragButton":"Sposta Livelli","cutButton":"Ritaglia Livelli","deleteButton":"Elimina Livelli","drawCircleMarkerButton":"Disegna Marker del Cerchio","snappingButton":"Snap ha trascinato il pennarello su altri strati e vertici","pinningButton":"Pin condiviso vertici insieme"}}`),w=JSON.parse('{"tooltips":{"placeMarker":"Klik untuk menempatkan marker","firstVertex":"Klik untuk menempatkan vertex pertama","continueLine":"Klik untuk meneruskan digitasi","finishLine":"Klik pada sembarang marker yang ada untuk mengakhiri","finishPoly":"Klik marker pertama untuk mengakhiri","finishRect":"Klik untuk mengakhiri","startCircle":"Klik untuk menempatkan titik pusat lingkaran","finishCircle":"Klik untuk mengakhiri lingkaran","placeCircleMarker":"Klik untuk menempatkan penanda lingkarann"},"actions":{"finish":"Selesai","cancel":"Batal","removeLastVertex":"Hilangkan Vertex Terakhir"},"buttonTitles":{"drawMarkerButton":"Digitasi Marker","drawPolyButton":"Digitasi Polygon","drawLineButton":"Digitasi Polyline","drawCircleButton":"Digitasi Lingkaran","drawRectButton":"Digitasi Segi Empat","editButton":"Edit Layer","dragButton":"Geser Layer","cutButton":"Potong Layer","deleteButton":"Hilangkan Layer","drawCircleMarkerButton":"Digitasi Penanda Lingkaran","snappingButton":"Jepretkan penanda yang ditarik ke lapisan dan simpul lain","pinningButton":"Sematkan simpul bersama bersama"}}'),M=JSON.parse('{"tooltips":{"placeMarker":"Adaug un punct","firstVertex":"Apas aici pentru a aduga primul Vertex","continueLine":"Apas aici pentru a continua desenul","finishLine":"Apas pe orice obiect pentru a finisa desenul","finishPoly":"Apas pe primul obiect pentru a finisa","finishRect":"Apas pentru a finisa","startCircle":"Apas pentru a desena un cerc","finishCircle":"Apas pentru a finisa un cerc","placeCircleMarker":"Adaug un punct"},"actions":{"finish":"Termin","cancel":"Anuleaz","removeLastVertex":"terge ultimul Vertex"},"buttonTitles":{"drawMarkerButton":"Adaug o bulin","drawPolyButton":"Deseneaz un poligon","drawLineButton":"Deseneaz o linie","drawCircleButton":"Deseneaz un cerc","drawRectButton":"Deseneaz un dreptunghi","editButton":"Editeaz straturile","dragButton":"Mut straturile","cutButton":"Taie straturile","deleteButton":"terge straturile","drawCircleMarkerButton":"Deseneaz marcatorul cercului","snappingButton":"Fixai marcatorul glisat pe alte straturi i vrfuri","pinningButton":"Fixai vrfurile partajate mpreun"}}'),I=JSON.parse('{"tooltips":{"placeMarker":",   ","firstVertex":",    ","continueLine":",   ","finishLine":"     ","finishPoly":"  ,  ","finishRect":",  ","startCircle":",    ","finishCircle":",   ","placeCircleMarker":",    "},"actions":{"finish":"","cancel":"","removeLastVertex":"  "},"buttonTitles":{"drawMarkerButton":" ","drawPolyButton":" ","drawLineButton":" ","drawCircleButton":" ","drawRectButton":" ","editButton":" ","dragButton":" ","cutButton":" ","deleteButton":" ","drawCircleMarkerButton":"  ","snappingButton":"       ","pinningButton":"   "}}'),O=JSON.parse('{"tooltips":{"placeMarker":"Presiona para colocar un marcador","firstVertex":"Presiona para colocar el primer vrtice","continueLine":"Presiona para continuar dibujando","finishLine":"Presiona cualquier marcador existente para finalizar","finishPoly":"Presiona el primer marcador para finalizar","finishRect":"Presiona para finalizar","startCircle":"Presiona para colocar el centro del crculo","finishCircle":"Presiona para finalizar el crculo","placeCircleMarker":"Presiona para colocar un marcador de crculo"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Eliminar ltimo vrtice"},"buttonTitles":{"drawMarkerButton":"Dibujar Marcador","drawPolyButton":"Dibujar Polgono","drawLineButton":"Dibujar Lnea","drawCircleButton":"Dibujar Crculo","drawRectButton":"Dibujar Rectngulo","editButton":"Editar Capas","dragButton":"Arrastrar Capas","cutButton":"Cortar Capas","deleteButton":"Eliminar Capas","drawCircleMarkerButton":"Dibujar Marcador de Crculo","snappingButton":"El marcador de Snap arrastrado a otras capas y vrtices","pinningButton":"Fijar juntos los vrtices compartidos"}}'),S=JSON.parse('{"tooltips":{"placeMarker":"Klik om een marker te plaatsen","firstVertex":"Klik om het eerste punt te plaatsen","continueLine":"Klik om te blijven tekenen","finishLine":"Klik op een bestaand punt om te beindigen","finishPoly":"Klik op het eerst punt om te beindigen","finishRect":"Klik om te beindigen","startCircle":"Klik om het middelpunt te plaatsen","finishCircle":"Klik om de cirkel te beindigen","placeCircleMarker":"Klik om een marker te plaatsen"},"actions":{"finish":"Bewaar","cancel":"Annuleer","removeLastVertex":"Verwijder laatste punt"},"buttonTitles":{"drawMarkerButton":"Plaats Marker","drawPolyButton":"Teken een vlak","drawLineButton":"Teken een lijn","drawCircleButton":"Teken een cirkel","drawRectButton":"Teken een vierkant","editButton":"Bewerk","dragButton":"Verplaats","cutButton":"Knip","deleteButton":"Verwijder","drawCircleMarkerButton":"Plaats Marker","snappingButton":"Snap gesleepte marker naar andere lagen en hoekpunten","pinningButton":"Speld gedeelde hoekpunten samen"}}'),U=JSON.parse(`{"tooltips":{"placeMarker":"Cliquez pour placer un marqueur","firstVertex":"Cliquez pour placer le premier sommet","continueLine":"Cliquez pour continuer  dessiner","finishLine":"Cliquez sur n'importe quel marqueur pour terminer","finishPoly":"Cliquez sur le premier marqueur pour terminer","finishRect":"Cliquez pour terminer","startCircle":"Cliquez pour placer le centre du cercle","finishCircle":"Cliquez pour finir le cercle","placeCircleMarker":"Cliquez pour placer le marqueur circulaire"},"actions":{"finish":"Terminer","cancel":"Annuler","removeLastVertex":"Retirer le dernier sommet"},"buttonTitles":{"drawMarkerButton":"Placer des marqueurs","drawPolyButton":"Dessiner des polygones","drawLineButton":"Dessiner des polylignes","drawCircleButton":"Dessiner un cercle","drawRectButton":"Dessiner un rectangle","editButton":"diter des calques","dragButton":"Dplacer des calques","cutButton":"Couper des calques","deleteButton":"Supprimer des calques","drawCircleMarkerButton":"Dessiner un marqueur circulaire","snappingButton":"Glisser le marqueur vers d'autres couches et sommets","pinningButton":"pingler ensemble les sommets partags","rotateButton":"Tourner des calques"}}`),C=JSON.parse('{"tooltips":{"placeMarker":"","firstVertex":"","continueLine":"","finishLine":"","finishPoly":"","finishRect":"","startCircle":"","finishCircle":"","placeCircleMarker":""},"actions":{"finish":"","cancel":"","removeLastVertex":""},"buttonTitles":{"drawMarkerButton":"","drawPolyButton":"","drawLineButton":"","drawCircleButton":"","drawRectButton":"","editButton":"","dragButton":"","cutButton":"","deleteButton":"","drawCircleMarkerButton":"","snappingButton":"","pinningButton":""}}'),R=JSON.parse('{"tooltips":{"placeMarker":"","firstVertex":"","continueLine":"","finishLine":"","finishPoly":"","finishRect":"","startCircle":"","finishCircle":"","placeCircleMarker":""},"actions":{"finish":"","cancel":"","removeLastVertex":""},"buttonTitles":{"drawMarkerButton":"","drawPolyButton":"","drawLineButton":"","drawCircleButton":"","drawRectButton":"","editButton":"","dragButton":"","cutButton":"","deleteButton":"","drawCircleMarkerButton":"","snappingButton":"","pinningButton":""}}'),V={en:m,de:g,it:y,id:w,ro:M,ru:I,es:O,nl:S,fr:U,pt_br:JSON.parse('{"tooltips":{"placeMarker":"Clique para posicionar o marcador","firstVertex":"Clique para posicionar o primeiro vrtice","continueLine":"Clique para continuar desenhando","finishLine":"Clique em qualquer marcador existente para finalizar","finishPoly":"Clique no primeiro ponto para fechar o polgono","finishRect":"Clique para finalizar","startCircle":"Clique para posicionar o centro do crculo","finishCircle":"Clique para fechar o crculo","placeCircleMarker":"Clique para posicionar o marcador circular"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Remover ltimo vrtice"},"buttonTitles":{"drawMarkerButton":"Desenhar um marcador","drawPolyButton":"Desenhar um polgono","drawLineButton":"Desenhar uma polilinha","drawCircleButton":"Desenhar um crculo","drawRectButton":"Desenhar um retngulo","editButton":"Editar camada(s)","dragButton":"Mover camada(s)","cutButton":"Recortar camada(s)","deleteButton":"Remover camada(s)","drawCircleMarkerButton":"Marcador de crculos de desenho","snappingButton":"Marcador arrastado para outras camadas e vrtices","pinningButton":"Vrtices compartilhados de pinos juntos"}}'),zh:C,zh_tw:R,pl:JSON.parse('{"tooltips":{"placeMarker":"Kliknij, aby ustawi znacznik","firstVertex":"Kliknij, aby ustawi pierwszy punkt","continueLine":"Kliknij, aby kontynuowa rysowanie","finishLine":"Kliknij dowolny punkt, aby zakoczy","finishPoly":"Kliknij pierwszy punkt, aby zakoczy","finishRect":"Kliknij, aby zakoczy","startCircle":"Kliknij, aby ustawi rodek koa","finishCircle":"Kliknij, aby zakoczy rysowanie koa","placeCircleMarker":"Kliknij, aby ustawi okrgy znacznik"},"actions":{"finish":"Zakocz","cancel":"Anuluj","removeLastVertex":"Usu ostatni punkt"},"buttonTitles":{"drawMarkerButton":"Narysuj znacznik","drawPolyButton":"Narysuj wielokt","drawLineButton":"Narysuj ciek","drawCircleButton":"Narysuj koo","drawRectButton":"Narysuj prostokt","editButton":"Edytuj","dragButton":"Przesu","cutButton":"Wytnij","deleteButton":"Usu","drawCircleMarkerButton":"Narysuj okrgy znacznik","snappingButton":"Snap przecignity marker na inne warstwy i wierzchoki","pinningButton":"Sworze wsplne wierzchoki razem"}}'),sv:JSON.parse('{"tooltips":{"placeMarker":"Klicka fr att placera markr","firstVertex":"Klicka fr att placera frsta hrnet","continueLine":"Klicka fr att fortstta rita","finishLine":"Klicka p en existerande punkt fr att slutfra","finishPoly":"Klicka p den frsta punkten fr att slutfra","finishRect":"Klicka fr att slutfra","startCircle":"Klicka fr att placera cirkelns centrum","finishCircle":"Klicka fr att slutfra cirkeln","placeCircleMarker":"Klicka fr att placera cirkelmarkr"},"actions":{"finish":"Slutfr","cancel":"Avbryt","removeLastVertex":"Ta bort sista hrnet"},"buttonTitles":{"drawMarkerButton":"Rita Markr","drawPolyButton":"Rita Polygoner","drawLineButton":"Rita Linje","drawCircleButton":"Rita Cirkel","drawRectButton":"Rita Rektangel","editButton":"Redigera Lager","dragButton":"Dra Lager","cutButton":"Klipp i Lager","deleteButton":"Ta bort Lager","drawCircleMarkerButton":"Rita Cirkelmarkr","snappingButton":"Snpp dra markren till andra lager och hrn","pinningButton":"Fst delade hrn tillsammans"}}'),el:JSON.parse('{"tooltips":{"placeMarker":"     ","firstVertex":"       ","continueLine":"      ","finishLine":"        ","finishPoly":"       ","finishRect":"    ","startCircle":"      ","finishCircle":"      ","placeCircleMarker":"      "},"actions":{"finish":"","cancel":"","removeLastVertex":"  "},"buttonTitles":{"drawMarkerButton":" ","drawPolyButton":" ","drawLineButton":" ","drawCircleButton":" ","drawRectButton":" ","editButton":" ","dragButton":" ","cutButton":" ","deleteButton":" ","drawCircleMarkerButton":"  ","snappingButton":"        ","pinningButton":"   "}}'),hu:JSON.parse('{"tooltips":{"placeMarker":"Kattintson a jell elhelyezshez","firstVertex":"Kattintson az els pont elhelyezshez","continueLine":"Kattintson a kvetkez pont elhelyezshez","finishLine":"A befejezshez kattintson egy meglv pontra","finishPoly":"A befejezshez kattintson az els pontra","finishRect":"Kattintson a befejezshez","startCircle":"Kattintson a kr kzppontjnak elhelyezshez","finishCircle":"Kattintson a kr befejezshez","placeCircleMarker":"Kattintson a krjell elhelyezshez"},"actions":{"finish":"Befejezs","cancel":"Mgse","removeLastVertex":"Utols pont eltvoltsa"},"buttonTitles":{"drawMarkerButton":"Jell rajzolsa","drawPolyButton":"Poligon rajzolsa","drawLineButton":"Vonal rajzolsa","drawCircleButton":"Kr rajzolsa","drawRectButton":"Ngyzet rajzolsa","editButton":"Elemek szerkesztse","dragButton":"Elemek mozgatsa","cutButton":"Elemek vgsa","deleteButton":"Elemek trlse","drawCircleMarkerButton":"Kr jell rajzolsa","snappingButton":"Kapcsolja a jelltt msik elemhez vagy ponthoz","pinningButton":"Kzs pontok sszektse"}}'),da:JSON.parse('{"tooltips":{"placeMarker":"Tryk for at placere en markr","firstVertex":"Tryk for at placere det frste punkt","continueLine":"Tryk for at fortstte linjen","finishLine":"Tryk p et eksisterende punkt for at afslutte","finishPoly":"Tryk p det frste punkt for at afslutte","finishRect":"Tryk for at afslutte","startCircle":"Tryk for at placere cirklens center","finishCircle":"Tryk for at afslutte cirklen","placeCircleMarker":"Tryk for at placere en cirkelmarkr"},"actions":{"finish":"Afslut","cancel":"Afbryd","removeLastVertex":"Fjern sidste punkt"},"buttonTitles":{"drawMarkerButton":"Placer markr","drawPolyButton":"Tegn polygon","drawLineButton":"Tegn linje","drawCircleButton":"Tegn cirkel","drawRectButton":"Tegn firkant","editButton":"Rediger","dragButton":"Trk","cutButton":"Klip","deleteButton":"Fjern","drawCircleMarkerButton":"Tegn cirkelmarkr","snappingButton":"Fastgr trukket markr til andre elementer","pinningButton":"Sammenlg delte elementer"}}'),no:JSON.parse('{"tooltips":{"placeMarker":"Klikk for  plassere punkt","firstVertex":"Klikk for  plassere frste punkt","continueLine":"Klikk for  tegne videre","finishLine":"Klikk p et eksisterende punkt for  fullfre","finishPoly":"Klikk frste punkt for  fullfre","finishRect":"Klikk for  fullfre","startCircle":"Klikk for  sette sirkel midtpunkt","finishCircle":"Klikk for  fullfre sirkel","placeCircleMarker":"Klikk for  plassere sirkel"},"actions":{"finish":"Fullfr","cancel":"Kanseller","removeLastVertex":"Fjern forrige punkt"},"buttonTitles":{"drawMarkerButton":"Tegn Punkt","drawPolyButton":"Tegn Flate","drawLineButton":"Tegn Linje","drawCircleButton":"Tegn Sirkel","drawRectButton":"Tegn rektangel","editButton":"Rediger Objekter","dragButton":"Dra Objekter","cutButton":"Kutt Objekter","deleteButton":"Fjern Objekter","drawCircleMarkerButton":"Tegn sirkel-punkt","snappingButton":"Fest dratt punkt til andre objekter og punkt","pinningButton":"Pin delte punkt sammen"}}'),fa:JSON.parse('{"tooltips":{"placeMarker":"   ","firstVertex":"    ","continueLine":"   ","finishLine":"      ","finishPoly":"     ","finishRect":"  ","startCircle":"    ","finishCircle":"    ","placeCircleMarker":"    ","placeText":"   "},"actions":{"finish":"","cancel":"","removeLastVertex":"  "},"buttonTitles":{"drawMarkerButton":" ","drawPolyButton":" ","drawLineButton":" ","drawCircleButton":" ","drawRectButton":" ","editButton":" ","dragButton":" ","cutButton":" ","deleteButton":" ","drawCircleMarkerButton":"  ","snappingButton":"       ","pinningButton":"      ","rotateButton":" ","drawTextButton":" "}}'),ua:JSON.parse(`{"tooltips":{"placeMarker":",   ","firstVertex":",    ","continueLine":",   ","finishLine":" -    ","finishPoly":"  ,  ","finishRect":",  ","startCircle":",    ","finishCircle":",   ","placeCircleMarker":",    "},"actions":{"finish":"","cancel":"","removeLastVertex":"  "},"buttonTitles":{"drawMarkerButton":" ","drawPolyButton":" ","drawLineButton":" ","drawCircleButton":" ","drawRectButton":" ","editButton":" ","dragButton":" ","cutButton":" ","deleteButton":" ","drawCircleMarkerButton":"  ","snappingButton":"       ","pinningButton":"'   "}}`),tr:JSON.parse('{"tooltips":{"placeMarker":"areti yerletirmek iin tklayn","firstVertex":"lk tepe noktasn yerletirmek iin tklayn","continueLine":"izime devam etmek iin tklayn","finishLine":"Bitirmek iin mevcut herhangi bir iaretiyi tklayn","finishPoly":"Bitirmek iin ilk iaretiyi tklayn","finishRect":"Bitirmek iin tklayn","startCircle":"Daire merkezine yerletirmek iin tklayn","finishCircle":"Daireyi bitirmek iin tklayn","placeCircleMarker":"Daire iaretisi yerletirmek iin tklayn"},"actions":{"finish":"Bitir","cancel":"ptal","removeLastVertex":"Son keyi kaldr"},"buttonTitles":{"drawMarkerButton":"izim aretisi","drawPolyButton":"okgenler iz","drawLineButton":"oklu izgi iz","drawCircleButton":"ember iz","drawRectButton":"Dikdrtgen iz","editButton":"Katmanlar dzenle","dragButton":"Katmanlar srkle","cutButton":"Katmanlar kes","deleteButton":"Katmanlar kaldr","drawCircleMarkerButton":"Daire iaretisi iz","snappingButton":"Srklenen iaretiyi dier katmanlara ve kelere yaptr","pinningButton":"Paylalan keleri birbirine sabitle"}}'),cz:JSON.parse('{"tooltips":{"placeMarker":"Kliknutm vytvote znaku","firstVertex":"Kliknutm vytvote prvn objekt","continueLine":"Kliknutm pokraujte v kreslen","finishLine":"Kliknut na libovolnou existujc znaku pro dokonen","finishPoly":"Vyberte prvn bod pro dokonen","finishRect":"Kliknte pro dokonen","startCircle":"Kliknutm pidejte sted kruhu","finishCircle":",   ","placeCircleMarker":"Kliknutm nastavte polomr"},"actions":{"finish":"Dokonit","cancel":"Zruit","removeLastVertex":"Zruit posledn akci"},"buttonTitles":{"drawMarkerButton":"Pidat znaku","drawPolyButton":"Nakreslit polygon","drawLineButton":"Nakreslit kivku","drawCircleButton":"Nakreslit kruh","drawRectButton":"Nakreslit obdlnk","editButton":"Upravit vrstvu","dragButton":"Peneste vrstvu","cutButton":"Vyjmout vrstvu","deleteButton":"Smazat vrstvu","drawCircleMarkerButton":"Pidat kruhovou znaku","snappingButton":"Navzat tanou znaku k dalm vrstvm a vrcholm","pinningButton":"Spojit spolen body dohromady"}}'),ja:JSON.parse('{"tooltips":{"placeMarker":"","firstVertex":"","continueLine":"","finishLine":"","finishPoly":"","finishRect":"","startCircle":"","finishCircle":"","placeCircleMarker":"","placeText":""},"actions":{"finish":"","cancel":"","removeLastVertex":""},"buttonTitles":{"drawMarkerButton":"","drawPolyButton":"","drawLineButton":"","drawCircleButton":"","drawRectButton":"","editButton":"","dragButton":"","cutButton":"","deleteButton":"","drawCircleMarkerButton":"","snappingButton":"","pinningButton":"","rotateButton":"","drawTextButton":""}}'),fi:JSON.parse('{"tooltips":{"placeMarker":"Klikkaa asettaaksesi merkin","firstVertex":"Klikkaa asettaakseni ensimmisen osuuden","continueLine":"Klikkaa jatkaaksesi piirtmist","finishLine":"Klikkaa olemassa olevaa merkki lopettaaksesi","finishPoly":"Klikkaa ensimmist merkki lopettaaksesi","finishRect":"Klikkaa lopettaaksesi","startCircle":"Klikkaa asettaaksesi ympyrn keskipisteen","finishCircle":"Klikkaa lopettaaksesi ympyrn","placeCircleMarker":"Klikkaa asettaaksesi ympyrmerkin","placeText":"Klikkaa asettaaksesi tekstin"},"actions":{"finish":"Valmis","cancel":"Peruuta","removeLastVertex":"Poista viimeinen osuus"},"buttonTitles":{"drawMarkerButton":"Piirr merkkej","drawPolyButton":"Piirr monikulmioita","drawLineButton":"Piirr viivoja","drawCircleButton":"Piirr ympyr","drawRectButton":"Piirr neliskulmioita","editButton":"Muokkaa","dragButton":"Siirr","cutButton":"Leikkaa","deleteButton":"Poista","drawCircleMarkerButton":"Piirr ympyrmerkki","snappingButton":"Kiinnit siirrettv merkki toisiin muotoihin","pinningButton":"Kiinnit jaetut muodot yhteen","rotateButton":"Knn","drawTextButton":"Piirr teksti"}}'),ko:JSON.parse('{"tooltips":{"placeMarker":"  ","firstVertex":"   ","continueLine":"  ","finishLine":"   ","finishPoly":"   ","finishRect":" ","startCircle":"    ","finishCircle":"  ","placeCircleMarker":"   ","placeText":"  "},"actions":{"finish":"","cancel":"","removeLastVertex":"  "},"buttonTitles":{"drawMarkerButton":" ","drawPolyButton":" ","drawLineButton":" ","drawCircleButton":" ","drawRectButton":" ","editButton":" ","dragButton":" ","cutButton":" ","deleteButton":" ","drawCircleMarkerButton":"  ","snappingButton":"       ","pinningButton":"   ","rotateButton":" ","drawTextButton":" "}}')};function E(r,a){var p=Object.keys(r);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(r);a&&(_=_.filter(function(x){return Object.getOwnPropertyDescriptor(r,x).enumerable})),p.push.apply(p,_)}return p}function z(r){for(var a=1;a<arguments.length;a++){var p=arguments[a]!=null?arguments[a]:{};a%2?E(Object(p),!0).forEach(function(_){W(r,_,p[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(p)):E(Object(p)).forEach(function(_){Object.defineProperty(r,_,Object.getOwnPropertyDescriptor(p,_))})}return r}function W(r,a,p){return a in r?Object.defineProperty(r,a,{value:p,enumerable:!0,configurable:!0,writable:!0}):r[a]=p,r}const ot={_globalEditModeEnabled:!1,enableGlobalEditMode:function(r){var a=z({},r);this._globalEditModeEnabled=!0,this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),L.PM.Utils.findLayers(this.map).forEach(function(p){p.pm.enable(a)}),this.throttledReInitEdit||(this.throttledReInitEdit=L.Util.throttle(this.handleLayerAdditionInGlobalEditMode,100,this)),this._addedLayers={},this.map.on("layeradd",this._layerAdded,this),this.map.on("layeradd",this.throttledReInitEdit,this),this._fireGlobalEditModeToggled(!0)},disableGlobalEditMode:function(){this._globalEditModeEnabled=!1,L.PM.Utils.findLayers(this.map).forEach(function(r){r.pm.disable()}),this.map.off("layeradd",this.throttledReInitEdit,this),this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),this._fireGlobalEditModeToggled(!1)},globalEditEnabled:function(){return this.globalEditModeEnabled()},globalEditModeEnabled:function(){return this._globalEditModeEnabled},toggleGlobalEditMode:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.globalOptions;this.globalEditModeEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(r)},handleLayerAdditionInGlobalEditMode:function(){var r=this._addedLayers;for(var a in this._addedLayers={},r){var p=r[a];this._isRelevantForEdit(p)&&this.globalEditModeEnabled()&&p.pm.enable(z({},this.globalOptions))}},_layerAdded:function(r){var a=r.layer;this._addedLayers[L.stamp(a)]=a},_isRelevantForEdit:function(r){return r.pm&&!(r instanceof L.LayerGroup)&&(!L.PM.optIn&&!r.options.pmIgnore||L.PM.optIn&&r.options.pmIgnore===!1)&&!r._pmTempLayer&&r.pm.options.allowEditing}},Y={_globalDragModeEnabled:!1,enableGlobalDragMode:function(){var r=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!0,this._addedLayersDrag={},r.forEach(function(a){a.pm.enableLayerDrag()}),this.throttledReInitDrag||(this.throttledReInitDrag=L.Util.throttle(this.reinitGlobalDragMode,100,this)),this.map.on("layeradd",this._layerAddedDrag,this),this.map.on("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!0)},disableGlobalDragMode:function(){var r=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!1,r.forEach(function(a){a.pm.disableLayerDrag()}),this.map.off("layeradd",this._layerAddedDrag,this),this.map.off("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!1)},globalDragModeEnabled:function(){return!!this._globalDragModeEnabled},toggleGlobalDragMode:function(){this.globalDragModeEnabled()?this.disableGlobalDragMode():this.enableGlobalDragMode()},reinitGlobalDragMode:function(){var r=this._addedLayersDrag;for(var a in this._addedLayersDrag={},r){var p=r[a];this._isRelevantForDrag(p)&&this.globalDragModeEnabled()&&p.pm.enableLayerDrag()}},_layerAddedDrag:function(r){var a=r.layer;this._addedLayersDrag[L.stamp(a)]=a},_isRelevantForDrag:function(r){return r.pm&&!(r instanceof L.LayerGroup)&&(!L.PM.optIn&&!r.options.pmIgnore||L.PM.optIn&&r.options.pmIgnore===!1)&&!r._pmTempLayer&&r.pm.options.draggable}},st={_globalRemovalModeEnabled:!1,enableGlobalRemovalMode:function(){var r=this;this._globalRemovalModeEnabled=!0,this.map.eachLayer(function(a){r._isRelevantForRemoval(a)&&(a.pm.disable(),a.on("click",r.removeLayer,r))}),this.throttledReInitRemoval||(this.throttledReInitRemoval=L.Util.throttle(this.reinitGlobalRemovalMode,100,this)),this.map.on("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!0)},disableGlobalRemovalMode:function(){var r=this;this._globalRemovalModeEnabled=!1,this.map.eachLayer(function(a){a.off("click",r.removeLayer,r)}),this.map.off("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!1)},globalRemovalEnabled:function(){return this.globalRemovalModeEnabled()},globalRemovalModeEnabled:function(){return!!this._globalRemovalModeEnabled},toggleGlobalRemovalMode:function(){this.globalRemovalModeEnabled()?this.disableGlobalRemovalMode():this.enableGlobalRemovalMode()},reinitGlobalRemovalMode:function(r){var a=r.layer;this._isRelevantForRemoval(a)&&this.globalRemovalModeEnabled()&&(this.disableGlobalRemovalMode(),this.enableGlobalRemovalMode())},removeLayer:function(r){var a=r.target;this._isRelevantForRemoval(a)&&!a.pm.dragging()&&(a.removeFrom(this.map.pm._getContainingLayer()),a.remove(),a instanceof L.LayerGroup?(this._fireRemoveLayerGroup(a),this._fireRemoveLayerGroup(this.map,a)):(a.pm._fireRemove(a),a.pm._fireRemove(this.map,a)))},_isRelevantForRemoval:function(r){return r.pm&&!(r instanceof L.LayerGroup)&&(!L.PM.optIn&&!r.options.pmIgnore||L.PM.optIn&&r.options.pmIgnore===!1)&&!r._pmTempLayer&&r.pm.options.allowRemoval}},ct={_globalRotateModeEnabled:!1,enableGlobalRotateMode:function(){var r=this;this._globalRotateModeEnabled=!0,L.PM.Utils.findLayers(this.map).filter(function(a){return a instanceof L.Polyline}).forEach(function(a){r._isRelevantForRotate(a)&&a.pm.enableRotate()}),this.throttledReInitRotate||(this.throttledReInitRotate=L.Util.throttle(this._reinitGlobalRotateMode,100,this)),this.map.on("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},disableGlobalRotateMode:function(){this._globalRotateModeEnabled=!1,L.PM.Utils.findLayers(this.map).filter(function(r){return r instanceof L.Polyline}).forEach(function(r){r.pm.disableRotate()}),this.map.off("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},globalRotateModeEnabled:function(){return!!this._globalRotateModeEnabled},toggleGlobalRotateMode:function(){this.globalRotateModeEnabled()?this.disableGlobalRotateMode():this.enableGlobalRotateMode()},_reinitGlobalRotateMode:function(r){var a=r.layer;this._isRelevantForRotate(a)&&this.globalRotateModeEnabled()&&(this.disableGlobalRotateMode(),this.enableGlobalRotateMode())},_isRelevantForRotate:function(r){return r.pm&&!(r instanceof L.LayerGroup)&&(!L.PM.optIn&&!r.options.pmIgnore||L.PM.optIn&&r.options.pmIgnore===!1)&&!r._pmTempLayer&&r.pm.options.allowRotation}};function gt(r,a){var p=Object.keys(r);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(r);a&&(_=_.filter(function(x){return Object.getOwnPropertyDescriptor(r,x).enumerable})),p.push.apply(p,_)}return p}function at(r){for(var a=1;a<arguments.length;a++){var p=arguments[a]!=null?arguments[a]:{};a%2?gt(Object(p),!0).forEach(function(_){bt(r,_,p[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(p)):gt(Object(p)).forEach(function(_){Object.defineProperty(r,_,Object.getOwnPropertyDescriptor(p,_))})}return r}function bt(r,a,p){return a in r?Object.defineProperty(r,a,{value:p,enumerable:!0,configurable:!0,writable:!0}):r[a]=p,r}var Lt={_fireDrawStart:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer},r,a)},_fireDrawEnd:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:drawend",{shape:this._shape},r,a)},_fireCreate:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Draw",p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._map,"pm:create",{shape:this._shape,marker:r,layer:r},a,p)},_fireCenterPlaced:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=r==="Draw"?this._layer:void 0,_=r!=="Draw"?this._layer:void 0;this.__fire(this._layer,"pm:centerplaced",{shape:this._shape,workingLayer:p,layer:_,latlng:this._layer.getLatLng()},r,a)},_fireCut:function(r,a,p){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Draw",x=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(r,"pm:cut",{shape:this._shape,layer:a,originalLayer:p},_,x)},_fireEdit:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._layer,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(r,"pm:edit",{layer:this._layer,shape:this.getShape()},a,p)},_fireEnable:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()},r,a)},_fireDisable:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()},r,a)},_fireUpdate:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()},r,a)},_fireMarkerDragStart:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:r,shape:this.getShape(),indexPath:a},p,_)},_fireMarkerDrag:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:r,shape:this.getShape(),indexPath:a},p,_)},_fireMarkerDragEnd:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Edit",x=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:r,shape:this.getShape(),indexPath:a,intersectionReset:p},_,x)},_fireDragStart:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragstart",{layer:this._layer,shape:this.getShape()},r,a)},_fireDrag:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:drag",at(at({},r),{},{shape:this.getShape()}),a,p)},_fireDragEnd:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragend",{layer:this._layer,shape:this.getShape()},r,a)},_fireDragEnable:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragenable",{layer:this._layer,shape:this.getShape()},r,a)},_fireDragDisable:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragdisable",{layer:this._layer,shape:this.getShape()},r,a)},_fireRemove:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(r,"pm:remove",{layer:a,shape:this.getShape()},p,_)},_fireVertexAdded:function(r,a,p){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Edit",x=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._layer,"pm:vertexadded",{layer:this._layer,workingLayer:this._layer,marker:r,indexPath:a,latlng:p,shape:this.getShape()},_,x)},_fireVertexRemoved:function(r,a){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:vertexremoved",{layer:this._layer,marker:r,indexPath:a,shape:this.getShape()},p,_)},_fireVertexClick:function(r,a){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:vertexclick",{layer:this._layer,markerEvent:r,indexPath:a,shape:this.getShape()},p,_)},_fireIntersect:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:intersect",{layer:this._layer,intersection:r,shape:this.getShape()},a,p)},_fireLayerReset:function(r,a){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:layerreset",{layer:this._layer,markerEvent:r,indexPath:a,shape:this.getShape()},p,_)},_fireChange:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:change",{layer:this._layer,latlngs:r,shape:this.getShape()},a,p)},_fireTextChange:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:textchange",{layer:this._layer,text:r,shape:this.getShape()},a,p)},_fireTextFocus:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:textfocus",{layer:this._layer,shape:this.getShape()},r,a)},_fireTextBlur:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:textblur",{layer:this._layer,shape:this.getShape()},r,a)},_fireSnapDrag:function(r,a){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(r,"pm:snapdrag",a,p,_)},_fireSnap:function(r,a){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(r,"pm:snap",a,p,_)},_fireUnsnap:function(r,a){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(r,"pm:unsnap",a,p,_)},_fireRotationEnable:function(r,a){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Rotation",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(r,"pm:rotateenable",{layer:this._layer,helpLayer:this._rotatePoly,shape:this.getShape()},p,_)},_fireRotationDisable:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Rotation",p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(r,"pm:rotatedisable",{layer:this._layer,shape:this.getShape()},a,p)},_fireRotationStart:function(r,a){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Rotation",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(r,"pm:rotatestart",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:this._startAngle,originLatLngs:a},p,_)},_fireRotation:function(r,a,p){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:this._rotationLayer,x=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"Rotation",A=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};this.__fire(r,"pm:rotate",{layer:_,helpLayer:this._layer,startAngle:this._startAngle,angle:_.pm.getAngle(),angleDiff:a,oldLatLngs:p,newLatLngs:_.getLatLngs()},x,A)},_fireRotationEnd:function(r,a,p){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Rotation",x=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(r,"pm:rotateend",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:a,angle:this._rotationLayer.pm.getAngle(),originLatLngs:p,newLatLngs:this._rotationLayer.getLatLngs()},_,x)},_fireActionClick:function(r,a,p){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Toolbar",x=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._map,"pm:actionclick",{text:r.text,action:r,btnName:a,button:p},_,x)},_fireButtonClick:function(r,a){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Toolbar",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._map,"pm:buttonclick",{btnName:r,button:a},p,_)},_fireLangChange:function(r,a,p,_){var x=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"Global",A=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};this.__fire(this.map,"pm:langchange",{oldLang:r,activeLang:a,fallback:p,translations:_},x,A)},_fireGlobalDragModeToggled:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globaldragmodetoggled",{enabled:r,map:this.map},a,p)},_fireGlobalEditModeToggled:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globaleditmodetoggled",{enabled:r,map:this.map},a,p)},_fireGlobalRemovalModeToggled:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globalremovalmodetoggled",{enabled:r,map:this.map},a,p)},_fireGlobalCutModeToggled:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:globalcutmodetoggled",{enabled:!!this._enabled,map:this._map},r,a)},_fireGlobalDrawModeToggled:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:globaldrawmodetoggled",{enabled:this._enabled,shape:this._shape,map:this._map},r,a)},_fireGlobalRotateModeToggled:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this.map,"pm:globalrotatemodetoggled",{enabled:this.globalRotateModeEnabled(),map:this.map},r,a)},_fireRemoveLayerGroup:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(r,"pm:remove",{layer:a,shape:void 0},p,_)},_fireKeyeventEvent:function(r,a,p){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Global",x=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this.map,"pm:keyevent",{event:r,eventType:a,focusOn:p},_,x)},__fire:function(r,a,p,_){var x=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};p=d()(p,x,{source:_}),L.PM.Utils._fireEvent(r,a,p)}};const Et=Lt,Ct={_lastEvents:{keydown:void 0,keyup:void 0,current:void 0},_initKeyListener:function(r){this.map=r,L.DomEvent.on(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.on(window,"blur",this._onBlur,this)},_onKeyListener:function(r){var a="document";this.map.getContainer().contains(r.target)&&(a="map");var p={event:r,eventType:r.type,focusOn:a};this._lastEvents[r.type]=p,this._lastEvents.current=p,this.map.pm._fireKeyeventEvent(r,r.type,a)},_onBlur:function(r){r.altKey=!1;var a={event:r,eventType:r.type,focusOn:"document"};this._lastEvents[r.type]=a,this._lastEvents.current=a},getLastKeyEvent:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"current";return this._lastEvents[r]},isShiftKeyPressed:function(){var r;return(r=this._lastEvents.current)===null||r===void 0?void 0:r.event.shiftKey},isAltKeyPressed:function(){var r;return(r=this._lastEvents.current)===null||r===void 0?void 0:r.event.altKey},isCtrlKeyPressed:function(){var r;return(r=this._lastEvents.current)===null||r===void 0?void 0:r.event.ctrlKey},isMetaKeyPressed:function(){var r;return(r=this._lastEvents.current)===null||r===void 0?void 0:r.event.metaKey},getPressedKey:function(){var r;return(r=this._lastEvents.current)===null||r===void 0?void 0:r.event.key}};var Vt=c(7361),wt=c.n(Vt),pe=c(8721),Dt=c.n(pe);function Bt(r){var a=L.PM.activeLang;return Dt()(V,a)||(a="en"),wt()(V[a],r)}function $t(r){for(var a=0;a<r.length;a+=1){var p=r[a];if(Array.isArray(p)){if($t(p))return!0}else if(p!=null&&p!=="")return!0}return!1}function Me(r){return r.reduce(function(a,p){if(p.length!==0){var _=Array.isArray(p)?Me(p):p;Array.isArray(_)?_.length!==0&&a.push(_):a.push(_)}return a},[])}function fe(r,a,p){for(var _,x,A,j=6378137,$=63567523142e-4,H=.0033528106647474805,G=r.lng,X=r.lat,ft=p,ut=Math.PI,Mt=a*ut/180,Rt=Math.sin(Mt),Zt=Math.cos(Mt),re=(1-H)*Math.tan(X*ut/180),xe=1/Math.sqrt(1+re*re),Ut=re*xe,ke=Math.atan2(re,Zt),Pe=xe*Rt,Ve=1-Pe*Pe,Mn=Ve*(j*j-$*$)/($*$),So=1+Mn/16384*(4096+Mn*(Mn*(320-175*Mn)-768)),Ar=Mn/1024*(256+Mn*(Mn*(74-47*Mn)-128)),qn=ft/($*So),Fi=2*Math.PI;Math.abs(qn-Fi)>1e-12;)_=Math.cos(2*ke+qn),Fi=qn,qn=ft/($*So)+Ar*(x=Math.sin(qn))*(_+Ar/4*((A=Math.cos(qn))*(2*_*_-1)-Ar/6*_*(4*x*x-3)*(4*_*_-3)));var Eo=Ut*x-xe*A*Zt,qs=Math.atan2(Ut*A+xe*x*Zt,(1-H)*Math.sqrt(Pe*Pe+Eo*Eo)),Br=H/16*Ve*(4+H*(4-3*Ve)),Ks=G+180*(Math.atan2(x*Rt,xe*A-Ut*x*Zt)-(1-Br)*H*Pe*(qn+Br*x*(_+Br*A*(2*_*_-1))))/ut,mn=180*qs/ut;return L.latLng(Ks,mn)}function ae(r,a,p,_){for(var x,A,j=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],$=[],H=0;H<p;H+=1){if(j)x=fe(r,360*H/p+_,a),A=L.latLng(x.lng,x.lat);else{var G=r.lat+Math.cos(2*H*Math.PI/p)*a,X=r.lng+Math.sin(2*H*Math.PI/p)*a;A=L.latLng(G,X)}$.push(A)}return $}function Nt(r,a,p,_){var x=function(A,j,$){var H=A.latLngToContainerPoint(j),G=A.latLngToContainerPoint($),X=180*Math.atan2(G.y-H.y,G.x-H.x)/Math.PI+90;return X+(X<0?360:0)}(r,a,p);return function(A,j,$){j=(j+360)%360;var H=Math.PI/180,G=180/Math.PI,X=6378137,ft=A.lng*H,ut=A.lat*H,Mt=j*H,Rt=Math.sin(ut),Zt=Math.cos(ut),re=Math.cos($/X),xe=Math.sin($/X),Ut=Math.asin(Rt*re+Zt*xe*Math.cos(Mt)),ke=ft+Math.atan2(Math.sin(Mt)*xe*Zt,re-Rt*Math.sin(Ut));return ke=(ke*=G)>180?ke-360:ke<-180?ke+360:ke,L.latLng([Ut*G,ke])}(a,x,_)}function pt(r,a){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"asc";if(!a||Object.keys(a).length===0)return function(H,G){return H-G};for(var _,x=Object.keys(a),A=x.length-1,j={};A>=0;)_=x[A],j[_.toLowerCase()]=a[_],A-=1;function $(H){return H instanceof L.Marker?"Marker":H instanceof L.Circle?"Circle":H instanceof L.CircleMarker?"CircleMarker":H instanceof L.Rectangle?"Rectangle":H instanceof L.Polygon?"Polygon":H instanceof L.Polyline?"Line":void 0}return function(H,G){var X,ft;if(r==="instanceofShape"){if(X=$(H.layer).toLowerCase(),ft=$(G.layer).toLowerCase(),!X||!ft)return 0}else{if(!H.hasOwnProperty(r)||!G.hasOwnProperty(r))return 0;X=H[r].toLowerCase(),ft=G[r].toLowerCase()}var ut=X in j?j[X]:Number.MAX_SAFE_INTEGER,Mt=ft in j?j[ft]:Number.MAX_SAFE_INTEGER,Rt=0;return ut<Mt?Rt=-1:ut>Mt&&(Rt=1),p==="desc"?-1*Rt:Rt}}function Pt(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.getLatLngs();return r instanceof L.Polygon?L.polygon(a).getLatLngs():L.polyline(a).getLatLngs()}function St(r,a){var p,_;if((p=a.options.crs)!==null&&p!==void 0&&(_=p.projection)!==null&&_!==void 0&&_.MAX_LATITUDE){var x,A,j=(x=a.options.crs)===null||x===void 0||(A=x.projection)===null||A===void 0?void 0:A.MAX_LATITUDE;r.lat=Math.max(Math.min(j,r.lat),-j)}return r}function zt(r){return r.options.renderer||r._map&&(r._map._getPaneRenderer(r.options.pane)||r._map.options.renderer||r._map._renderer)||r._renderer}const le=L.Class.extend({includes:[ot,Y,st,ct,Et],initialize:function(r){this.map=r,this.Draw=new L.PM.Draw(r),this.Toolbar=new L.PM.Toolbar(r),this.Keyboard=Ct,this.globalOptions={snappable:!0,layerGroup:void 0,snappingOrder:["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],panes:{vertexPane:"markerPane",layerPane:"overlayPane",markerPane:"markerPane"},draggable:!0},this.Keyboard._initKeyListener(r)},setLang:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"en",a=arguments.length>1?arguments[1]:void 0,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"en",_=L.PM.activeLang;a&&(V[r]=d()(V[p],a)),L.PM.activeLang=r,this.map.pm.Toolbar.reinit(),this._fireLangChange(_,r,p,V[r])},addControls:function(r){this.Toolbar.addControls(r)},removeControls:function(){this.Toolbar.removeControls()},toggleControls:function(){this.Toolbar.toggleControls()},controlsVisible:function(){return this.Toolbar.isVisible},enableDraw:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Polygon",a=arguments.length>1?arguments[1]:void 0;r==="Poly"&&(r="Polygon"),this.Draw.enable(r,a)},disableDraw:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Polygon";r==="Poly"&&(r="Polygon"),this.Draw.disable(r)},setPathOptions:function(r){var a=this,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=p.ignoreShapes||[],x=p.merge||!1;this.map.pm.Draw.shapes.forEach(function(A){_.indexOf(A)===-1&&a.map.pm.Draw[A].setPathOptions(r,x)})},getGlobalOptions:function(){return this.globalOptions},setGlobalOptions:function(r){var a=this,p=d()(this.globalOptions,r),_=!1;this.map.pm.Draw.CircleMarker.enabled()&&!!this.map.pm.Draw.CircleMarker.options.editable!=!!p.editable&&(this.map.pm.Draw.CircleMarker.disable(),_=!0),this.map.pm.Draw.shapes.forEach(function(x){a.map.pm.Draw[x].setOptions(p)}),_&&this.map.pm.Draw.CircleMarker.enable(),L.PM.Utils.findLayers(this.map).forEach(function(x){x.pm.setOptions(p)}),this.map.fire("pm:globaloptionschanged"),this.globalOptions=p,this.applyGlobalOptions()},applyGlobalOptions:function(){L.PM.Utils.findLayers(this.map).forEach(function(r){r.pm.enabled()&&r.pm.applyOptions()})},globalDrawModeEnabled:function(){return!!this.Draw.getActiveShape()},globalCutModeEnabled:function(){return!!this.Draw.Cut.enabled()},enableGlobalCutMode:function(r){return this.Draw.Cut.enable(r)},toggleGlobalCutMode:function(r){return this.Draw.Cut.toggle(r)},disableGlobalCutMode:function(){return this.Draw.Cut.disable()},getGeomanLayers:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],a=L.PM.Utils.findLayers(this.map);if(!r)return a;var p=L.featureGroup();return p._pmTempLayer=!0,a.forEach(function(_){p.addLayer(_)}),p},getGeomanDrawLayers:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],a=L.PM.Utils.findLayers(this.map).filter(function(_){return _._drawnByGeoman===!0});if(!r)return a;var p=L.featureGroup();return p._pmTempLayer=!0,a.forEach(function(_){p.addLayer(_)}),p},_getContainingLayer:function(){return this.globalOptions.layerGroup&&this.globalOptions.layerGroup instanceof L.LayerGroup?this.globalOptions.layerGroup:this.map},_isCRSSimple:function(){return this.map.options.crs===L.CRS.Simple},_touchEventCounter:0,_addTouchEvents:function(r){this._touchEventCounter===0&&(L.DomEvent.on(r,"touchmove",this._canvasTouchMove,this),L.DomEvent.on(r,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter+=1},_removeTouchEvents:function(r){this._touchEventCounter===1&&(L.DomEvent.off(r,"touchmove",this._canvasTouchMove,this),L.DomEvent.off(r,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter=this._touchEventCounter<=1?0:this._touchEventCounter-1},_canvasTouchMove:function(r){zt(this.map)._onMouseMove(this._createMouseEvent("mousemove",r))},_canvasTouchClick:function(r){var a="";r.type==="touchstart"||r.type==="pointerdown"?a="mousedown":r.type==="touchend"||r.type==="pointerup"?a="mouseup":r.type!=="touchcancel"&&r.type!=="pointercancel"||(a="mouseup"),a&&zt(this.map)._onClick(this._createMouseEvent(a,r))},_createMouseEvent:function(r,a){var p,_=a.touches[0]||a.changedTouches[0];try{p=new MouseEvent(r,{bubbles:a.bubbles,cancelable:a.cancelable,view:a.view,detail:_.detail,screenX:_.screenX,screenY:_.screenY,clientX:_.clientX,clientY:_.clientY,ctrlKey:a.ctrlKey,altKey:a.altKey,shiftKey:a.shiftKey,metaKey:a.metaKey,button:a.button,relatedTarget:a.relatedTarget})}catch{(p=document.createEvent("MouseEvents")).initMouseEvent(r,a.bubbles,a.cancelable,a.view,_.detail,_.screenX,_.screenY,_.clientX,_.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.button,a.relatedTarget)}return p}}),F=L.Control.extend({includes:[Et],options:{position:"topleft",disableByOtherButtons:!0},initialize:function(r){this._button=L.Util.extend({},this.options,r)},onAdd:function(r){return this._map=r,this._map.pm.Toolbar.options.oneBlock?this._container=this._map.pm.Toolbar._createContainer(this.options.position):this._button.tool==="edit"?this._container=this._map.pm.Toolbar.editContainer:this._button.tool==="options"?this._container=this._map.pm.Toolbar.optionsContainer:this._button.tool==="custom"?this._container=this._map.pm.Toolbar.customContainer:this._container=this._map.pm.Toolbar.drawContainer,this.buttonsDomNode=this._makeButton(this._button),this._container.appendChild(this.buttonsDomNode),this._container},onRemove:function(){return this.buttonsDomNode.remove(),this._container},getText:function(){return this._button.text},getIconUrl:function(){return this._button.iconUrl},destroy:function(){this._button={},this._update()},toggle:function(r){return this._button.toggleStatus=typeof r=="boolean"?r:!this._button.toggleStatus,this._applyStyleClasses(),this._button.toggleStatus},toggled:function(){return this._button.toggleStatus},onCreate:function(){this.toggle(!1)},disable:function(){this.toggle(!1),this._button.disabled=!0,this._updateDisabled()},enable:function(){this._button.disabled=!1,this._updateDisabled()},_triggerClick:function(r){r&&r.preventDefault(),this._button.disabled||(this._button.onClick(r,{button:this,event:r}),this._clicked(r),this._button.afterClick(r,{button:this,event:r}))},_makeButton:function(r){var a=this,p=this.options.position.indexOf("right")>-1?"pos-right":"",_=L.DomUtil.create("div","button-container  ".concat(p),this._container);r.title&&_.setAttribute("title",r.title);var x=L.DomUtil.create("a","leaflet-buttons-control-button",_);x.setAttribute("role","button"),x.setAttribute("tabindex","0"),x.href="#";var A=L.DomUtil.create("div","leaflet-pm-actions-container ".concat(p),_),j=r.actions,$={cancel:{text:Bt("actions.cancel"),onClick:function(){this._triggerClick()}},finishMode:{text:Bt("actions.finish"),onClick:function(){this._triggerClick()}},removeLastVertex:{text:Bt("actions.removeLastVertex"),onClick:function(){this._map.pm.Draw[r.jsClass]._removeLastVertex()}},finish:{text:Bt("actions.finish"),onClick:function(G){this._map.pm.Draw[r.jsClass]._finishShape(G)}}};j.forEach(function(G){var X,ft=typeof G=="string"?G:G.name;if($[ft])X=$[ft];else{if(!G.text)return;X=G}var ut=L.DomUtil.create("a","leaflet-pm-action ".concat(p," action-").concat(ft),A);ut.setAttribute("role","button"),ut.setAttribute("tabindex","0"),ut.href="#",ut.innerHTML=X.text,L.DomEvent.disableClickPropagation(ut),L.DomEvent.on(ut,"click",L.DomEvent.stop),!r.disabled&&X.onClick&&(L.DomEvent.addListener(ut,"click",function(Mt){Mt.preventDefault();var Rt="",Zt=a._map.pm.Toolbar.buttons;for(var re in Zt)if(Zt[re]._button===r){Rt=re;break}a._fireActionClick(X,Rt,r)},a),L.DomEvent.addListener(ut,"click",X.onClick,a))}),r.toggleStatus&&L.DomUtil.addClass(_,"active");var H=L.DomUtil.create("div","control-icon",x);return r.iconUrl&&H.setAttribute("src",r.iconUrl),r.className&&L.DomUtil.addClass(H,r.className),L.DomEvent.disableClickPropagation(x),L.DomEvent.on(x,"click",L.DomEvent.stop),r.disabled||(L.DomEvent.addListener(x,"click",this._onBtnClick,this),L.DomEvent.addListener(x,"click",this._triggerClick,this)),r.disabled&&(L.DomUtil.addClass(x,"pm-disabled"),x.setAttribute("aria-disabled","true")),_},_applyStyleClasses:function(){this._container&&(this._button.toggleStatus&&this._button.cssToggle!==!1?(L.DomUtil.addClass(this.buttonsDomNode,"active"),L.DomUtil.addClass(this._container,"activeChild")):(L.DomUtil.removeClass(this.buttonsDomNode,"active"),L.DomUtil.removeClass(this._container,"activeChild")))},_onBtnClick:function(){this._button.disableOtherButtons&&this._map.pm.Toolbar.triggerClickOnToggledButtons(this);var r="",a=this._map.pm.Toolbar.buttons;for(var p in a)if(a[p]._button===this._button){r=p;break}this._fireButtonClick(r,this._button)},_clicked:function(){this._button.doToggle&&this.toggle()},_updateDisabled:function(){if(this._container){var r="pm-disabled",a=this.buttonsDomNode.children[0];this._button.disabled?(L.DomUtil.addClass(a,r),a.setAttribute("aria-disabled","true"),L.DomEvent.off(a,"click",this._triggerClick,this),L.DomEvent.off(a,"click",this._onBtnClick,this)):(L.DomUtil.removeClass(a,r),a.setAttribute("aria-disabled","false"),L.DomEvent.on(a,"click",this._triggerClick,this),L.DomEvent.on(a,"click",this._onBtnClick,this))}}});function K(r,a){var p=Object.keys(r);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(r);a&&(_=_.filter(function(x){return Object.getOwnPropertyDescriptor(r,x).enumerable})),p.push.apply(p,_)}return p}function J(r){for(var a=1;a<arguments.length;a++){var p=arguments[a]!=null?arguments[a]:{};a%2?K(Object(p),!0).forEach(function(_){ht(r,_,p[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(p)):K(Object(p)).forEach(function(_){Object.defineProperty(r,_,Object.getOwnPropertyDescriptor(p,_))})}return r}function ht(r,a,p){return a in r?Object.defineProperty(r,a,{value:p,enumerable:!0,configurable:!0,writable:!0}):r[a]=p,r}function yt(r){return yt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},yt(r)}L.Control.PMButton=F;const xt=L.Class.extend({options:{drawMarker:!0,drawRectangle:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,drawCircleMarker:!0,drawText:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0,rotateMode:!0,snappingOption:!0,drawControls:!0,editControls:!0,optionsControls:!0,customControls:!0,oneBlock:!1,position:"topleft",positions:{draw:"",edit:"",options:"",custom:""}},customButtons:[],initialize:function(r){this.init(r)},reinit:function(){var r=this.isVisible;this.removeControls(),this._defineButtons(),r&&this.addControls()},init:function(r){this.map=r,this.buttons={},this.isVisible=!1,this.drawContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"),this.editContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"),this.optionsContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"),this.customContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"),this._defineButtons()},_createContainer:function(r){var a="".concat(r,"Container");return this[a]||(this[a]=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-".concat(r," leaflet-bar leaflet-control"))),this[a]},getButtons:function(){return this.buttons},addControls:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options;typeof r.editPolygon<"u"&&(r.editMode=r.editPolygon),typeof r.deleteLayer<"u"&&(r.removalMode=r.deleteLayer),L.Util.setOptions(this,r),this.applyIconStyle(),this.isVisible=!0,this._showHideButtons()},applyIconStyle:function(){var r=this.getButtons(),a={geomanIcons:{drawMarker:"control-icon leaflet-pm-icon-marker",drawPolyline:"control-icon leaflet-pm-icon-polyline",drawRectangle:"control-icon leaflet-pm-icon-rectangle",drawPolygon:"control-icon leaflet-pm-icon-polygon",drawCircle:"control-icon leaflet-pm-icon-circle",drawCircleMarker:"control-icon leaflet-pm-icon-circle-marker",editMode:"control-icon leaflet-pm-icon-edit",dragMode:"control-icon leaflet-pm-icon-drag",cutPolygon:"control-icon leaflet-pm-icon-cut",removalMode:"control-icon leaflet-pm-icon-delete",drawText:"control-icon leaflet-pm-icon-text"}};for(var p in r){var _=r[p];L.Util.setOptions(_,{className:a.geomanIcons[p]})}},removeControls:function(){var r=this.getButtons();for(var a in r)r[a].remove();this.isVisible=!1},toggleControls:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options;this.isVisible?this.removeControls():this.addControls(r)},_addButton:function(r,a){return this.buttons[r]=a,this.options[r]=this.options[r]||!1,this.buttons[r]},triggerClickOnToggledButtons:function(r){for(var a in this.buttons){var p=this.buttons[a];p._button.disableByOtherButtons&&p!==r&&p.toggled()&&p._triggerClick()}},toggleButton:function(r,a){var p=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return r==="editPolygon"&&(r="editMode"),r==="deleteLayer"&&(r="removalMode"),p&&this.triggerClickOnToggledButtons(this.buttons[r]),!!this.buttons[r]&&this.buttons[r].toggle(a)},_defineButtons:function(){var r=this,a={className:"control-icon leaflet-pm-icon-marker",title:Bt("buttonTitles.drawMarkerButton"),jsClass:"Marker",onClick:function(){},afterClick:function(Mt,Rt){r.map.pm.Draw[Rt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},p={title:Bt("buttonTitles.drawPolyButton"),className:"control-icon leaflet-pm-icon-polygon",jsClass:"Polygon",onClick:function(){},afterClick:function(Mt,Rt){r.map.pm.Draw[Rt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},_={className:"control-icon leaflet-pm-icon-polyline",title:Bt("buttonTitles.drawLineButton"),jsClass:"Line",onClick:function(){},afterClick:function(Mt,Rt){r.map.pm.Draw[Rt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},x={title:Bt("buttonTitles.drawCircleButton"),className:"control-icon leaflet-pm-icon-circle",jsClass:"Circle",onClick:function(){},afterClick:function(Mt,Rt){r.map.pm.Draw[Rt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},A={title:Bt("buttonTitles.drawCircleMarkerButton"),className:"control-icon leaflet-pm-icon-circle-marker",jsClass:"CircleMarker",onClick:function(){},afterClick:function(Mt,Rt){r.map.pm.Draw[Rt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},j={title:Bt("buttonTitles.drawRectButton"),className:"control-icon leaflet-pm-icon-rectangle",jsClass:"Rectangle",onClick:function(){},afterClick:function(Mt,Rt){r.map.pm.Draw[Rt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},$={title:Bt("buttonTitles.editButton"),className:"control-icon leaflet-pm-icon-edit",onClick:function(){},afterClick:function(){r.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},H={title:Bt("buttonTitles.dragButton"),className:"control-icon leaflet-pm-icon-drag",onClick:function(){},afterClick:function(){r.map.pm.toggleGlobalDragMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},G={title:Bt("buttonTitles.cutButton"),className:"control-icon leaflet-pm-icon-cut",jsClass:"Cut",onClick:function(){},afterClick:function(Mt,Rt){r.map.pm.Draw[Rt.button._button.jsClass].toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finish","removeLastVertex","cancel"]},X={title:Bt("buttonTitles.deleteButton"),className:"control-icon leaflet-pm-icon-delete",onClick:function(){},afterClick:function(){r.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},ft={title:Bt("buttonTitles.rotateButton"),className:"control-icon leaflet-pm-icon-rotate",onClick:function(){},afterClick:function(){r.map.pm.toggleGlobalRotateMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},ut={className:"control-icon leaflet-pm-icon-text",title:Bt("buttonTitles.drawTextButton"),jsClass:"Text",onClick:function(){},afterClick:function(Mt,Rt){r.map.pm.Draw[Rt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]};this._addButton("drawMarker",new L.Control.PMButton(a)),this._addButton("drawPolyline",new L.Control.PMButton(_)),this._addButton("drawRectangle",new L.Control.PMButton(j)),this._addButton("drawPolygon",new L.Control.PMButton(p)),this._addButton("drawCircle",new L.Control.PMButton(x)),this._addButton("drawCircleMarker",new L.Control.PMButton(A)),this._addButton("drawText",new L.Control.PMButton(ut)),this._addButton("editMode",new L.Control.PMButton($)),this._addButton("dragMode",new L.Control.PMButton(H)),this._addButton("cutPolygon",new L.Control.PMButton(G)),this._addButton("removalMode",new L.Control.PMButton(X)),this._addButton("rotateMode",new L.Control.PMButton(ft))},_showHideButtons:function(){if(this.isVisible){this.removeControls(),this.isVisible=!0;var r=this.getButtons(),a=[];for(var p in this.options.drawControls===!1&&(a=a.concat(Object.keys(r).filter(function(x){return!r[x]._button.tool}))),this.options.editControls===!1&&(a=a.concat(Object.keys(r).filter(function(x){return r[x]._button.tool==="edit"}))),this.options.optionsControls===!1&&(a=a.concat(Object.keys(r).filter(function(x){return r[x]._button.tool==="options"}))),this.options.customControls===!1&&(a=a.concat(Object.keys(r).filter(function(x){return r[x]._button.tool==="custom"}))),r)if(this.options[p]&&a.indexOf(p)===-1){var _=r[p]._button.tool;_||(_="draw"),r[p].setPosition(this._getBtnPosition(_)),r[p].addTo(this.map)}}},_getBtnPosition:function(r){return this.options.positions&&this.options.positions[r]?this.options.positions[r]:this.options.position},setBlockPosition:function(r,a){this.options.positions[r]=a,this._showHideButtons(),this.changeControlOrder()},getBlockPositions:function(){return this.options.positions},copyDrawControl:function(r,a){if(!a)throw new TypeError("Button has no name");yt(a)!=="object"&&(a={name:a});var p=this._btnNameMapping(r);if(!a.name)throw new TypeError("Button has no name");if(this.buttons[a.name])throw new TypeError("Button with this name already exists");var _=this.map.pm.Draw.createNewDrawInstance(a.name,p);return a=J(J({},this.buttons[p]._button),a),{drawInstance:_,control:this.createCustomControl(a)}},createCustomControl:function(r){var a,p;if(!r.name)throw new TypeError("Button has no name");if(this.buttons[r.name])throw new TypeError("Button with this name already exists");r.onClick||(r.onClick=function(){}),r.afterClick||(r.afterClick=function(){}),r.toggle!==!1&&(r.toggle=!0),r.block&&(r.block=r.block.toLowerCase()),r.block&&r.block!=="draw"||(r.block=""),r.className?r.className.indexOf("control-icon")===-1&&(r.className="control-icon ".concat(r.className)):r.className="control-icon";var _={tool:r.block,className:r.className,title:r.title||"",jsClass:r.name,onClick:r.onClick,afterClick:r.afterClick,doToggle:r.toggle,toggleStatus:!1,disableOtherButtons:(a=r.disableOtherButtons)===null||a===void 0||a,disableByOtherButtons:(p=r.disableByOtherButtons)===null||p===void 0||p,cssToggle:r.toggle,position:this.options.position,actions:r.actions||[],disabled:!!r.disabled};this.options[r.name]!==!1&&(this.options[r.name]=!0);var x=this._addButton(r.name,new L.Control.PMButton(_));return this.changeControlOrder(),x},changeControlOrder:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=this._shapeMapping(),p=[];r.forEach(function(G){a[G]?p.push(a[G]):p.push(G)});var _=this.getButtons(),x={};p.forEach(function(G){_[G]&&(x[G]=_[G])});var A=Object.keys(_).filter(function(G){return!_[G]._button.tool});A.forEach(function(G){p.indexOf(G)===-1&&(x[G]=_[G])});var j=Object.keys(_).filter(function(G){return _[G]._button.tool==="edit"});j.forEach(function(G){p.indexOf(G)===-1&&(x[G]=_[G])});var $=Object.keys(_).filter(function(G){return _[G]._button.tool==="options"});$.forEach(function(G){p.indexOf(G)===-1&&(x[G]=_[G])});var H=Object.keys(_).filter(function(G){return _[G]._button.tool==="custom"});H.forEach(function(G){p.indexOf(G)===-1&&(x[G]=_[G])}),Object.keys(_).forEach(function(G){p.indexOf(G)===-1&&(x[G]=_[G])}),this.map.pm.Toolbar.buttons=x,this._showHideButtons()},getControlOrder:function(){var r=this.getButtons(),a=[];for(var p in r)a.push(p);return a},changeActionsOfControl:function(r,a){var p=this._btnNameMapping(r);if(!p)throw new TypeError("No name passed");if(!a)throw new TypeError("No actions passed");if(!this.buttons[p])throw new TypeError("Button with this name not exists");this.buttons[p]._button.actions=a,this.changeControlOrder()},setButtonDisabled:function(r,a){var p=this._btnNameMapping(r);a?this.buttons[p].disable():this.buttons[p].enable()},_shapeMapping:function(){return{Marker:"drawMarker",Circle:"drawCircle",Polygon:"drawPolygon",Rectangle:"drawRectangle",Polyline:"drawPolyline",Line:"drawPolyline",CircleMarker:"drawCircleMarker",Edit:"editMode",Drag:"dragMode",Cut:"cutPolygon",Removal:"removalMode",Rotate:"rotateMode",Text:"drawText"}},_btnNameMapping:function(r){var a=this._shapeMapping();return a[r]?a[r]:r}});function Ot(r,a){var p=Object.keys(r);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(r);a&&(_=_.filter(function(x){return Object.getOwnPropertyDescriptor(r,x).enumerable})),p.push.apply(p,_)}return p}function B(r){for(var a=1;a<arguments.length;a++){var p=arguments[a]!=null?arguments[a]:{};a%2?Ot(Object(p),!0).forEach(function(_){b(r,_,p[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(p)):Ot(Object(p)).forEach(function(_){Object.defineProperty(r,_,Object.getOwnPropertyDescriptor(p,_))})}return r}function b(r,a,p){return a in r?Object.defineProperty(r,a,{value:p,enumerable:!0,configurable:!0,writable:!0}):r[a]=p,r}var k={_initSnappableMarkers:function(){this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){this._layer.off("pm:dragstart",this._unsnap,this)},_assignEvents:function(r){var a=this;r.forEach(function(p){Array.isArray(p)?a._assignEvents(p):(p.off("drag",a._handleSnapping,a),p.on("drag",a._handleSnapping,a),p.off("dragend",a._cleanupSnapping,a),p.on("dragend",a._cleanupSnapping,a))})},_cleanupSnapping:function(r){r&&(r.target._snapped=!1),delete this._snapList,this.throttledList&&(this._map.off("layeradd",this.throttledList,this),this.throttledList=void 0),this._map.off("pm:remove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach(function(a){a.remove()})},_handleThrottleSnapping:function(){this.throttledList&&this._createSnapList()},_handleSnapping:function(r){var a=this,p=r.target;if(p._snapped=!1,this.throttledList||(this.throttledList=L.Util.throttle(this._handleThrottleSnapping,100,this)),this._map.pm.Keyboard.isAltKeyPressed()||(this._snapList===void 0&&(this._createSnapList(),this._map.off("layeradd",this.throttledList,this),this._map.on("layeradd",this.throttledList,this)),this._snapList.length<=0))return!1;var _=this._calcClosestLayer(p.getLatLng(),this._snapList);if(Object.keys(_).length===0)return!1;var x,A=_.layer instanceof L.Marker||_.layer instanceof L.CircleMarker||!this.options.snapSegment;x=A?_.latlng:this._checkPrioritiySnapping(_);var j=this.options.snapDistance,$={marker:p,shape:this._shape,snapLatLng:x,segment:_.segment,layer:this._layer,workingLayer:this._layer,layerInteractedWith:_.layer,distance:_.distance};if(this._fireSnapDrag($.marker,$),this._fireSnapDrag(this._layer,$),_.distance<j){p._orgLatLng=p.getLatLng(),p.setLatLng(x),p._snapped=!0,p._snapInfo=$;var H=this._snapLatLng||{},G=x||{};H.lat===G.lat&&H.lng===G.lng||(a._snapLatLng=x,a._fireSnap(p,$),a._fireSnap(a._layer,$))}else this._snapLatLng&&(this._unsnap($),p._snapped=!1,p._snapInfo=void 0,this._fireUnsnap($.marker,$),this._fireUnsnap(this._layer,$));return!0},_createSnapList:function(){var r=this,a=[],p=[],_=this._map;_.off("pm:remove",this._handleSnapLayerRemoval,this),_.on("pm:remove",this._handleSnapLayerRemoval,this),_.eachLayer(function(x){if((x instanceof L.Polyline||x instanceof L.Marker||x instanceof L.CircleMarker||x instanceof L.ImageOverlay)&&x.options.snapIgnore!==!0){if(x.options.snapIgnore===void 0&&(!L.PM.optIn&&x.options.pmIgnore===!0||L.PM.optIn&&x.options.pmIgnore!==!1))return;(x instanceof L.Circle||x instanceof L.CircleMarker)&&x.pm&&x.pm._hiddenPolyCircle?a.push(x.pm._hiddenPolyCircle):x instanceof L.ImageOverlay&&(x=L.rectangle(x.getBounds())),a.push(x);var A=L.polyline([],{color:"red",pmIgnore:!0});A._pmTempLayer=!0,p.push(A),(x instanceof L.Circle||x instanceof L.CircleMarker)&&p.push(A)}}),a=(a=(a=a.filter(function(x){return r._layer!==x})).filter(function(x){return x._latlng||x._latlngs&&$t(x._latlngs)})).filter(function(x){return!x._pmTempLayer}),this._otherSnapLayers?(this._otherSnapLayers.forEach(function(){var x=L.polyline([],{color:"red",pmIgnore:!0});x._pmTempLayer=!0,p.push(x)}),this._snapList=a.concat(this._otherSnapLayers)):this._snapList=a,this.debugIndicatorLines=p},_handleSnapLayerRemoval:function(r){var a=r.layer,p=this._snapList.findIndex(function(_){return _._leaflet_id===a._leaflet_id});this._snapList.splice(p,1)},_calcClosestLayer:function(r,a){return this._calcClosestLayers(r,a,1)[0]},_calcClosestLayers:function(r,a){var p=this,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,x=[],A={};a.forEach(function($,H){if(!$._parentCopy||$._parentCopy!==p._layer){var G=p._calcLayerDistances(r,$);if(G.distance=Math.floor(G.distance),p.debugIndicatorLines){if(!p.debugIndicatorLines[H]){var X=L.polyline([],{color:"red",pmIgnore:!0});X._pmTempLayer=!0,p.debugIndicatorLines[H]=X}p.debugIndicatorLines[H].setLatLngs([r,G.latlng])}_===1&&(A.distance===void 0||G.distance<=A.distance)?(G.distance<A.distance&&(x=[]),(A=G).layer=$,x.push(A)):_!==1&&(A={},(A=G).layer=$,x.push(A))}}),_!==1&&(x=x.sort(function($,H){return $.distance-H.distance})),_===-1&&(_=x.length);var j=this._getClosestLayerByPriority(x,_);return L.Util.isArray(j)?j:[j]},_calcLayerDistances:function(r,a){var p=this._map,_=a instanceof L.Marker||a instanceof L.CircleMarker,x=a instanceof L.Polygon,A=r;if(_){var j=a.getLatLng();return{latlng:B({},j),distance:this._getDistance(p,j,A)}}return this._calcLatLngDistances(A,a.getLatLngs(),p,x)},_calcLatLngDistances:function(r,a,p){var _,x,A,j=this,$=arguments.length>3&&arguments[3]!==void 0&&arguments[3],H=function X(ft){ft.forEach(function(ut,Mt){if(Array.isArray(ut))X(ut);else if(j.options.snapSegment){var Rt,Zt=ut;Rt=$?Mt+1===ft.length?0:Mt+1:Mt+1===ft.length?void 0:Mt+1;var re=ft[Rt];if(re){var xe=j._getDistanceToSegment(p,r,Zt,re);(x===void 0||xe<x)&&(x=xe,A=[Zt,re])}}else{var Ut=j._getDistance(p,r,ut);(x===void 0||Ut<x)&&(x=Ut,_=ut)}})};if(H(a),this.options.snapSegment){var G=this._getClosestPointOnSegment(p,r,A[0],A[1]);return{latlng:B({},G),segment:A,distance:x}}return{latlng:_,distance:x}},_getClosestLayerByPriority:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;r=r.sort(function(j,$){return j._leaflet_id-$._leaflet_id});var p=["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],_=this._map.pm.globalOptions.snappingOrder||[],x=0,A={};return _.concat(p).forEach(function(j){A[j]||(x+=1,A[j]=x)}),r.sort(pt("instanceofShape",A)),a===1?r[0]||{}:r.slice(0,a)},_checkPrioritiySnapping:function(r){var a=this._map,p=r.segment[0],_=r.segment[1],x=r.latlng,A=this._getDistance(a,p,x),j=this._getDistance(a,_,x),$=A<j?p:_,H=A<j?A:j;if(this.options.snapMiddle){var G=L.PM.Utils.calcMiddleLatLng(a,p,_),X=this._getDistance(a,G,x);X<A&&X<j&&($=G,H=X)}return B({},H<this.options.snapDistance?$:x)},_unsnap:function(){delete this._snapLatLng},_getClosestPointOnSegment:function(r,a,p,_){var x=r.getMaxZoom();x===1/0&&(x=r.getZoom());var A=r.project(a,x),j=r.project(p,x),$=r.project(_,x),H=L.LineUtil.closestPointOnSegment(A,j,$);return r.unproject(H,x)},_getDistanceToSegment:function(r,a,p,_){var x=r.latLngToLayerPoint(a),A=r.latLngToLayerPoint(p),j=r.latLngToLayerPoint(_);return L.LineUtil.pointToSegmentDistance(x,A,j)},_getDistance:function(r,a,p){return r.latLngToLayerPoint(a).distanceTo(r.latLngToLayerPoint(p))}};const T=k,D=L.Class.extend({includes:[T,Et],options:{snappable:!0,snapDistance:20,snapMiddle:!1,allowSelfIntersection:!0,tooltips:!0,templineStyle:{},hintlineStyle:{color:"#3388ff",dashArray:"5,5"},pathOptions:null,cursorMarker:!0,finishOn:null,markerStyle:{draggable:!0,icon:L.icon()},hideMiddleMarkers:!1,minRadiusCircle:null,maxRadiusCircle:null,minRadiusCircleMarker:null,maxRadiusCircleMarker:null,editable:!1,markerEditable:!0,continueDrawing:!1,snapSegment:!0,requireSnapToFinish:!1},setOptions:function(r){L.Util.setOptions(this,r),this.setStyle(this.options)},setStyle:function(){},getOptions:function(){return this.options},initialize:function(r){var a=this,p=new L.Icon.Default;p.options.tooltipAnchor=[0,0],this.options.markerStyle.icon=p,this._map=r,this.shapes=["Marker","CircleMarker","Line","Polygon","Rectangle","Circle","Cut","Text"],this.shapes.forEach(function(_){a[_]=new L.PM.Draw[_](a._map)}),this.Marker.setOptions({continueDrawing:!0}),this.CircleMarker.setOptions({continueDrawing:!0})},setPathOptions:function(r){var a=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.options.pathOptions=a?d()(this.options.pathOptions,r):r},getShapes:function(){return this.shapes},getShape:function(){return this._shape},enable:function(r,a){if(!r)throw new Error("Error: Please pass a shape as a parameter. Possible shapes are: ".concat(this.getShapes().join(",")));this.disable(),this[r].enable(a)},disable:function(){var r=this;this.shapes.forEach(function(a){r[a].disable()})},addControls:function(){var r=this;this.shapes.forEach(function(a){r[a].addButton()})},getActiveShape:function(){var r,a=this;return this.shapes.forEach(function(p){a[p]._enabled&&(r=p)}),r},_setGlobalDrawMode:function(){this._shape==="Cut"?this._fireGlobalCutModeToggled():this._fireGlobalDrawModeToggled();var r=L.PM.Utils.findLayers(this._map);this._enabled?r.forEach(function(a){L.PM.Utils.disablePopup(a)}):r.forEach(function(a){L.PM.Utils.enablePopup(a)})},createNewDrawInstance:function(r,a){var p=this._getShapeFromBtnName(a);if(this[r])throw new TypeError("Draw Type already exists");if(!L.PM.Draw[p])throw new TypeError("There is no class L.PM.Draw.".concat(p));return this[r]=new L.PM.Draw[p](this._map),this[r].toolbarButtonName=r,this[r]._shape=r,this.shapes.push(r),this[a]&&this[r].setOptions(this[a].options),this[r].setOptions(this[r].options),this[r]},_getShapeFromBtnName:function(r){var a={drawMarker:"Marker",drawCircle:"Circle",drawPolygon:"Polygon",drawPolyline:"Line",drawRectangle:"Rectangle",drawCircleMarker:"CircleMarker",editMode:"Edit",dragMode:"Drag",cutPolygon:"Cut",removalMode:"Removal",rotateMode:"Rotate",drawText:"Text"};return a[r]?a[r]:this[r]?this[r]._shape:r},_finishLayer:function(r){r.pm&&(r.pm.setOptions(this.options),r.pm._shape=this._shape,r.pm._map=this._map),this._addDrawnLayerProp(r)},_addDrawnLayerProp:function(r){r._drawnByGeoman=!0},_setPane:function(r,a){a==="layerPane"?r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":a==="vertexPane"?r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":a==="markerPane"&&(r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},_isFirstLayer:function(){return(this._map||this._layer._map).pm.getGeomanLayers().length===0}});D.Marker=D.extend({initialize:function(r){this._map=r,this._shape="Marker",this.toolbarButtonName="drawMarker"},enable:function(r){var a=this;L.Util.setOptions(this,r),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),this.options.markerStyle),this._setPane(this._hintMarker,"markerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip(Bt("tooltips.placeMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this.options.markerEditable&&this._map.eachLayer(function(p){a.isRelevantMarker(p)&&p.pm.enable()}),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){var r=this;this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer(function(a){r.isRelevantMarker(a)&&a.pm.disable()}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(r){this.enabled()?this.disable():this.enable(r)},isRelevantMarker:function(r){return r instanceof L.Marker&&r.pm&&!r._pmTempLayer&&!r.pm._initTextMarker},_syncHintMarker:function(r){if(this._hintMarker.setLatLng(r.latlng),this.options.snappable){var a=r;a.target=this._hintMarker,this._handleSnapping(a)}this._fireChange(this._hintMarker.getLatLng(),"Draw")},_createMarker:function(r){if(r.latlng&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var a=this._hintMarker.getLatLng(),p=new L.Marker(a,this.options.markerStyle);this._setPane(p,"markerPane"),this._finishLayer(p),p.pm||(p.options.draggable=!1),p.addTo(this._map.pm._getContainingLayer()),p.pm&&this.options.markerEditable?p.pm.enable():p.dragging&&p.dragging.disable(),this._fireCreate(p),this._cleanupSnapping(),this.options.continueDrawing||this.disable()}},setStyle:function(){var r,a;(r=this.options.markerStyle)!==null&&r!==void 0&&r.icon&&((a=this._hintMarker)===null||a===void 0||a.setIcon(this.options.markerStyle.icon))}});var N=63710088e-1,Q={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260511392e-6,inches:39.37*N,kilometers:6371.0088,kilometres:6371.0088,meters:N,metres:N,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:N/1852,radians:1,yards:6967335223679999e-9};function nt(r,a,p){p===void 0&&(p={});var _={type:"Feature"};return(p.id===0||p.id)&&(_.id=p.id),p.bbox&&(_.bbox=p.bbox),_.properties=a||{},_.geometry=r,_}function vt(r,a,p){if(p===void 0&&(p={}),!r)throw new Error("coordinates is required");if(!Array.isArray(r))throw new Error("coordinates must be an Array");if(r.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!ye(r[0])||!ye(r[1]))throw new Error("coordinates must contain numbers");return nt({type:"Point",coordinates:r},a,p)}function Tt(r,a,p){if(p===void 0&&(p={}),r.length<2)throw new Error("coordinates must be an array of two or more positions");return nt({type:"LineString",coordinates:r},a,p)}function jt(r,a){a===void 0&&(a={});var p={type:"FeatureCollection"};return a.id&&(p.id=a.id),a.bbox&&(p.bbox=a.bbox),p.features=r,p}function Wt(r,a){a===void 0&&(a="kilometers");var p=Q[a];if(!p)throw new Error(a+" units is invalid");return r*p}function Qt(r,a){a===void 0&&(a="kilometers");var p=Q[a];if(!p)throw new Error(a+" units is invalid");return r/p}function be(r){return 180*(r%(2*Math.PI))/Math.PI}function Xt(r){return r%360*Math.PI/180}function ye(r){return!isNaN(r)&&r!==null&&!Array.isArray(r)}function ue(r){var a,p,_={type:"FeatureCollection",features:[]};if((p=r.type==="Feature"?r.geometry:r).type==="LineString")a=[p.coordinates];else if(p.type==="MultiLineString")a=p.coordinates;else if(p.type==="MultiPolygon")a=[].concat.apply([],p.coordinates);else{if(p.type!=="Polygon")throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");a=p.coordinates}return a.forEach(function(x){a.forEach(function(A){for(var j=0;j<x.length-1;j++)for(var $=j;$<A.length-1;$++)if(!(x===A&&(Math.abs(j-$)===1||j===0&&$===x.length-2&&x[j][0]===x[x.length-1][0]&&x[j][1]===x[x.length-1][1]))){var H=we(x[j][0],x[j][1],x[j+1][0],x[j+1][1],A[$][0],A[$][1],A[$+1][0],A[$+1][1]);H&&_.features.push(vt([H[0],H[1]]))}})}),_}function we(r,a,p,_,x,A,j,$){var H,G,X,ft,ut={x:null,y:null,onLine1:!1,onLine2:!1};return(H=($-A)*(p-r)-(j-x)*(_-a))===0?ut.x!==null&&ut.y!==null&&ut:(ft=(p-r)*(G=a-A)-(_-a)*(X=r-x),G=((j-x)*G-($-A)*X)/H,X=ft/H,ut.x=r+G*(p-r),ut.y=a+G*(_-a),G>=0&&G<=1&&(ut.onLine1=!0),X>=0&&X<=1&&(ut.onLine2=!0),!(!ut.onLine1||!ut.onLine2)&&[ut.x,ut.y])}function Re(r,a){var p=Object.keys(r);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(r);a&&(_=_.filter(function(x){return Object.getOwnPropertyDescriptor(r,x).enumerable})),p.push.apply(p,_)}return p}function Ge(r){for(var a=1;a<arguments.length;a++){var p=arguments[a]!=null?arguments[a]:{};a%2?Re(Object(p),!0).forEach(function(_){Ze(r,_,p[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(p)):Re(Object(p)).forEach(function(_){Object.defineProperty(r,_,Object.getOwnPropertyDescriptor(p,_))})}return r}function Ze(r,a,p){return a in r?Object.defineProperty(r,a,{value:p,enumerable:!0,configurable:!0,writable:!0}):r[a]=p,r}function dn(r,a){var p=Object.keys(r);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(r);a&&(_=_.filter(function(x){return Object.getOwnPropertyDescriptor(r,x).enumerable})),p.push.apply(p,_)}return p}function cn(r){for(var a=1;a<arguments.length;a++){var p=arguments[a]!=null?arguments[a]:{};a%2?dn(Object(p),!0).forEach(function(_){We(r,_,p[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(p)):dn(Object(p)).forEach(function(_){Object.defineProperty(r,_,Object.getOwnPropertyDescriptor(p,_))})}return r}function We(r,a,p){return a in r?Object.defineProperty(r,a,{value:p,enumerable:!0,configurable:!0,writable:!0}):r[a]=p,r}function un(r,a){var p=Object.keys(r);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(r);a&&(_=_.filter(function(x){return Object.getOwnPropertyDescriptor(r,x).enumerable})),p.push.apply(p,_)}return p}function Ln(r){for(var a=1;a<arguments.length;a++){var p=arguments[a]!=null?arguments[a]:{};a%2?un(Object(p),!0).forEach(function(_){$n(r,_,p[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(p)):un(Object(p)).forEach(function(_){Object.defineProperty(r,_,Object.getOwnPropertyDescriptor(p,_))})}return r}function $n(r,a,p){return a in r?Object.defineProperty(r,a,{value:p,enumerable:!0,configurable:!0,writable:!0}):r[a]=p,r}function qe(r){if(!r)throw new Error("coord is required");if(!Array.isArray(r)){if(r.type==="Feature"&&r.geometry!==null&&r.geometry.type==="Point")return r.geometry.coordinates;if(r.type==="Point")return r.coordinates}if(Array.isArray(r)&&r.length>=2&&!Array.isArray(r[0])&&!Array.isArray(r[1]))return r;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function Ne(r){if(Array.isArray(r))return r;if(r.type==="Feature"){if(r.geometry!==null)return r.geometry.coordinates}else if(r.coordinates)return r.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function Rn(r){return r.type==="Feature"?r.geometry:r}function qr(r,a){return r.type==="FeatureCollection"?"FeatureCollection":r.type==="GeometryCollection"?"GeometryCollection":r.type==="Feature"&&r.geometry!==null?r.geometry.type:r.type}function Si(r,a,p){if(r!==null)for(var _,x,A,j,$,H,G,X,ft=0,ut=0,Mt=r.type,Rt=Mt==="FeatureCollection",Zt=Mt==="Feature",re=Rt?r.features.length:1,xe=0;xe<re;xe++){$=(X=!!(G=Rt?r.features[xe].geometry:Zt?r.geometry:r)&&G.type==="GeometryCollection")?G.geometries.length:1;for(var Ut=0;Ut<$;Ut++){var ke=0,Pe=0;if((j=X?G.geometries[Ut]:G)!==null){H=j.coordinates;var Ve=j.type;switch(ft=!p||Ve!=="Polygon"&&Ve!=="MultiPolygon"?0:1,Ve){case null:break;case"Point":if(a(H,ut,xe,ke,Pe)===!1)return!1;ut++,ke++;break;case"LineString":case"MultiPoint":for(_=0;_<H.length;_++){if(a(H[_],ut,xe,ke,Pe)===!1)return!1;ut++,Ve==="MultiPoint"&&ke++}Ve==="LineString"&&ke++;break;case"Polygon":case"MultiLineString":for(_=0;_<H.length;_++){for(x=0;x<H[_].length-ft;x++){if(a(H[_][x],ut,xe,ke,Pe)===!1)return!1;ut++}Ve==="MultiLineString"&&ke++,Ve==="Polygon"&&Pe++}Ve==="Polygon"&&ke++;break;case"MultiPolygon":for(_=0;_<H.length;_++){for(Pe=0,x=0;x<H[_].length;x++){for(A=0;A<H[_][x].length-ft;A++){if(a(H[_][x][A],ut,xe,ke,Pe)===!1)return!1;ut++}Pe++}ke++}break;case"GeometryCollection":for(_=0;_<j.geometries.length;_++)if(Si(j.geometries[_],a,p)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Mr(r,a){if(r.type==="Feature")a(r,0);else if(r.type==="FeatureCollection")for(var p=0;p<r.features.length&&a(r.features[p],p)!==!1;p++);}function Vs(r,a){var p,_,x,A,j,$,H,G,X,ft,ut=0,Mt=r.type==="FeatureCollection",Rt=r.type==="Feature",Zt=Mt?r.features.length:1;for(p=0;p<Zt;p++){for($=Mt?r.features[p].geometry:Rt?r.geometry:r,G=Mt?r.features[p].properties:Rt?r.properties:{},X=Mt?r.features[p].bbox:Rt?r.bbox:void 0,ft=Mt?r.features[p].id:Rt?r.id:void 0,j=(H=!!$&&$.type==="GeometryCollection")?$.geometries.length:1,x=0;x<j;x++)if((A=H?$.geometries[x]:$)!==null)switch(A.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(a(A,ut,G,X,ft)===!1)return!1;break;case"GeometryCollection":for(_=0;_<A.geometries.length;_++)if(a(A.geometries[_],ut,G,X,ft)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(a(null,ut,G,X,ft)===!1)return!1;ut++}}function Ei(r,a){Vs(r,function(p,_,x,A,j){var $,H=p===null?null:p.type;switch(H){case null:case"Point":case"LineString":case"Polygon":return a(nt(p,x,{bbox:A,id:j}),_,0)!==!1&&void 0}switch(H){case"MultiPoint":$="Point";break;case"MultiLineString":$="LineString";break;case"MultiPolygon":$="Polygon"}for(var G=0;G<p.coordinates.length;G++){var X=p.coordinates[G];if(a(nt({type:$,coordinates:X},x),_,G)===!1)return!1}})}D.Line=D.extend({initialize:function(r){this._map=r,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable:function(r){L.Util.setOptions(this,r),this._enabled=!0,this._markers=[],this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.polyline([],Ge(Ge({},this.options.templineStyle),{},{pmIgnore:!1})),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Bt("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._map._container.style.cursor="crosshair",this._map.on("click",this._createVertex,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.on(this.options.finishOn,this._finishShape,this),this.options.finishOn==="dblclick"&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(r){this.enabled()?this.disable():this.enable(r)},_syncHintLine:function(){var r=this._layer.getLatLngs();if(r.length>0){var a=r[r.length-1];this._hintline.setLatLngs([a,this._hintMarker.getLatLng()])}},_syncHintMarker:function(r){if(this._hintMarker.setLatLng(r.latlng),this.options.snappable){var a=r;a.target=this._hintMarker,this._handleSnapping(a)}this.options.allowSelfIntersection||this._handleSelfIntersection(!0,this._hintMarker.getLatLng());var p=this._layer._defaultShape().slice();p.push(this._hintMarker.getLatLng()),this._change(p)},hasSelfIntersection:function(){return ue(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersection:function(r,a){var p=L.polyline(this._layer.getLatLngs());r&&(a||(a=this._hintMarker.getLatLng()),p.addLatLng(a));var _=ue(p.toGeoJSON(15));this._doesSelfIntersect=_.features.length>0,this._doesSelfIntersect?this._hintline.setStyle({color:"#f00000ff"}):this._hintline.isEmpty()||this._hintline.setStyle(this.options.hintlineStyle)},_createVertex:function(r){if(this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,r.latlng),!this._doesSelfIntersect)){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var a=this._hintMarker.getLatLng(),p=this._layer.getLatLngs(),_=p[p.length-1];if(a.equals(p[0])||p.length>0&&a.equals(_))this._finishShape();else{this._layer._latlngInfo=this._layer._latlngInfo||[],this._layer._latlngInfo.push({latlng:a,snapInfo:this._hintMarker._snapInfo}),this._layer.addLatLng(a);var x=this._createMarker(a);this._setTooltipText(),this._setHintLineAfterNewVertex(a),this._fireVertexAdded(x,void 0,a,"Draw"),this._change(this._layer.getLatLngs()),this.options.finishOn==="snap"&&this._hintMarker._snapped&&this._finishShape(r)}}},_setHintLineAfterNewVertex:function(r){this._hintline.setLatLngs([r,r])},_removeLastVertex:function(){var r=this._markers;if(r.length<=1)this.disable();else{var a=this._layer.getLatLngs(),p=r[r.length-1],_=L.PM.Utils.findDeepMarkerIndex(r,p).indexPath;r.pop(),this._layerGroup.removeLayer(p);var x=r[r.length-1],A=a.indexOf(x.getLatLng());a=a.slice(0,A+1),this._layer.setLatLngs(a),this._layer._latlngInfo.pop(),this._syncHintLine(),this._setTooltipText(),this._fireVertexRemoved(p,_,"Draw"),this._change(this._layer.getLatLngs())}},_finishShape:function(){if((this.options.allowSelfIntersection||(this._handleSelfIntersection(!1),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var r=this._layer.getLatLngs();if(!(r.length<=1)){var a=L.polyline(r,this.options.pathOptions);this._setPane(a,"layerPane"),this._finishLayer(a),a.addTo(this._map.pm._getContainingLayer()),this._fireCreate(a),this.options.snappable&&this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()}}},_createMarker:function(r){var a=new L.Marker(r,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._pmTempLayer=!0,this._layerGroup.addLayer(a),this._markers.push(a),a.on("click",this._finishShape,this),a},_setTooltipText:function(){var r="";r=Bt(this._layer.getLatLngs().flat().length<=1?"tooltips.continueLine":"tooltips.finishLine"),this._hintMarker.setTooltipContent(r)},_change:function(r){this._fireChange(r,"Draw")},setStyle:function(){var r,a;(r=this._layer)===null||r===void 0||r.setStyle(this.options.templineStyle),(a=this._hintline)===null||a===void 0||a.setStyle(this.options.hintlineStyle)}}),D.Polygon=D.Line.extend({initialize:function(r){this._map=r,this._shape="Polygon",this.toolbarButtonName="drawPolygon"},enable:function(r){L.PM.Draw.Line.prototype.enable.call(this,r),this._layer.pm._shape="Polygon"},_createMarker:function(r){var a=new L.Marker(r,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._pmTempLayer=!0,this._layerGroup.addLayer(a),this._markers.push(a),this._layer.getLatLngs().flat().length===1?(a.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(a)-1,this.options.snappable&&this._cleanupSnapping()):a.on("click",function(){return 1}),a},_setTooltipText:function(){var r="";r=Bt(this._layer.getLatLngs().flat().length<=2?"tooltips.continueLine":"tooltips.finishPoly"),this._hintMarker.setTooltipContent(r)},_finishShape:function(){if((this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var r=this._layer.getLatLngs();if(!(r.length<=2)){var a=L.polygon(r,this.options.pathOptions);this._setPane(a,"layerPane"),this._finishLayer(a),a.addTo(this._map.pm._getContainingLayer()),this._fireCreate(a),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this.disable(),this.options.continueDrawing&&this.enable()}}}}),D.Rectangle=D.extend({initialize:function(r){this._map=r,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable:function(r){if(L.Util.setOptions(this,r),this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.rectangle([[0,0],[0,0]],this.options.pathOptions),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._startMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-start-marker"}),draggable:!1,zIndexOffset:-100,opacity:this.options.cursorMarker?1:0}),this._setPane(this._startMarker,"vertexPane"),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:150,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Bt("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this.options.cursorMarker){this._styleMarkers=[];for(var a=0;a<2;a+=1){var p=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-style-marker"}),draggable:!1,zIndexOffset:100});this._setPane(p,"vertexPane"),p._pmTempLayer=!0,this._layerGroup.addLayer(p),this._styleMarkers.push(p)}}this._map._container.style.cursor="crosshair",this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(r){this.enabled()?this.disable():this.enable(r)},_placeStartingMarkers:function(r){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var a=this._hintMarker.getLatLng();L.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(a),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach(function(p){L.DomUtil.addClass(p._icon,"visible"),p.setLatLng(a)}),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._hintMarker.setTooltipContent(Bt("tooltips.finishRect")),this._setRectangleOrigin()},_setRectangleOrigin:function(){var r=this._startMarker.getLatLng();r&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([r,r]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker:function(r){if(this._hintMarker.setLatLng(r.latlng),this.options.snappable){var a=r;a.target=this._hintMarker,this._handleSnapping(a)}var p=this._layerGroup&&this._layerGroup.hasLayer(this._layer)?this._layer.getLatLngs():[this._hintMarker.getLatLng()];this._fireChange(p,"Draw")},_syncRectangleSize:function(){var r=this,a=St(this._startMarker.getLatLng(),this._map),p=St(this._hintMarker.getLatLng(),this._map),_=L.PM.Utils._getRotatedRectangle(a,p,this.options.rectangleAngle||0,this._map);if(this._layer.setLatLngs(_),this.options.cursorMarker&&this._styleMarkers){var x=[];_.forEach(function(A){A.equals(a,1e-8)||A.equals(p,1e-8)||x.push(A)}),x.forEach(function(A,j){try{r._styleMarkers[j].setLatLng(A)}catch{}})}},_findCorners:function(){var r=this._layer.getBounds();return[r.getNorthWest(),r.getNorthEast(),r.getSouthEast(),r.getSouthWest()]},_finishShape:function(r){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var a=this._hintMarker.getLatLng(),p=this._startMarker.getLatLng();if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){var _=L.rectangle([p,a],this.options.pathOptions);if(this.options.rectangleAngle){var x=L.PM.Utils._getRotatedRectangle(p,a,this.options.rectangleAngle||0,this._map);_.setLatLngs(x),_.pm&&_.pm._setAngle(this.options.rectangleAngle||0)}this._setPane(_,"layerPane"),this._finishLayer(_),_.addTo(this._map.pm._getContainingLayer()),this._fireCreate(_),this.disable(),this.options.continueDrawing&&this.enable()}},setStyle:function(){var r;(r=this._layer)===null||r===void 0||r.setStyle(this.options.pathOptions)}}),D.Circle=D.extend({initialize:function(r){this._map=r,this._shape="Circle",this.toolbarButtonName="drawCircle"},enable:function(r){L.Util.setOptions(this,r),this.options.radius=0,this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.circle(this._map.getCenter(),cn(cn({},this.options.templineStyle),{},{radius:0})),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Bt("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map._container.style.cursor="crosshair",this._map.on("click",this._placeCenterMarker,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(r){this.enabled()?this.disable():this.enable(r)},_syncHintLine:function(){var r=this._centerMarker.getLatLng(),a=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([r,a])},_syncCircleRadius:function(){var r,a=this._centerMarker.getLatLng(),p=this._hintMarker.getLatLng();r=this._map.options.crs===L.CRS.Simple?this._map.distance(a,p):a.distanceTo(p),this.options.minRadiusCircle&&r<this.options.minRadiusCircle?this._layer.setRadius(this.options.minRadiusCircle):this.options.maxRadiusCircle&&r>this.options.maxRadiusCircle?this._layer.setRadius(this.options.maxRadiusCircle):this._layer.setRadius(r)},_syncHintMarker:function(r){if(this._hintMarker.setLatLng(r.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){var a=r;a.target=this._hintMarker,this._handleSnapping(a)}this._handleHintMarkerSnapping();var p=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(p,"Draw")},_placeCenterMarker:function(r){this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker),this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var a=this._hintMarker.getLatLng();this._layerGroup.addLayer(this._layer),this._centerMarker.setLatLng(a),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter:function(){var r=this._centerMarker.getLatLng();r&&(this._layer.setLatLng(r),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(Bt("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_finishShape:function(r){if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var a,p=this._centerMarker.getLatLng(),_=this._hintMarker.getLatLng();a=this._map.options.crs===L.CRS.Simple?this._map.distance(p,_):p.distanceTo(_),this.options.minRadiusCircle&&a<this.options.minRadiusCircle?a=this.options.minRadiusCircle:this.options.maxRadiusCircle&&a>this.options.maxRadiusCircle&&(a=this.options.maxRadiusCircle);var x=cn(cn({},this.options.pathOptions),{},{radius:a}),A=L.circle(p,x);this._setPane(A,"layerPane"),this._finishLayer(A),A.addTo(this._map.pm._getContainingLayer()),A.pm&&A.pm._updateHiddenPolyCircle(),this._fireCreate(A),this.disable(),this.options.continueDrawing&&this.enable()}},_getNewDestinationOfHintMarker:function(){var r=this._hintMarker.getLatLng();if(!this._layerGroup.hasLayer(this._centerMarker))return r;var a=this._centerMarker.getLatLng(),p=a.distanceTo(r);return this.options.minRadiusCircle&&p<this.options.minRadiusCircle?r=Nt(this._map,a,r,this.options.minRadiusCircle):this.options.maxRadiusCircle&&p>this.options.maxRadiusCircle&&(r=Nt(this._map,a,r,this.options.maxRadiusCircle)),r},_handleHintMarkerSnapping:function(){if(this._hintMarker._snapped){var r=this._centerMarker.getLatLng(),a=this._hintMarker.getLatLng(),p=r.distanceTo(a);this._layerGroup.hasLayer(this._centerMarker)&&(this.options.minRadiusCircle&&p<this.options.minRadiusCircle||this.options.maxRadiusCircle&&p>this.options.maxRadiusCircle)&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng)}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())},setStyle:function(){var r,a;(r=this._layer)===null||r===void 0||r.setStyle(this.options.templineStyle),(a=this._hintline)===null||a===void 0||a.setStyle(this.options.hintlineStyle)}}),D.CircleMarker=D.Marker.extend({initialize:function(r){this._map=r,this._shape="CircleMarker",this.toolbarButtonName="drawCircleMarker",this._layerIsDragging=!1},enable:function(r){var a=this;if(L.Util.setOptions(this,r),this._enabled=!0,this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this.options.editable){var p={};L.extend(p,this.options.templineStyle),p.radius=0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.circleMarker(this._map.getCenter(),p),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Bt("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map.on("click",this._placeCenterMarker,this),this._map._container.style.cursor="crosshair"}else this._map.on("click",this._createMarker,this),this._hintMarker=L.circleMarker(this._map.getCenter(),this.options.templineStyle),this._setPane(this._hintMarker,"layerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this._layer=this._hintMarker,this.options.tooltips&&this._hintMarker.bindTooltip(Bt("tooltips.placeCircleMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip();this._map.on("mousemove",this._syncHintMarker,this),!this.options.editable&&this.options.markerEditable&&this._map.eachLayer(function(_){a.isRelevantMarker(_)&&_.pm.enable()}),this._layer.bringToBack(),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){var r=this;this._enabled&&(this._enabled=!1,this.options.editable?(this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.removeLayer(this._layerGroup)):(this._map.off("click",this._createMarker,this),this._map.eachLayer(function(a){r.isRelevantMarker(a)&&a.pm.disable()}),this._hintMarker.remove()),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},_placeCenterMarker:function(r){this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker),this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var a=this._hintMarker.getLatLng();this._layerGroup.addLayer(this._layer),this._centerMarker.setLatLng(a),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter:function(){var r=this._centerMarker.getLatLng();r&&(this._layer.setLatLng(r),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(Bt("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_syncHintLine:function(){var r=this._centerMarker.getLatLng(),a=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([r,a])},_syncCircleRadius:function(){var r=this._centerMarker.getLatLng(),a=this._hintMarker.getLatLng(),p=this._map.project(r).distanceTo(this._map.project(a));this.options.minRadiusCircleMarker&&p<this.options.minRadiusCircleMarker?this._layer.setRadius(this.options.minRadiusCircleMarker):this.options.maxRadiusCircleMarker&&p>this.options.maxRadiusCircleMarker?this._layer.setRadius(this.options.maxRadiusCircleMarker):this._layer.setRadius(p)},_syncHintMarker:function(r){if(this._hintMarker.setLatLng(r.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){var a=r;a.target=this._hintMarker,this._handleSnapping(a)}this._handleHintMarkerSnapping();var p=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(p,"Draw")},isRelevantMarker:function(r){return r instanceof L.CircleMarker&&!(r instanceof L.Circle)&&r.pm&&!r._pmTempLayer},_createMarker:function(r){if((!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())&&r.latlng&&!this._layerIsDragging){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var a=this._hintMarker.getLatLng(),p=L.circleMarker(a,this.options.pathOptions);this._setPane(p,"layerPane"),this._finishLayer(p),p.addTo(this._map.pm._getContainingLayer()),p.pm&&this.options.markerEditable&&p.pm.enable(),this._fireCreate(p),this._cleanupSnapping(),this.options.continueDrawing||this.disable()}},_finishShape:function(r){if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var a=this._centerMarker.getLatLng(),p=this._hintMarker.getLatLng(),_=this._map.project(a).distanceTo(this._map.project(p));this.options.editable&&(this.options.minRadiusCircleMarker&&_<this.options.minRadiusCircleMarker?_=this.options.minRadiusCircleMarker:this.options.maxRadiusCircleMarker&&_>this.options.maxRadiusCircleMarker&&(_=this.options.maxRadiusCircleMarker));var x=Ln(Ln({},this.options.pathOptions),{},{radius:_}),A=L.circleMarker(a,x);this._setPane(A,"layerPane"),this._finishLayer(A),A.addTo(this._map.pm._getContainingLayer()),A.pm&&A.pm._updateHiddenPolyCircle(),this._fireCreate(A),this.disable(),this.options.continueDrawing&&this.enable()}},_getNewDestinationOfHintMarker:function(){var r=this._hintMarker.getLatLng();if(this.options.editable){if(!this._layerGroup.hasLayer(this._centerMarker))return r;var a=this._centerMarker.getLatLng(),p=this._map.project(a).distanceTo(this._map.project(r));this.options.minRadiusCircleMarker&&p<this.options.minRadiusCircleMarker?r=Nt(this._map,a,r,this._pxRadiusToMeter(this.options.minRadiusCircleMarker)):this.options.maxRadiusCircleMarker&&p>this.options.maxRadiusCircleMarker&&(r=Nt(this._map,a,r,this._pxRadiusToMeter(this.options.maxRadiusCircleMarker)))}return r},_handleHintMarkerSnapping:function(){if(this.options.editable){if(this._hintMarker._snapped){var r=this._centerMarker.getLatLng(),a=this._hintMarker.getLatLng(),p=this._map.project(r).distanceTo(this._map.project(a));this._layerGroup.hasLayer(this._centerMarker)&&(this.options.minRadiusCircleMarker&&p<this.options.minRadiusCircleMarker||this.options.maxRadiusCircleMarker&&p>this.options.maxRadiusCircleMarker)&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng)}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())}},_pxRadiusToMeter:function(r){var a=this._centerMarker.getLatLng(),p=this._map.project(a),_=L.point(p.x+r,p.y);return this._map.unproject(_).distanceTo(a)},setStyle:function(){var r,a,p={};L.extend(p,this.options.templineStyle),this.options.editable&&(p.radius=0),(r=this._layer)===null||r===void 0||r.setStyle(p),(a=this._hintline)===null||a===void 0||a.setStyle(this.options.hintlineStyle)}});const nn=function(r){if(!r)throw new Error("geojson is required");var a=[];return Ei(r,function(p){(function(_,x){var A=[],j=_.geometry;if(j!==null){switch(j.type){case"Polygon":A=Ne(j);break;case"LineString":A=[Ne(j)]}A.forEach(function($){var H=function(G,X){var ft=[];return G.reduce(function(ut,Mt){var Rt,Zt,re,xe,Ut,ke,Pe=Tt([ut,Mt],X);return Pe.bbox=(Zt=Mt,re=(Rt=ut)[0],xe=Rt[1],Ut=Zt[0],ke=Zt[1],[re<Ut?re:Ut,xe<ke?xe:ke,re>Ut?re:Ut,xe>ke?xe:ke]),ft.push(Pe),Mt}),ft}($,_.properties);H.forEach(function(G){G.id=x.length,x.push(G)})})}})(p,a)}),jt(a)};var Ft=c(1787);function Ti(r,a){var p=Ne(r),_=Ne(a);if(p.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(_.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var x=p[0][0],A=p[0][1],j=p[1][0],$=p[1][1],H=_[0][0],G=_[0][1],X=_[1][0],ft=_[1][1],ut=(ft-G)*(j-x)-(X-H)*($-A),Mt=(X-H)*(A-G)-(ft-G)*(x-H),Rt=(j-x)*(A-G)-($-A)*(x-H);if(ut===0)return null;var Zt=Mt/ut,re=Rt/ut;return Zt>=0&&Zt<=1&&re>=0&&re<=1?vt([x+Zt*(j-x),A+Zt*($-A)]):null}const An=function(r,a){var p={},_=[];if(r.type==="LineString"&&(r=nt(r)),a.type==="LineString"&&(a=nt(a)),r.type==="Feature"&&a.type==="Feature"&&r.geometry!==null&&a.geometry!==null&&r.geometry.type==="LineString"&&a.geometry.type==="LineString"&&r.geometry.coordinates.length===2&&a.geometry.coordinates.length===2){var x=Ti(r,a);return x&&_.push(x),jt(_)}var A=Ft();return A.load(nn(a)),Mr(nn(r),function(j){Mr(A.search(j),function($){var H=Ti(j,$);if(H){var G=Ne(H).join(",");p[G]||(p[G]=!0,_.push(H))}})}),jt(_)},Bn=function(r,a,p){p===void 0&&(p={});var _=qe(r),x=qe(a),A=Xt(x[1]-_[1]),j=Xt(x[0]-_[0]),$=Xt(_[1]),H=Xt(x[1]),G=Math.pow(Math.sin(A/2),2)+Math.pow(Math.sin(j/2),2)*Math.cos($)*Math.cos(H);return Wt(2*Math.atan2(Math.sqrt(G),Math.sqrt(1-G)),p.units)},xo=function(r){var a=r[0],p=r[1],_=r[2],x=r[3];if(Bn(r.slice(0,2),[_,p])>=Bn(r.slice(0,2),[a,x])){var A=(p+x)/2;return[a,A-(_-a)/2,_,A+(_-a)/2]}var j=(a+_)/2;return[j-(x-p)/2,p,j+(x-p)/2,x]};function Cr(r){var a=[1/0,1/0,-1/0,-1/0];return Si(r,function(p){a[0]>p[0]&&(a[0]=p[0]),a[1]>p[1]&&(a[1]=p[1]),a[2]<p[0]&&(a[2]=p[0]),a[3]<p[1]&&(a[3]=p[1])}),a}Cr.default=Cr;const ir=Cr,or=function(r,a){a===void 0&&(a={});var p=a.precision,_=a.coordinates,x=a.mutate;if(p=p==null||isNaN(p)?6:p,_=_==null||isNaN(_)?3:_,!r)throw new Error("<geojson> is required");if(typeof p!="number")throw new Error("<precision> must be a number");if(typeof _!="number")throw new Error("<coordinates> must be a number");x!==!1&&x!==void 0||(r=JSON.parse(JSON.stringify(r)));var A=Math.pow(10,p);return Si(r,function(j){(function($,H,G){$.length>G&&$.splice(G,$.length);for(var X=0;X<$.length;X++)$[X]=Math.round($[X]*H)/H})(j,A,_)}),r};function Oi(r,a,p){if(p===void 0&&(p={}),p.final===!0)return function(ft,ut){var Mt=Oi(ut,ft);return Mt=(Mt+180)%360}(r,a);var _=qe(r),x=qe(a),A=Xt(_[0]),j=Xt(x[0]),$=Xt(_[1]),H=Xt(x[1]),G=Math.sin(j-A)*Math.cos(H),X=Math.cos($)*Math.sin(H)-Math.sin($)*Math.cos(H)*Math.cos(j-A);return be(Math.atan2(G,X))}function ko(r,a,p,_){_===void 0&&(_={});var x=qe(r),A=Xt(x[0]),j=Xt(x[1]),$=Xt(p),H=Qt(a,_.units),G=Math.asin(Math.sin(j)*Math.cos(H)+Math.cos(j)*Math.sin(H)*Math.cos($));return vt([be(A+Math.atan2(Math.sin($)*Math.sin(H)*Math.cos(j),Math.cos(H)-Math.sin(j)*Math.sin(G))),be(G)],_.properties)}const $s=function(r,a,p){p===void 0&&(p={});var _=vt([1/0,1/0],{dist:1/0}),x=0;return Ei(r,function(A){for(var j=Ne(A),$=0;$<j.length-1;$++){var H=vt(j[$]);H.properties.dist=Bn(a,H,p);var G=vt(j[$+1]);G.properties.dist=Bn(a,G,p);var X=Bn(H,G,p),ft=Math.max(H.properties.dist,G.properties.dist),ut=Oi(H,G),Mt=ko(a,ft,ut+90,p),Rt=ko(a,ft,ut-90,p),Zt=An(Tt([Mt.geometry.coordinates,Rt.geometry.coordinates]),Tt([H.geometry.coordinates,G.geometry.coordinates])),re=null;Zt.features.length>0&&((re=Zt.features[0]).properties.dist=Bn(a,re,p),re.properties.location=x+Bn(H,re,p)),H.properties.dist<_.properties.dist&&((_=H).properties.index=$,_.properties.location=x),G.properties.dist<_.properties.dist&&((_=G).properties.index=$+1,_.properties.location=x+X),re&&re.properties.dist<_.properties.dist&&((_=re).properties.index=$),x+=X}}),_};function Lo(r,a){var p=[],_=Ft();return Ei(a,function(x){if(p.forEach(function($,H){$.id=H}),p.length){var A=_.search(x);if(A.features.length){var j=Ai(x,A);p=p.filter(function($){return $.id!==j.id}),_.remove(j),Mr(Ri(j,x),function($){p.push($),_.insert($)})}}else(p=Ri(r,x).features).forEach(function($){$.bbox||($.bbox=xo(ir($)))}),_.load(jt(p))}),jt(p)}function Ri(r,a){var p=[],_=Ne(r)[0],x=Ne(r)[r.geometry.coordinates.length-1];if(Bi(_,qe(a))||Bi(x,qe(a)))return jt([r]);var A=Ft(),j=nn(r);A.load(j);var $=A.search(a);if(!$.features.length)return jt([r]);var H=Ai(a,$),G=function(X,ft,ut){var Mt=ut;return Mr(X,function(Rt,Zt){Mt=Zt===0&&ut===void 0?Rt:ft(Mt,Rt,Zt)}),Mt}(j,function(X,ft,ut){var Mt=Ne(ft)[1],Rt=qe(a);return ut===H.id?(X.push(Rt),p.push(Tt(X)),Bi(Rt,Mt)?[Rt]:[Rt,Mt]):(X.push(Mt),X)},[_]);return G.length>1&&p.push(Tt(G)),jt(p)}function Ai(r,a){if(!a.features.length)throw new Error("lines must contain features");if(a.features.length===1)return a.features[0];var p,_=1/0;return Mr(a,function(x){var A=$s(x,r).properties.dist;A<_&&(p=x,_=A)}),p}function Bi(r,a){return r[0]===a[0]&&r[1]===a[1]}const Kr=function(r,a){if(!r)throw new Error("line is required");if(!a)throw new Error("splitter is required");var p=qr(r),_=qr(a);if(p!=="LineString")throw new Error("line must be LineString");if(_==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(_==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var x=or(a,{precision:7});switch(_){case"Point":return Ri(r,x);case"MultiPoint":return Lo(r,x);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return Lo(r,An(r,x))}};function Wr(r,a,p){if(p===void 0&&(p={}),!r)throw new Error("point is required");if(!a)throw new Error("polygon is required");var _=qe(r),x=Rn(a),A=x.type,j=a.bbox,$=x.coordinates;if(j&&function(ut,Mt){return Mt[0]<=ut[0]&&Mt[1]<=ut[1]&&Mt[2]>=ut[0]&&Mt[3]>=ut[1]}(_,j)===!1)return!1;A==="Polygon"&&($=[$]);for(var H=!1,G=0;G<$.length&&!H;G++)if(Mo(_,$[G][0],p.ignoreBoundary)){for(var X=!1,ft=1;ft<$[G].length&&!X;)Mo(_,$[G][ft],!p.ignoreBoundary)&&(X=!0),ft++;X||(H=!0)}return H}function Mo(r,a,p){var _=!1;a[0][0]===a[a.length-1][0]&&a[0][1]===a[a.length-1][1]&&(a=a.slice(0,a.length-1));for(var x=0,A=a.length-1;x<a.length;A=x++){var j=a[x][0],$=a[x][1],H=a[A][0],G=a[A][1];if(r[1]*(j-H)+$*(H-r[0])+G*(r[0]-j)==0&&(j-r[0])*(H-r[0])<=0&&($-r[1])*(G-r[1])<=0)return!p;$>r[1]!=G>r[1]&&r[0]<(H-j)*(r[1]-$)/(G-$)+j&&(_=!_)}return _}function Us(r,a,p,_,x){var A=p[0],j=p[1],$=r[0],H=r[1],G=a[0],X=a[1],ft=G-$,ut=X-H,Mt=(p[0]-$)*ut-(p[1]-H)*ft;if(x!==null){if(Math.abs(Mt)>x)return!1}else if(Mt!==0)return!1;return _?_==="start"?Math.abs(ft)>=Math.abs(ut)?ft>0?$<A&&A<=G:G<=A&&A<$:ut>0?H<j&&j<=X:X<=j&&j<H:_==="end"?Math.abs(ft)>=Math.abs(ut)?ft>0?$<=A&&A<G:G<A&&A<=$:ut>0?H<=j&&j<X:X<j&&j<=H:_==="both"&&(Math.abs(ft)>=Math.abs(ut)?ft>0?$<A&&A<G:G<A&&A<$:ut>0?H<j&&j<X:X<j&&j<H):Math.abs(ft)>=Math.abs(ut)?ft>0?$<=A&&A<=G:G<=A&&A<=$:ut>0?H<=j&&j<=X:X<=j&&j<=H}const Pr=function(r,a,p){p===void 0&&(p={});for(var _=qe(r),x=Ne(a),A=0;A<x.length-1;A++){var j=!1;if(p.ignoreEndVertices&&(A===0&&(j="start"),A===x.length-2&&(j="end"),A===0&&A+1===x.length-1&&(j="both")),Us(x[A],x[A+1],_,j,typeof p.epsilon>"u"?null:p.epsilon))return!0}return!1};function Gs(r,a){var p=Rn(r),_=Rn(a),x=p.type,A=_.type,j=p.coordinates,$=_.coordinates;switch(x){case"Point":if(A==="Point")return Un(j,$);throw new Error("feature2 "+A+" geometry not supported");case"MultiPoint":switch(A){case"Point":return function(H,G){var X,ft=!1;for(X=0;X<H.coordinates.length;X++)if(Un(H.coordinates[X],G.coordinates)){ft=!0;break}return ft}(p,_);case"MultiPoint":return function(H,G){for(var X=0,ft=G.coordinates;X<ft.length;X++){for(var ut=ft[X],Mt=!1,Rt=0,Zt=H.coordinates;Rt<Zt.length;Rt++)if(Un(ut,Zt[Rt])){Mt=!0;break}if(!Mt)return!1}return!0}(p,_);default:throw new Error("feature2 "+A+" geometry not supported")}case"LineString":switch(A){case"Point":return Pr(_,p,{ignoreEndVertices:!0});case"LineString":return function(H,G){for(var X=!1,ft=0,ut=G.coordinates;ft<ut.length;ft++){var Mt=ut[ft];if(Pr({type:"Point",coordinates:Mt},H,{ignoreEndVertices:!0})&&(X=!0),!Pr({type:"Point",coordinates:Mt},H,{ignoreEndVertices:!1}))return!1}return X}(p,_);case"MultiPoint":return function(H,G){for(var X=!1,ft=0,ut=G.coordinates;ft<ut.length;ft++){var Mt=ut[ft];if(Pr(Mt,H,{ignoreEndVertices:!0})&&(X=!0),!Pr(Mt,H))return!1}return!!X}(p,_);default:throw new Error("feature2 "+A+" geometry not supported")}case"Polygon":switch(A){case"Point":return Wr(_,p,{ignoreBoundary:!0});case"LineString":return function(H,G){var X=!1,ft=0,ut=ir(H),Mt=ir(G);if(!Jr(ut,Mt))return!1;for(;ft<G.coordinates.length-1;ft++)if(Wr({type:"Point",coordinates:Co(G.coordinates[ft],G.coordinates[ft+1])},H,{ignoreBoundary:!0})){X=!0;break}return X}(p,_);case"Polygon":return function(H,G){if(H.type==="Feature"&&H.geometry===null||G.type==="Feature"&&G.geometry===null)return!1;var X=ir(H),ft=ir(G);if(!Jr(X,ft))return!1;for(var ut=Rn(G).coordinates,Mt=0,Rt=ut;Mt<Rt.length;Mt++)for(var Zt=0,re=Rt[Mt];Zt<re.length;Zt++)if(!Wr(re[Zt],H))return!1;return!0}(p,_);case"MultiPoint":return function(H,G){for(var X=0,ft=G.coordinates;X<ft.length;X++)if(!Wr(ft[X],H,{ignoreBoundary:!0}))return!1;return!0}(p,_);default:throw new Error("feature2 "+A+" geometry not supported")}default:throw new Error("feature1 "+x+" geometry not supported")}}function Jr(r,a){return!(r[0]>a[0])&&!(r[2]<a[2])&&!(r[1]>a[1])&&!(r[3]<a[3])}function Un(r,a){return r[0]===a[0]&&r[1]===a[1]}function Co(r,a){return[(r[0]+a[0])/2,(r[1]+a[1])/2]}var Po=c(2676),sr=c.n(Po);function he(r){var a={type:"Feature"};return a.geometry=r,a}function Ce(r){return r.type==="Feature"?r.geometry:r}function Sr(r){return r&&r.geometry&&r.geometry.coordinates?r.geometry.coordinates:r}function Gn(r){return he({type:"Polygon",coordinates:r})}function Zn(r){return he({type:"MultiPolygon",coordinates:r})}function Yr(r){return Array.isArray(r)?1+Yr(r[0]):-1}function ne(r){r instanceof L.Polyline&&(r=r.toGeoJSON(15));var a=Sr(r),p=Yr(a),_=[];return p>1?a.forEach(function(x){_.push(function(A){return he({type:"LineString",coordinates:A})}(x))}):_.push(r),_}function Ae(r){var a=[];return r.eachLayer(function(p){a.push(Sr(p.toGeoJSON(15)))}),function(p){return he({type:"MultiLineString",coordinates:p})}(a)}function Ii(r,a){return function(p){if(Array.isArray(p))return p}(r)||function(p,_){var x=p==null?null:typeof Symbol<"u"&&p[Symbol.iterator]||p["@@iterator"];if(x!=null){var A,j,$=[],H=!0,G=!1;try{for(x=x.call(p);!(H=(A=x.next()).done)&&($.push(A.value),!_||$.length!==_);H=!0);}catch(X){G=!0,j=X}finally{try{H||x.return==null||x.return()}finally{if(G)throw j}}return $}}(r,a)||function(p,_){if(p){if(typeof p=="string")return Er(p,_);var x=Object.prototype.toString.call(p).slice(8,-1);if(x==="Object"&&p.constructor&&(x=p.constructor.name),x==="Map"||x==="Set")return Array.from(p);if(x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return Er(p,_)}}(r,a)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Er(r,a){(a==null||a>r.length)&&(a=r.length);for(var p=0,_=new Array(a);p<a;p++)_[p]=r[p];return _}function rn(r){return function(a){if(Array.isArray(a))return Di(a)}(r)||function(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}(r)||function(a,p){if(a){if(typeof a=="string")return Di(a,p);var _=Object.prototype.toString.call(a).slice(8,-1);if(_==="Object"&&a.constructor&&(_=a.constructor.name),_==="Map"||_==="Set")return Array.from(a);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return Di(a,p)}}(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Di(r,a){(a==null||a>r.length)&&(a=r.length);for(var p=0,_=new Array(a);p<a;p++)_[p]=r[p];return _}D.Cut=D.Polygon.extend({initialize:function(r){this._map=r,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_finishShape:function(){var r=this;if(this._editedLayers=[],(this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var a=this._layer.getLatLngs();if(!(a.length<=2)){var p=L.polygon(a,this.options.pathOptions);p._latlngInfos=this._layer._latlngInfo,this.cut(p),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this._editedLayers.forEach(function(_){var x=_.layer,A=_.originalLayer;r._fireCut(A,x,A),r._fireCut(r._map,x,A),A.pm._fireEdit()}),this._editedLayers=[],this.disable(),this.options.continueDrawing&&this.enable()}}},cut:function(r){var a=this,p=this._map._layers,_=r._latlngInfos||[];Object.keys(p).map(function(x){return p[x]}).filter(function(x){return x.pm}).filter(function(x){return!x._pmTempLayer}).filter(function(x){return!L.PM.optIn&&!x.options.pmIgnore||L.PM.optIn&&x.options.pmIgnore===!1}).filter(function(x){return x instanceof L.Polyline}).filter(function(x){return x!==r}).filter(function(x){return x.pm.options.allowCutting}).filter(function(x){return!(a.options.layersToCut&&L.Util.isArray(a.options.layersToCut)&&a.options.layersToCut.length>0)||a.options.layersToCut.indexOf(x)>-1}).filter(function(x){return!a._layerGroup.hasLayer(x)}).filter(function(x){try{var A=!!An(r.toGeoJSON(15),x.toGeoJSON(15)).features.length>0;return A||x instanceof L.Polyline&&!(x instanceof L.Polygon)?A:(j=r.toGeoJSON(15),$=x.toGeoJSON(15),H=Ce(j),G=Ce($),!((X=sr().intersection(H.coordinates,G.coordinates)).length===0||!(X.length===1?Gn(X[0]):Zn(X))))}catch{return x instanceof L.Polygon&&console.error("You can't cut polygons with self-intersections"),!1}var j,$,H,G,X}).forEach(function(x){var A;if(x instanceof L.Polygon){var j=(A=L.polygon(x.getLatLngs())).getLatLngs();_.forEach(function(ut){if(ut&&ut.snapInfo){var Mt=ut.latlng,Rt=a._calcClosestLayer(Mt,[A]);if(Rt&&Rt.segment&&Rt.distance<a.options.snapDistance){var Zt=Rt.segment;if(Zt&&Zt.length===2){var re=L.PM.Utils._getIndexFromSegment(j,Zt),xe=re.indexPath,Ut=re.parentPath,ke=re.newIndex;(xe.length>1?wt()(j,Ut):j).splice(ke,0,Mt)}}}})}else A=x;var $=a._cutLayer(r,A),H=L.geoJSON($,x.options);if(H.getLayers().length===1){var G=H.getLayers();H=Ii(G,1)[0]}a._setPane(H,"layerPane");var X=H.addTo(a._map.pm._getContainingLayer());if(X.pm.enable(x.pm.options),X.pm.disable(),x._pmTempLayer=!0,r._pmTempLayer=!0,x.remove(),x.removeFrom(a._map.pm._getContainingLayer()),r.remove(),r.removeFrom(a._map.pm._getContainingLayer()),X.getLayers&&X.getLayers().length===0&&a._map.pm.removeLayer({target:X}),X instanceof L.LayerGroup&&X.eachLayer(function(ut){a._addDrawnLayerProp(ut)}),a._addDrawnLayerProp(X),a.options.layersToCut&&L.Util.isArray(a.options.layersToCut)&&a.options.layersToCut.length>0){var ft=a.options.layersToCut.indexOf(x);ft>-1&&a.options.layersToCut.splice(ft,1)}a._editedLayers.push({layer:X,originalLayer:x})})},_cutLayer:function(r,a){var p,_,x,A,j,$,H=L.geoJSON();if(a instanceof L.Polygon)_=a.toGeoJSON(15),x=r.toGeoJSON(15),A=Ce(_),j=Ce(x),p=($=sr().difference(A.coordinates,j.coordinates)).length===0?null:$.length===1?Gn($[0]):Zn($);else{var G=ne(a);G.forEach(function(X){var ft=Kr(X,r.toGeoJSON(15));(ft&&ft.features.length>0?L.geoJSON(ft):L.geoJSON(X)).getLayers().forEach(function(ut){Gs(r.toGeoJSON(15),ut.toGeoJSON(15))||ut.addTo(H)})}),p=G.length>1?Ae(H):H.toGeoJSON(15)}return p},_change:L.Util.falseFn}),D.Text=D.extend({initialize:function(r){this._map=r,this._shape="Text",this.toolbarButtonName="drawText"},enable:function(r){L.Util.setOptions(this,r),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Bt("tooltips.placeText"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(r){this.enabled()?this.disable():this.enable(r)},_syncHintMarker:function(r){if(this._hintMarker.setLatLng(r.latlng),this.options.snappable){var a=r;a.target=this._hintMarker,this._handleSnapping(a)}},_createMarker:function(r){var a;if(r.latlng&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var p=this._hintMarker.getLatLng();if(this.textArea=this._createTextArea(),(a=this.options.textOptions)!==null&&a!==void 0&&a.className){var _,x=this.options.textOptions.className.split(" ");(_=this.textArea.classList).add.apply(_,rn(x))}var A=this._createTextIcon(this.textArea),j=new L.Marker(p,{textMarker:!0,_textMarkerOverPM:!0,icon:A});if(this._setPane(j,"markerPane"),this._finishLayer(j),j.pm||(j.options.draggable=!1),j.addTo(this._map.pm._getContainingLayer()),j.pm){var $,H,G,X,ft;j.pm.textArea=this.textArea,L.setOptions(j.pm,{removeIfEmpty:($=(H=this.options.textOptions)===null||H===void 0?void 0:H.removeIfEmpty)===null||$===void 0||$});var ut=(G=(X=this.options.textOptions)===null||X===void 0?void 0:X.focusAfterDraw)===null||G===void 0||G;j.pm._createTextMarker(ut),(ft=this.options.textOptions)!==null&&ft!==void 0&&ft.text&&j.pm.setText(this.options.textOptions.text)}this._fireCreate(j),this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()}},_createTextArea:function(){var r=document.createElement("textarea");return r.autofocus=!0,r.readOnly=!0,r.classList.add("pm-textarea","pm-disabled"),r},_createTextIcon:function(r){return L.divIcon({className:"pm-text-marker",html:r})}});const Xr={enableLayerDrag:function(){if(this.options.draggable&&this._layer._map){this.disable(),this._layerDragEnabled=!0,this._map||(this._map=this._layer._map),(this._layer instanceof L.Marker||this._layer instanceof L.ImageOverlay)&&L.DomEvent.on(this._getDOMElem(),"dragstart",this._stopDOMImageDrag),this._layer.dragging&&this._layer.dragging.disable(),this._tempDragCoord=null,zt(this._layer)instanceof L.Canvas?(this._layer.on("mouseout",this.removeDraggingClass,this),this._layer.on("mouseover",this.addDraggingClass,this)):this.addDraggingClass(),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0;var r=this._getDOMElem();r&&(zt(this._layer)instanceof L.Canvas?(this._layer.on("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._addTouchEvents(r)):L.DomEvent.on(r,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._fireDragEnable()}},disableLayerDrag:function(){this._layerDragEnabled=!1,zt(this._layer)instanceof L.Canvas?(this._layer.off("mouseout",this.removeDraggingClass,this),this._layer.off("mouseover",this.addDraggingClass,this)):this.removeDraggingClass(),this._originalMapDragState&&this._dragging&&this._map.dragging.enable(),this._safeToCacheDragState=!1,this._layer.dragging&&this._layer.dragging.disable();var r=this._getDOMElem();r&&(zt(this._layer)instanceof L.Canvas?(this._layer.off("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._removeTouchEvents(r)):L.DomEvent.off(r,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._layerDragged&&this._fireUpdate(),this._layerDragged=!1,this._fireDragDisable()},dragging:function(){return this._dragging},layerDragEnabled:function(){return!!this._layerDragEnabled},_simulateMouseDownEvent:function(r){var a=r.touches?r.touches[0]:r,p={originalEvent:a,target:this._layer};return p.containerPoint=this._map.mouseEventToContainerPoint(a),p.latlng=this._map.containerPointToLatLng(p.containerPoint),this._dragMixinOnMouseDown(p),!1},_simulateMouseMoveEvent:function(r){var a=r.touches?r.touches[0]:r,p={originalEvent:a,target:this._layer};return p.containerPoint=this._map.mouseEventToContainerPoint(a),p.latlng=this._map.containerPointToLatLng(p.containerPoint),this._dragMixinOnMouseMove(p),!1},_simulateMouseUpEvent:function(r){var a={originalEvent:r.touches?r.touches[0]:r,target:this._layer};return r.type.indexOf("touch")===-1&&(a.containerPoint=this._map.mouseEventToContainerPoint(r),a.latlng=this._map.containerPointToLatLng(a.containerPoint)),this._dragMixinOnMouseUp(a),!1},_dragMixinOnMouseDown:function(r){if(!(r.originalEvent.button>0)){this._overwriteEventIfItComesFromMarker(r);var a=r._fromLayerSync,p=this._syncLayers("_dragMixinOnMouseDown",r);this._layer instanceof L.Marker&&(!this.options.snappable||a||p?this._disableSnapping():this._initSnappableMarkers()),this._layer instanceof L.CircleMarker&&!(this._layer instanceof L.Circle)&&(!this.options.snappable||a||p?this._layer.pm.options.editable?this._layer.pm._disableSnapping():this._layer.pm._disableSnappingDrag():this._layer.pm.options.editable||this._initSnappableMarkersDrag()),this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=r.latlng,L.DomEvent.on(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),L.DomEvent.on(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this)}},_dragMixinOnMouseMove:function(r){this._overwriteEventIfItComesFromMarker(r);var a=this._getDOMElem();this._syncLayers("_dragMixinOnMouseMove",r),this._dragging||(this._dragging=!0,L.DomUtil.addClass(a,"leaflet-pm-dragging"),this._layer instanceof L.Marker||this._layer.bringToFront(),this._originalMapDragState&&this._map.dragging.disable(),this._fireDragStart()),this._tempDragCoord||(this._tempDragCoord=r.latlng),this._onLayerDrag(r),this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle()},_dragMixinOnMouseUp:function(r){var a=this,p=this._getDOMElem();return this._syncLayers("_dragMixinOnMouseUp",r),this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0,L.DomEvent.off(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this),L.DomEvent.off(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),!!this._dragging&&(this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle(),this._layerDragged=!0,window.setTimeout(function(){a._dragging=!1,p&&L.DomUtil.removeClass(p,"leaflet-pm-dragging"),a._fireDragEnd(),a._fireEdit(),a._layerEdited=!0},10),!0)},_onLayerDrag:function(r){var a=r.latlng,p=a.lat-this._tempDragCoord.lat,_=a.lng-this._tempDragCoord.lng,x=function X(ft){return ft.map(function(ut){if(Array.isArray(ut))return X(ut);var Mt={lat:ut.lat+p,lng:ut.lng+_};return(ut.alt||ut.alt===0)&&(Mt.alt=ut.alt),Mt})};if(this._layer instanceof L.Circle||this._layer instanceof L.CircleMarker&&this._layer.options.editable){var A=x([this._layer.getLatLng()]);this._layer.setLatLng(A[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.CircleMarker||this._layer instanceof L.Marker){var j=this._layer.getLatLng();this._layer._snapped&&(j=this._layer._orgLatLng);var $=x([j]);this._layer.setLatLng($[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.ImageOverlay){var H=x([this._layer.getBounds().getNorthWest(),this._layer.getBounds().getSouthEast()]);this._layer.setBounds(H),this._fireChange(this._layer.getBounds(),"Edit")}else{var G=x(this._layer.getLatLngs());this._layer.setLatLngs(G),this._fireChange(this._layer.getLatLngs(),"Edit")}this._tempDragCoord=a,r.layer=this._layer,this._fireDrag(r)},addDraggingClass:function(){var r=this._getDOMElem();r&&L.DomUtil.addClass(r,"leaflet-pm-draggable")},removeDraggingClass:function(){var r=this._getDOMElem();r&&L.DomUtil.removeClass(r,"leaflet-pm-draggable")},_getDOMElem:function(){var r=null;return this._layer._path?r=this._layer._path:this._layer._renderer&&this._layer._renderer._container?r=this._layer._renderer._container:this._layer._image?r=this._layer._image:this._layer._icon&&(r=this._layer._icon),r},_overwriteEventIfItComesFromMarker:function(r){r.target.getLatLng&&(!r.target._radius||r.target._radius<=10)&&(r.containerPoint=this._map.mouseEventToContainerPoint(r.originalEvent),r.latlng=this._map.containerPointToLatLng(r.containerPoint))},_syncLayers:function(r,a){var p=this;if(this.enabled())return!1;if(!a._fromLayerSync&&this._layer===a.target&&this.options.syncLayersOnDrag){a._fromLayerSync=!0;var _=[];if(L.Util.isArray(this.options.syncLayersOnDrag))_=this.options.syncLayersOnDrag,this.options.syncLayersOnDrag.forEach(function(j){j instanceof L.LayerGroup&&(_=_.concat(j.pm.getLayers(!0)))});else if(this.options.syncLayersOnDrag===!0&&this._parentLayerGroup)for(var x in this._parentLayerGroup){var A=this._parentLayerGroup[x];A.pm&&(_=A.pm.getLayers(!0))}return L.Util.isArray(_)&&_.length>0&&(_=_.filter(function(j){return!!j.pm}).filter(function(j){return!!j.pm.options.draggable})).forEach(function(j){j!==p._layer&&j.pm[r]&&(j._snapped=!1,j.pm[r](a))}),_.length>0}return!1},_stopDOMImageDrag:function(r){return r.preventDefault(),!1}};function In(r,a,p){var _=p.getMaxZoom();if(_===1/0&&(_=p.getZoom()),L.Util.isArray(r)){var x=[];return r.forEach(function(A){x.push(In(A,a,p))}),x}return r instanceof L.LatLng?function(A,j,$,H){return $.unproject(j.transform($.project(A,H)),H)}(r,a,p,_):null}function Se(r,a){a instanceof L.Layer&&(a=a.getLatLng());var p=r.getMaxZoom();return p===1/0&&(p=r.getZoom()),r.project(a,p)}function fn(r,a){var p=r.getMaxZoom();return p===1/0&&(p=r.getZoom()),r.unproject(a,p)}var Tr={_onRotateStart:function(r){this._preventRenderingMarkers(!0),this._rotationOriginLatLng=this._getRotationCenter().clone(),this._rotationOriginPoint=Se(this._map,this._rotationOriginLatLng),this._rotationStartPoint=Se(this._map,r.target.getLatLng()),this._initialRotateLatLng=Pt(this._layer),this._startAngle=this.getAngle();var a=Pt(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._fireRotationStart(this._rotationLayer,a),this._fireRotationStart(this._map,a)},_onRotate:function(r){var a=Se(this._map,r.target.getLatLng()),p=this._rotationStartPoint,_=this._rotationOriginPoint,x=Math.atan2(a.y-_.y,a.x-_.x)-Math.atan2(p.y-_.y,p.x-_.x);this._layer.setLatLngs(this._rotateLayer(x,this._initialRotateLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));var A=this;(function G(X){var ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],ut=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(ut>-1&&ft.push(ut),L.Util.isArray(X[0]))X.forEach(function(Rt,Zt){return G(Rt,ft.slice(),Zt)});else{var Mt=wt()(A._markers,ft);X.forEach(function(Rt,Zt){Mt[Zt].setLatLng(Rt)})}})(this._layer.getLatLngs());var j=Pt(this._rotationLayer);this._rotationLayer.setLatLngs(this._rotateLayer(x,this._rotationLayer.pm._rotateOrgLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));var $=180*x/Math.PI,H=($=$<0?$+360:$)+this._startAngle;this._setAngle(H),this._rotationLayer.pm._setAngle(H),this._fireRotation(this._rotationLayer,$,j),this._fireRotation(this._map,$,j),this._rotationLayer.pm._fireChange(this._rotationLayer.getLatLngs(),"Rotation")},_onRotateEnd:function(){var r=this._startAngle;delete this._rotationOriginLatLng,delete this._rotationOriginPoint,delete this._rotationStartPoint,delete this._initialRotateLatLng,delete this._startAngle;var a=Pt(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._rotationLayer.pm._rotateOrgLatLng=Pt(this._rotationLayer),this._fireRotationEnd(this._rotationLayer,r,a),this._fireRotationEnd(this._map,r,a),this._rotationLayer.pm._fireEdit(this._rotationLayer,"Rotation"),this._preventRenderingMarkers(!1),this._layerRotated=!0},_rotateLayer:function(r,a,p,_,x){var A=Se(x,p);return this._matrix=_.clone().rotate(r,A).flip(),In(a,this._matrix,x)},_setAngle:function(r){r=r<0?r+360:r,this._angle=r%360},_getRotationCenter:function(){var r=L.polygon(this._layer.getLatLngs(),{stroke:!1,fill:!1,pmIgnore:!0}).addTo(this._layer._map),a=r.getCenter();return r.removeFrom(this._layer._map),a},enableRotate:function(){this.options.allowRotation?(this.rotateEnabled()&&this.disableRotate(),this._rotatePoly=L.polygon(this._layer.getLatLngs(),{fill:!1,stroke:!1,pmIgnore:!1,snapIgnore:!0}),this._rotatePoly._pmTempLayer=!0,this._rotatePoly.addTo(this._layer._map),this._rotatePoly.pm._setAngle(this.getAngle()),this._rotatePoly.pm.setOptions(this._layer._map.pm.getGlobalOptions()),this._rotatePoly.pm.setOptions({rotate:!0,snappable:!1,hideMiddleMarkers:!0}),this._rotatePoly.pm._rotationLayer=this._layer,this._rotatePoly.pm.enable(),this._rotateOrgLatLng=Pt(this._layer),this._rotateEnabled=!0,this._layer.on("remove",this.disableRotate,this),this._fireRotationEnable(this._layer),this._fireRotationEnable(this._layer._map)):this.disableRotate()},disableRotate:function(){this.rotateEnabled()&&(this._rotatePoly.pm._layerRotated&&this._fireUpdate(),this._rotatePoly.pm._layerRotated=!1,this._rotatePoly.pm.disable(),this._rotatePoly.remove(),this._rotatePoly.pm.setOptions({rotate:!1}),this._rotatePoly=void 0,this._rotateOrgLatLng=void 0,this._layer.off("remove",this.disableRotate,this),this._rotateEnabled=!1,this._fireRotationDisable(this._layer),this._fireRotationDisable(this._layer._map))},rotateEnabled:function(){return this._rotateEnabled},rotateLayer:function(r){var a=this.getAngle(),p=this._layer.getLatLngs(),_=r*(Math.PI/180);this._layer.setLatLngs(this._rotateLayer(_,this._layer.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._layer._map)),this._rotateOrgLatLng=L.polygon(this._layer.getLatLngs()).getLatLngs(),this._setAngle(this.getAngle()+r),this.rotateEnabled()&&this._rotatePoly&&this._rotatePoly.pm.enabled()&&(this._rotatePoly.setLatLngs(this._rotateLayer(_,this._rotatePoly.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._rotatePoly._map)),this._rotatePoly.pm._initMarkers());var x=this.getAngle()-a;x=x<0?x+360:x,this._startAngle=a,this._fireRotation(this._layer,x,p,this._layer),this._fireRotation(this._map||this._layer._map,x,p,this._layer),delete this._startAngle,this._fireChange(this._layer.getLatLngs(),"Rotation")},rotateLayerToAngle:function(r){var a=r-this.getAngle();this.rotateLayer(a)},getAngle:function(){return this._angle||0},setInitAngle:function(r){this._setAngle(r)}};const Or=Tr,Be=L.Class.extend({includes:[Xr,T,Or,Et],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,allowSelfIntersectionEdit:!1,preventMarkerRemoval:!1,removeLayerBelowMinVertexCount:!0,limitMarkersToCount:-1,hideMiddleMarkers:!1,snapSegment:!0,syncLayersOnDrag:!1,draggable:!0,allowEditing:!0,allowRemoval:!0,allowCutting:!0,allowRotation:!0,addVertexOn:"click",removeVertexOn:"contextmenu",removeVertexValidation:void 0,addVertexValidation:void 0,moveVertexValidation:void 0},setOptions:function(r){L.Util.setOptions(this,r)},getOptions:function(){return this.options},applyOptions:function(){},isPolygon:function(){return this._layer instanceof L.Polygon},getShape:function(){return this._shape},_setPane:function(r,a){a==="layerPane"?r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":a==="vertexPane"?r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":a==="markerPane"&&(r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},remove:function(){(this._map||this._layer._map).pm.removeLayer({target:this._layer})},_vertexValidation:function(r,a){var p=a.target,_={layer:this._layer,marker:p,event:a},x="";return r==="move"?x="moveVertexValidation":r==="add"?x="addVertexValidation":r==="remove"&&(x="removeVertexValidation"),this.options[x]&&typeof this.options[x]=="function"&&!this.options[x](_)?(r==="move"&&(p._cancelDragEventChain=p.getLatLng()),!1):(p._cancelDragEventChain=null,!0)},_vertexValidationDrag:function(r){return!r._cancelDragEventChain||(r._latlng=r._cancelDragEventChain,r.update(),!1)},_vertexValidationDragEnd:function(r){return!r._cancelDragEventChain||(r._cancelDragEventChain=null,!1)}});function Dn(r){return function(a){if(Array.isArray(a))return Rr(a)}(r)||function(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}(r)||function(a,p){if(a){if(typeof a=="string")return Rr(a,p);var _=Object.prototype.toString.call(a).slice(8,-1);if(_==="Object"&&a.constructor&&(_=a.constructor.name),_==="Map"||_==="Set")return Array.from(a);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return Rr(a,p)}}(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Rr(r,a){(a==null||a>r.length)&&(a=r.length);for(var p=0,_=new Array(a);p<a;p++)_[p]=r[p];return _}Be.LayerGroup=L.Class.extend({initialize:function(r){var a=this;this._layerGroup=r,this._layers=this.getLayers(),this._getMap(),this._layers.forEach(function(p){return a._initLayer(p)}),this._layerGroup.on("layeradd",L.Util.throttle(function(p){if(!p.layer._pmTempLayer){a._layers=a.getLayers();var _=a._layers.filter(function(x){return!x.pm._parentLayerGroup||!(a._layerGroup._leaflet_id in x.pm._parentLayerGroup)});_.forEach(function(x){a._initLayer(x)}),_.length>0&&a._getMap()&&a._getMap().pm.globalEditModeEnabled()&&a.enabled()&&a.enable(a.getOptions())}},100,this),this),this._layerGroup.on("layerremove",function(p){a._removeLayerFromGroup(p.target)},this),this._layerGroup.on("layerremove",L.Util.throttle(function(p){p.target._pmTempLayer||(a._layers=a.getLayers())},100,this),this)},enable:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];a.length===0&&(this._layers=this.getLayers()),this._options=r,this._layers.forEach(function(p){p instanceof L.LayerGroup?a.indexOf(p._leaflet_id)===-1&&(a.push(p._leaflet_id),p.pm.enable(r,a)):p.pm.enable(r)})},disable:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];r.length===0&&(this._layers=this.getLayers()),this._layers.forEach(function(a){a instanceof L.LayerGroup?r.indexOf(a._leaflet_id)===-1&&(r.push(a._leaflet_id),a.pm.disable(r)):a.pm.disable()})},enabled:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];r.length===0&&(this._layers=this.getLayers());var a=this._layers.find(function(p){return p instanceof L.LayerGroup?r.indexOf(p._leaflet_id)===-1&&(r.push(p._leaflet_id),p.pm.enabled(r)):p.pm.enabled()});return!!a},toggleEdit:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];a.length===0&&(this._layers=this.getLayers()),this._options=r,this._layers.forEach(function(p){p instanceof L.LayerGroup?a.indexOf(p._leaflet_id)===-1&&(a.push(p._leaflet_id),p.pm.toggleEdit(r,a)):p.pm.toggleEdit(r)})},_initLayer:function(r){var a=L.Util.stamp(this._layerGroup);r.pm._parentLayerGroup||(r.pm._parentLayerGroup={}),r.pm._parentLayerGroup[a]=this._layerGroup},_removeLayerFromGroup:function(r){if(r.pm&&r.pm._layerGroup){var a=L.Util.stamp(this._layerGroup);delete r.pm._layerGroup[a]}},dragging:function(){if(this._layers=this.getLayers(),this._layers){var r=this._layers.find(function(a){return a.pm.dragging()});return!!r}return!1},getOptions:function(){return this.options},_getMap:function(){var r;return this._map||((r=this._layers.find(function(a){return!!a._map}))===null||r===void 0?void 0:r._map)||null},getLayers:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],a=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],p=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],x=[];return r?this._layerGroup.getLayers().forEach(function(A){x.push(A),A instanceof L.LayerGroup&&_.indexOf(A._leaflet_id)===-1&&(_.push(A._leaflet_id),x=x.concat(A.pm.getLayers(!0,!0,!0,_)))}):x=this._layerGroup.getLayers(),p&&(x=x.filter(function(A){return!(A instanceof L.LayerGroup)})),a&&(x=(x=(x=x.filter(function(A){return!!A.pm})).filter(function(A){return!A._pmTempLayer})).filter(function(A){return!L.PM.optIn&&!A.options.pmIgnore||L.PM.optIn&&A.options.pmIgnore===!1})),x},setOptions:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];a.length===0&&(this._layers=this.getLayers()),this.options=r,this._layers.forEach(function(p){p.pm&&(p instanceof L.LayerGroup?a.indexOf(p._leaflet_id)===-1&&(a.push(p._leaflet_id),p.pm.setOptions(r,a)):p.pm.setOptions(r))})}}),Be.Marker=Be.extend({_shape:"Marker",initialize:function(r){this._layer=r,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},enable:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0};L.Util.setOptions(this,r),this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._fireEnable()):this.disable()},disable:function(){this.enabled()&&(this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this._layer.off("contextmenu",this._removeMarker,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1)},enabled:function(){return this._enabled},toggleEdit:function(r){this.enabled()?this.disable():this.enable(r)},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_removeMarker:function(r){var a=r.target;a.remove(),this._fireRemove(a),this._fireRemove(this._map,a)},_onDragEnd:function(){this._fireEdit(),this._layerEdited=!0},_initSnappableMarkers:function(){var r=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,r.off("pm:drag",this._handleSnapping,this),r.on("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.on("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this),r.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){var r=this._layer;r.off("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this)}});const zi={filterMarkerGroup:function(){this.markerCache=[],this.createCache(),this._layer.on("pm:edit",this.createCache,this),this.applyLimitFilters({}),this.throttledApplyLimitFilters||(this.throttledApplyLimitFilters=L.Util.throttle(this.applyLimitFilters,100,this)),this._layer.on("pm:disable",this._removeMarkerLimitEvents,this),this.options.limitMarkersToCount>-1&&(this._layer.on("pm:vertexremoved",this._initMarkers,this),this._map.on("mousemove",this.throttledApplyLimitFilters,this))},_removeMarkerLimitEvents:function(){this._map.off("mousemove",this.throttledApplyLimitFilters,this),this._layer.off("pm:edit",this.createCache,this),this._layer.off("pm:disable",this._removeMarkerLimitEvents,this),this._layer.off("pm:vertexremoved",this._initMarkers,this)},createCache:function(){var r=[].concat(Dn(this._markerGroup.getLayers()),Dn(this.markerCache));this.markerCache=r.filter(function(a,p,_){return _.indexOf(a)===p})},renderLimits:function(r){var a=this;this.markerCache.forEach(function(p){r.includes(p)?a._markerGroup.addLayer(p):a._markerGroup.removeLayer(p)})},applyLimitFilters:function(r){var a=r.latlng,p=a===void 0?{lat:0,lng:0}:a;if(!this._preventRenderMarkers){var _=Dn(this._filterClosestMarkers(p));this.renderLimits(_)}},_filterClosestMarkers:function(r){var a=Dn(this.markerCache),p=this.options.limitMarkersToCount;return p===-1?a:(a.sort(function(_,x){return _._latlng.distanceTo(r)-x._latlng.distanceTo(r)}),a.filter(function(_,x){return!(p>-1)||x<p}))},_preventRenderMarkers:!1,_preventRenderingMarkers:function(r){this._preventRenderMarkers=!!r}};function Qr(r,a){return function(p){if(Array.isArray(p))return p}(r)||function(p,_){var x=p==null?null:typeof Symbol<"u"&&p[Symbol.iterator]||p["@@iterator"];if(x!=null){var A,j,$=[],H=!0,G=!1;try{for(x=x.call(p);!(H=(A=x.next()).done)&&($.push(A.value),!_||$.length!==_);H=!0);}catch(X){G=!0,j=X}finally{try{H||x.return==null||x.return()}finally{if(G)throw j}}return $}}(r,a)||function(p,_){if(p){if(typeof p=="string")return ti(p,_);var x=Object.prototype.toString.call(p).slice(8,-1);if(x==="Object"&&p.constructor&&(x=p.constructor.name),x==="Map"||x==="Set")return Array.from(p);if(x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return ti(p,_)}}(r,a)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ti(r,a){(a==null||a>r.length)&&(a=r.length);for(var p=0,_=new Array(a);p<a;p++)_[p]=r[p];return _}function ji(r){return function(a){if(Array.isArray(a))return ar(a)}(r)||function(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}(r)||function(a,p){if(a){if(typeof a=="string")return ar(a,p);var _=Object.prototype.toString.call(a).slice(8,-1);if(_==="Object"&&a.constructor&&(_=a.constructor.name),_==="Map"||_==="Set")return Array.from(a);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return ar(a,p)}}(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ar(r,a){(a==null||a>r.length)&&(a=r.length);for(var p=0,_=new Array(a);p<a;p++)_[p]=r[p];return _}Be.Line=Be.extend({includes:[zi],_shape:"Line",initialize:function(r){this._layer=r,this._enabled=!1},enable:function(r){L.Util.setOptions(this,r),this._map=this._layer._map,this._map&&(this.options.allowEditing?(this.enabled()&&this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.options.allowSelfIntersection?this.cachedColor=void 0:(this._layer.options.color!=="#f00000ff"?(this.cachedColor=this._layer.options.color,this.isRed=!1):this.isRed=!0,this._handleLayerStyle()),this._fireEnable()):this.disable())},disable:function(){if(this.enabled()&&!this._dragging){this._enabled=!1,this._markerGroup.clearLayers(),this._markerGroup.removeFrom(this._map),this._layer.off("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this);var r=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(r,"leaflet-pm-draggable"),this._map.hasLayer(this._layer)&&!this.hasSelfIntersection()||L.DomUtil.removeClass(r,"leaflet-pm-invalid"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()}},enabled:function(){return this._enabled},toggleEdit:function(r){return this.enabled()?this.disable():this.enable(r),this.enabled()},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initMarkers:function(){var r=this,a=this._map,p=this._layer.getLatLngs();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,this._markers=function _(x){if(Array.isArray(x[0]))return x.map(_,r);var A=x.map(r._createMarker,r);return r.options.hideMiddleMarkers!==!0&&x.map(function(j,$){var H=r.isPolygon()?($+1)%x.length:$+1;return r._createMiddleMarker(A[$],A[H])}),A}(p),this.filterMarkerGroup(),a.addLayer(this._markerGroup)},_createMarker:function(r){var a=new L.Marker(r,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._pmTempLayer=!0,this.options.rotate?(a.on("dragstart",this._onRotateStart,this),a.on("drag",this._onRotate,this),a.on("dragend",this._onRotateEnd,this)):(a.on("click",this._onVertexClick,this),a.on("dragstart",this._onMarkerDragStart,this),a.on("move",this._onMarkerDrag,this),a.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||a.on(this.options.removeVertexOn,this._removeMarker,this)),this._markerGroup.addLayer(a),a},_createMiddleMarker:function(r,a){if(!r||!a)return!1;var p=L.PM.Utils.calcMiddleLatLng(this._map,r.getLatLng(),a.getLatLng()),_=this._createMarker(p),x=L.divIcon({className:"marker-icon marker-icon-middle"});return _.setIcon(x),_.leftM=r,_.rightM=a,r._middleMarkerNext=_,a._middleMarkerPrev=_,_.on(this.options.addVertexOn,this._onMiddleMarkerClick,this),_.on("movestart",this._onMiddleMarkerMoveStart,this),_},_onMiddleMarkerClick:function(r){var a=r.target;if(this._vertexValidation("add",r)){var p=L.divIcon({className:"marker-icon"});a.setIcon(p),this._addMarker(a,a.leftM,a.rightM)}},_onMiddleMarkerMoveStart:function(r){var a=r.target;a.on("moveend",this._onMiddleMarkerMoveEnd,this),this._vertexValidation("add",r)?(a._dragging=!0,this._addMarker(a,a.leftM,a.rightM)):a.on("move",this._onMiddleMarkerMovePrevent,this)},_onMiddleMarkerMovePrevent:function(r){var a=r.target;this._vertexValidationDrag(a)},_onMiddleMarkerMoveEnd:function(r){var a=r.target;if(a.off("move",this._onMiddleMarkerMovePrevent,this),a.off("moveend",this._onMiddleMarkerMoveEnd,this),this._vertexValidationDragEnd(a)){var p=L.divIcon({className:"marker-icon"});a.setIcon(p),setTimeout(function(){delete a._dragging},100)}},_addMarker:function(r,a,p){r.off("movestart",this._onMiddleMarkerMoveStart,this),r.off(this.options.addVertexOn,this._onMiddleMarkerClick,this);var _=r.getLatLng(),x=this._layer._latlngs;delete r.leftM,delete r.rightM;var A=L.PM.Utils.findDeepMarkerIndex(this._markers,a),j=A.indexPath,$=A.index,H=A.parentPath,G=j.length>1?wt()(x,H):x,X=j.length>1?wt()(this._markers,H):this._markers;G.splice($+1,0,_),X.splice($+1,0,r),this._layer.setLatLngs(x),this.options.hideMiddleMarkers!==!0&&(this._createMiddleMarker(a,r),this._createMiddleMarker(r,p)),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"),this._fireVertexAdded(r,L.PM.Utils.findDeepMarkerIndex(this._markers,r).indexPath,_),this.options.snappable&&this._initSnappableMarkers()},hasSelfIntersection:function(){return ue(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersectionOnVertexRemoval:function(){this._handleLayerStyle(!0),this.hasSelfIntersection()&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle:function(r){var a=this._layer;if(this.hasSelfIntersection()){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!0),this.isRed)return;r?this._flashLayer():(a.setStyle({color:"#f00000ff"}),this.isRed=!0),this._fireIntersect(ue(this._layer.toGeoJSON(15)))}else a.setStyle({color:this.cachedColor}),this.isRed=!1,!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!1)},_flashLayer:function(){var r=this;this.cachedColor||(this.cachedColor=this._layer.options.color),this._layer.setStyle({color:"#f00000ff"}),this.isRed=!0,window.setTimeout(function(){r._layer.setStyle({color:r.cachedColor}),r.isRed=!1},200)},_updateDisabledMarkerStyle:function(r,a){var p=this;r.forEach(function(_){Array.isArray(_)?p._updateDisabledMarkerStyle(_,a):_._icon&&(a&&!p._checkMarkerAllowedToDrag(_)?L.DomUtil.addClass(_._icon,"vertexmarker-disabled"):L.DomUtil.removeClass(_._icon,"vertexmarker-disabled"))})},_removeMarker:function(r){var a=r.target;if(this._vertexValidation("remove",r)){this.options.allowSelfIntersection||(this._coordsBeforeEdit=Pt(this._layer,this._layer.getLatLngs()));var p=this._layer.getLatLngs(),_=L.PM.Utils.findDeepMarkerIndex(this._markers,a),x=_.indexPath,A=_.index,j=_.parentPath;if(x){var $=x.length>1?wt()(p,j):p,H=x.length>1?wt()(this._markers,j):this._markers;if(this.options.removeLayerBelowMinVertexCount||!($.length<=2||this.isPolygon()&&$.length<=3)){$.splice(A,1),this._layer.setLatLngs(p),this.isPolygon()&&$.length<=2&&$.splice(0,$.length);var G=!1;if($.length<=1&&($.splice(0,$.length),j.length>1&&x.length>1&&(p=Me(p)),this._layer.setLatLngs(p),this._initMarkers(),G=!0),$t(p)||this._layer.remove(),p=Me(p),this._layer.setLatLngs(p),this._markers=Me(this._markers),!G&&(H=x.length>1?wt()(this._markers,j):this._markers,a._middleMarkerPrev&&this._markerGroup.removeLayer(a._middleMarkerPrev),a._middleMarkerNext&&this._markerGroup.removeLayer(a._middleMarkerNext),this._markerGroup.removeLayer(a),H)){var X,ft;if(this.isPolygon()?(X=(A+1)%H.length,ft=(A+(H.length-1))%H.length):(ft=A-1<0?void 0:A-1,X=A+1>=H.length?void 0:A+1),X!==ft){var ut=H[ft],Mt=H[X];this.options.hideMiddleMarkers!==!0&&this._createMiddleMarker(ut,Mt)}H.splice(A,1)}this._fireEdit(),this._layerEdited=!0,this._fireVertexRemoved(a,x),this._fireChange(this._layer.getLatLngs(),"Edit")}else this._flashLayer()}}},updatePolygonCoordsFromMarkerDrag:function(r){var a=this._layer.getLatLngs(),p=r.getLatLng(),_=L.PM.Utils.findDeepMarkerIndex(this._markers,r),x=_.indexPath,A=_.index,j=_.parentPath;(x.length>1?wt()(a,j):a).splice(A,1,p),this._layer.setLatLngs(a)},_getNeighborMarkers:function(r){var a=L.PM.Utils.findDeepMarkerIndex(this._markers,r),p=a.indexPath,_=a.index,x=a.parentPath,A=p.length>1?wt()(this._markers,x):this._markers,j=(_+1)%A.length;return{prevMarker:A[(_+(A.length-1))%A.length],nextMarker:A[j]}},_checkMarkerAllowedToDrag:function(r){var a=this._getNeighborMarkers(r),p=a.prevMarker,_=a.nextMarker,x=L.polyline([p.getLatLng(),r.getLatLng()]),A=L.polyline([r.getLatLng(),_.getLatLng()]),j=An(this._layer.toGeoJSON(15),x.toGeoJSON(15)).features.length,$=An(this._layer.toGeoJSON(15),A.toGeoJSON(15)).features.length;return r.getLatLng()===this._markers[0][0].getLatLng()?$+=1:r.getLatLng()===this._markers[0][this._markers[0].length-1].getLatLng()&&(j+=1),!(j<=2&&$<=2)},_onMarkerDragStart:function(r){var a=r.target;if(this.cachedColor||(this.cachedColor=this._layer.options.color),this._vertexValidation("move",r)){var p=L.PM.Utils.findDeepMarkerIndex(this._markers,a).indexPath;this._fireMarkerDragStart(r,p),this.options.allowSelfIntersection||(this._coordsBeforeEdit=Pt(this._layer,this._layer.getLatLngs())),!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()?this._markerAllowedToDrag=this._checkMarkerAllowedToDrag(a):this._markerAllowedToDrag=null}},_onMarkerDrag:function(r){var a=r.target;if(this._vertexValidationDrag(a)){var p=L.PM.Utils.findDeepMarkerIndex(this._markers,a),_=p.indexPath,x=p.index,A=p.parentPath;if(_){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()&&this._markerAllowedToDrag===!1)return this._layer.setLatLngs(this._coordsBeforeEdit),this._initMarkers(),void this._handleLayerStyle();this.updatePolygonCoordsFromMarkerDrag(a);var j=_.length>1?wt()(this._markers,A):this._markers,$=(x+1)%j.length,H=(x+(j.length-1))%j.length,G=a.getLatLng(),X=j[H].getLatLng(),ft=j[$].getLatLng();if(a._middleMarkerNext){var ut=L.PM.Utils.calcMiddleLatLng(this._map,G,ft);a._middleMarkerNext.setLatLng(ut)}if(a._middleMarkerPrev){var Mt=L.PM.Utils.calcMiddleLatLng(this._map,G,X);a._middleMarkerPrev.setLatLng(Mt)}this.options.allowSelfIntersection||this._handleLayerStyle(),this._fireMarkerDrag(r,_),this._fireChange(this._layer.getLatLngs(),"Edit")}}},_onMarkerDragEnd:function(r){var a=r.target;if(this._vertexValidationDragEnd(a)){var p=L.PM.Utils.findDeepMarkerIndex(this._markers,a).indexPath,_=this.hasSelfIntersection();_&&this.options.allowSelfIntersectionEdit&&this._markerAllowedToDrag&&(_=!1);var x=!this.options.allowSelfIntersection&&_;if(this._fireMarkerDragEnd(r,p,x),x)return this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),this.options.snappable&&this._initSnappableMarkers(),this._handleLayerStyle(),void this._fireLayerReset(r,p);!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._handleLayerStyle(),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")}},_onVertexClick:function(r){var a=r.target;if(!a._dragging){var p=L.PM.Utils.findDeepMarkerIndex(this._markers,a).indexPath;this._fireVertexClick(r,p)}}}),Be.Polygon=Be.Line.extend({_shape:"Polygon",_checkMarkerAllowedToDrag:function(r){var a=this._getNeighborMarkers(r),p=a.prevMarker,_=a.nextMarker,x=L.polyline([p.getLatLng(),r.getLatLng()]),A=L.polyline([r.getLatLng(),_.getLatLng()]),j=An(this._layer.toGeoJSON(15),x.toGeoJSON(15)).features.length,$=An(this._layer.toGeoJSON(15),A.toGeoJSON(15)).features.length;return!(j<=2&&$<=2)}}),Be.Rectangle=Be.Polygon.extend({_shape:"Rectangle",_initMarkers:function(){var r=this,a=this._map,p=this._findCorners();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,a.addLayer(this._markerGroup),this._markers=[],this._markers[0]=p.map(this._createMarker,this);var _=Qr(this._markers,1);this._cornerMarkers=_[0],this._layer.getLatLngs()[0].forEach(function(x,A){var j=r._cornerMarkers.find(function($){return $._index===A});j&&j.setLatLng(x)})},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this._addMarkerEvents()},_createMarker:function(r,a){var p=new L.Marker(r,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(p,"vertexPane"),p._origLatLng=r,p._index=a,p._pmTempLayer=!0,this._markerGroup.addLayer(p),p},_addMarkerEvents:function(){var r=this;this._markers[0].forEach(function(a){a.on("dragstart",r._onMarkerDragStart,r),a.on("drag",r._onMarkerDrag,r),a.on("dragend",r._onMarkerDragEnd,r),r.options.preventMarkerRemoval||a.on("contextmenu",r._removeMarker,r)})},_removeMarker:function(){return null},_onMarkerDragStart:function(r){if(this._vertexValidation("move",r)){var a=r.target,p=this._cornerMarkers;a._oppositeCornerLatLng=p.find(function(_){return _._index===(a._index+2)%4}).getLatLng(),a._snapped=!1,this._fireMarkerDragStart(r)}},_onMarkerDrag:function(r){var a=r.target;this._vertexValidationDrag(a)&&a._index!==void 0&&(this._adjustRectangleForMarkerMove(a),this._fireMarkerDrag(r),this._fireChange(this._layer.getLatLngs(),"Edit"))},_onMarkerDragEnd:function(r){var a=r.target;this._vertexValidationDragEnd(a)&&(this._cornerMarkers.forEach(function(p){delete p._oppositeCornerLatLng}),this._fireMarkerDragEnd(r),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"))},_adjustRectangleForMarkerMove:function(r){L.extend(r._origLatLng,r._latlng);var a=L.PM.Utils._getRotatedRectangle(r.getLatLng(),r._oppositeCornerLatLng,this._angle||0,this._map);this._layer.setLatLngs(a),this._adjustAllMarkers(),this._layer.redraw()},_adjustAllMarkers:function(){var r=this,a=this._layer.getLatLngs()[0];a&&a.length!==4&&a.length>0?(a.forEach(function(p,_){r._cornerMarkers[_].setLatLng(p)}),this._cornerMarkers.slice(a.length).forEach(function(p){p.setLatLng(a[0])})):a&&a.length?this._cornerMarkers.forEach(function(p){p.setLatLng(a[p._index])}):console.error("The layer has no LatLngs")},_findCorners:function(){var r=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(r[0],r[2],this._angle||0,this._map)}}),Be.Circle=Be.extend({_shape:"Circle",initialize:function(r){this._layer=r,this._enabled=!1,this._updateHiddenPolyCircle()},enable:function(r){L.Util.setOptions(this,r),this._map=this._layer._map,this.options.allowEditing?(this.enabled()||this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._updateHiddenPolyCircle(),this._fireEnable()):this.disable()},disable:function(){if(this.enabled()&&!this._dragging){this._centerMarker.off("dragstart",this._onCircleDragStart,this),this._centerMarker.off("drag",this._onCircleDrag,this),this._centerMarker.off("dragend",this._onCircleDragEnd,this),this._outerMarker.off("drag",this._handleOuterMarkerSnapping,this),this._layer.off("remove",this.disable,this),this._enabled=!1,this._helperLayers.clearLayers();var r=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(r,"leaflet-pm-draggable"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()}},enabled:function(){return this._enabled},toggleEdit:function(r){this.enabled()?this.disable():this.enable(r)},_initMarkers:function(){var r=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(r);var a=this._layer.getLatLng(),p=this._layer._radius,_=this._getLatLngOnCircle(a,p);this._centerMarker=this._createCenterMarker(a),this._outerMarker=this._createOuterMarker(_),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},applyOptions:function(){this.options.snappable?(this._initSnappableMarkers(),this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this),this._centerMarker.on("move",this._moveCircle,this)):this._disableSnapping()},_createHintLine:function(r,a){var p=r.getLatLng(),_=a.getLatLng();this._hintline=L.polyline([p,_],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker:function(r){var a=this._createMarker(r);return L.DomUtil.addClass(a._icon,"leaflet-pm-draggable"),a.on("drag",this._moveCircle,this),a.on("dragstart",this._onCircleDragStart,this),a.on("drag",this._onCircleDrag,this),a.on("dragend",this._onCircleDragEnd,this),a},_createOuterMarker:function(r){var a=this._createMarker(r);return a.on("drag",this._resizeCircle,this),a},_createMarker:function(r){var a=new L.Marker(r,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._origLatLng=r,a._pmTempLayer=!0,a.on("dragstart",this._onMarkerDragStart,this),a.on("drag",this._onMarkerDrag,this),a.on("dragend",this._onMarkerDragEnd,this),this._helperLayers.addLayer(a),a},_resizeCircle:function(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_moveCircle:function(r){if(!r.target._cancelDragEventChain){var a=r.latlng;this._layer.setLatLng(a);var p=this._layer._radius,_=this._getLatLngOnCircle(a,p);this._outerMarker._latlng=_,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")}},_syncCircleRadius:function(){var r=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng(),p=this._map.distance(r,a);this.options.minRadiusCircle&&p<this.options.minRadiusCircle?this._layer.setRadius(this.options.minRadiusCircle):this.options.maxRadiusCircle&&p>this.options.maxRadiusCircle?this._layer.setRadius(this.options.maxRadiusCircle):this._layer.setRadius(p),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine:function(){var r=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng();this._hintline.setLatLngs([r,a])},_disableSnapping:function(){var r=this;this._markers.forEach(function(a){a.off("move",r._syncHintLine,r),a.off("move",r._syncCircleRadius,r),a.off("drag",r._handleSnapping,r),a.off("dragend",r._cleanupSnapping,r)}),this._layer.off("pm:dragstart",this._unsnap,this)},_onMarkerDragStart:function(r){this._vertexValidation("move",r)&&this._fireMarkerDragStart(r)},_onMarkerDrag:function(r){var a=r.target;this._vertexValidationDrag(a)&&this._fireMarkerDrag(r)},_onMarkerDragEnd:function(r){var a=r.target;this._vertexValidationDragEnd(a)&&(this._fireEdit(),this._layerEdited=!0,this._fireMarkerDragEnd(r))},_onCircleDragStart:function(r){this._vertexValidationDrag(r.target)?(delete this._vertexValidationReset,this._fireDragStart()):this._vertexValidationReset=!0},_onCircleDrag:function(r){this._vertexValidationReset||this._fireDrag(r)},_onCircleDragEnd:function(){this._vertexValidationReset?delete this._vertexValidationReset:this._fireDragEnd()},_updateHiddenPolyCircle:function(){var r=this._map&&this._map.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(this._layer,200,!r).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(this._layer,200,!r),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)},_getLatLngOnCircle:function(r,a){var p=this._map.project(r),_=L.point(p.x+a,p.y);return this._map.unproject(_)},_getNewDestinationOfOuterMarker:function(){var r=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng(),p=this._map.distance(r,a);return this.options.minRadiusCircle&&p<this.options.minRadiusCircle?a=Nt(this._map,r,a,this.options.minRadiusCircle):this.options.maxRadiusCircle&&p>this.options.maxRadiusCircle&&(a=Nt(this._map,r,a,this.options.maxRadiusCircle)),a},_handleOuterMarkerSnapping:function(){if(this._outerMarker._snapped){var r=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng(),p=this._map.distance(r,a);(this.options.minRadiusCircle&&p<this.options.minRadiusCircle||this.options.maxRadiusCircle&&p>this.options.maxRadiusCircle)&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())}}),Be.CircleMarker=Be.extend({_shape:"CircleMarker",initialize:function(r){this._layer=r,this._enabled=!1,this._updateHiddenPolyCircle()},enable:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0,snappable:!0};L.Util.setOptions(this,r),this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._layer.on("pm:dragstart",this._onDragStart,this),this._layer.on("pm:drag",this._onMarkerDrag,this),this._layer.on("pm:dragend",this._onMarkerDragEnd,this),this._updateHiddenPolyCircle(),this._fireEnable()):this.disable()},disable:function(){this._dragging||(this._helperLayers&&this._helperLayers.clearLayers(),this._map||(this._map=this._layer._map),this._map||(this.options.editable?(this._map.off("move",this._syncMarkers,this),this._outerMarker&&this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this)):this._map.off("move",this._updateHiddenPolyCircle,this)),this.disableLayerDrag(),this._layer.off("contextmenu",this._removeMarker,this),this._layer.off("remove",this.disable,this),this.enabled()&&(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},enabled:function(){return this._enabled},toggleEdit:function(r){this.enabled()?this.disable():this.enable(r)},applyOptions:function(){!this.options.editable&&this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.editable?(this._initMarkers(),this._map.on("move",this._syncMarkers,this)):this._map.on("move",this._updateHiddenPolyCircle,this),this.options.snappable?this.options.editable?(this._initSnappableMarkers(),this._centerMarker.on("drag",this._moveCircle,this),this.options.editable&&this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this)):this._initSnappableMarkersDrag():this.options.editable?this._disableSnapping():this._disableSnappingDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_initMarkers:function(){var r=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(r);var a=this._layer.getLatLng(),p=this._layer._radius,_=this._getLatLngOnCircle(a,p);this._centerMarker=this._createCenterMarker(a),this._outerMarker=this._createOuterMarker(_),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},_getLatLngOnCircle:function(r,a){var p=this._map.project(r),_=L.point(p.x+a,p.y);return this._map.unproject(_)},_createHintLine:function(r,a){var p=r.getLatLng(),_=a.getLatLng();this._hintline=L.polyline([p,_],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker:function(r){var a=this._createMarker(r);return this.options.draggable?L.DomUtil.addClass(a._icon,"leaflet-pm-draggable"):a.dragging.disable(),a},_createOuterMarker:function(r){var a=this._createMarker(r);return a.on("drag",this._resizeCircle,this),a},_createMarker:function(r){var a=new L.Marker(r,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._origLatLng=r,a._pmTempLayer=!0,a.on("dragstart",this._onMarkerDragStart,this),a.on("drag",this._onMarkerDrag,this),a.on("dragend",this._onMarkerDragEnd,this),this._helperLayers.addLayer(a),a},_moveCircle:function(){var r=this._centerMarker.getLatLng();this._layer.setLatLng(r);var a=this._layer._radius,p=this._getLatLngOnCircle(r,a);this._outerMarker._latlng=p,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")},_syncMarkers:function(){var r=this._layer.getLatLng(),a=this._layer._radius,p=this._getLatLngOnCircle(r,a);this._outerMarker.setLatLng(p),this._centerMarker.setLatLng(r),this._syncHintLine(),this._updateHiddenPolyCircle()},_resizeCircle:function(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_syncCircleRadius:function(){var r=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng(),p=this._map.project(r).distanceTo(this._map.project(a));this.options.minRadiusCircleMarker&&p<this.options.minRadiusCircleMarker?this._layer.setRadius(this.options.minRadiusCircleMarker):this.options.maxRadiusCircleMarker&&p>this.options.maxRadiusCircleMarker?this._layer.setRadius(this.options.maxRadiusCircleMarker):this._layer.setRadius(p),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine:function(){var r=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng();this._hintline.setLatLngs([r,a])},_removeMarker:function(){this.options.editable&&this.disable(),this._layer.remove(),this._fireRemove(this._layer),this._fireRemove(this._map,this._layer)},_onDragStart:function(){this._map.pm.Draw.CircleMarker._layerIsDragging=!0},_onMarkerDragStart:function(r){this._vertexValidation("move",r)&&this._fireMarkerDragStart(r)},_onMarkerDrag:function(r){var a=r.target;a instanceof L.Marker&&!this._vertexValidationDrag(a)||this._fireMarkerDrag(r)},_onMarkerDragEnd:function(r){this._map.pm.Draw.CircleMarker._layerIsDragging=!1;var a=r.target;this._vertexValidationDragEnd(a)&&(this.options.editable&&(this._fireEdit(),this._layerEdited=!0),this._fireMarkerDragEnd(r))},_initSnappableMarkersDrag:function(){var r=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,r.off("pm:drag",this._handleSnapping,this),r.on("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.on("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this),r.on("pm:dragstart",this._unsnap,this)},_disableSnappingDrag:function(){var r=this._layer;r.off("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this)},_updateHiddenPolyCircle:function(){var r=this._layer._map||this._map;if(r){var a=L.PM.Utils.pxRadiusToMeterRadius(this._layer.getRadius(),r,this._layer.getLatLng()),p=L.circle(this._layer.getLatLng(),this._layer.options);p.setRadius(a);var _=r&&r.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(p,200,!_).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(p,200,!_),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)}},_getNewDestinationOfOuterMarker:function(){var r=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng(),p=this._map.project(r).distanceTo(this._map.project(a));return this.options.minRadiusCircleMarker&&p<this.options.minRadiusCircleMarker?a=Nt(this._map,r,a,L.PM.Utils.pxRadiusToMeterRadius(this.options.minRadiusCircleMarker,this._map,r)):this.options.maxRadiusCircleMarker&&p>this.options.maxRadiusCircleMarker&&(a=Nt(this._map,r,a,L.PM.Utils.pxRadiusToMeterRadius(this.options.maxRadiusCircleMarker,this._map,r))),a},_handleOuterMarkerSnapping:function(){if(this._outerMarker._snapped){var r=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng(),p=this._map.project(r).distanceTo(this._map.project(a));(this.options.minRadiusCircleMarker&&p<this.options.minRadiusCircleMarker||this.options.maxRadiusCircleMarker&&p>this.options.maxRadiusCircleMarker)&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())}}),Be.ImageOverlay=Be.extend({_shape:"ImageOverlay",initialize:function(r){this._layer=r,this._enabled=!1},toggleEdit:function(r){this.enabled()?this.disable():this.enable(r)},enabled:function(){return this._enabled},enable:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0,snappable:!0};L.Util.setOptions(this,r),this._map=this._layer._map,this._map&&(this.options.allowEditing?(this.enabled()||this.disable(),this.enableLayerDrag(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._otherSnapLayers=this._findCorners(),this._fireEnable()):this.disable())},disable:function(){this._dragging||(this._map||(this._map=this._layer._map),this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this.enabled()||(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},_findCorners:function(){var r=this._layer.getBounds();return[r.getNorthWest(),r.getNorthEast(),r.getSouthEast(),r.getSouthWest()]}}),Be.Text=Be.extend({_shape:"Text",initialize:function(r){this._layer=r,this._enabled=!1},enable:function(r){L.Util.setOptions(this,r),this.textArea&&(this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._safeToCacheDragState=!0,this._focusChange(),this.textArea.readOnly=!1,this.textArea.classList.remove("pm-disabled"),this._layer.on("remove",this.disable,this),L.DomEvent.on(this.textArea,"input",this._autoResize,this),L.DomEvent.on(this.textArea,"focus",this._focusChange,this),L.DomEvent.on(this.textArea,"blur",this._focusChange,this),this._layer.on("dblclick",L.DomEvent.stop),L.DomEvent.off(this.textArea,"mousedown",this._preventTextSelection),this._enabled=!0,this._fireEnable()):this.disable())},disable:function(){if(this.enabled()){this._layer.off("remove",this.disable,this),L.DomEvent.off(this.textArea,"input",this._autoResize,this),L.DomEvent.off(this.textArea,"focus",this._focusChange,this),L.DomEvent.off(this.textArea,"blur",this._focusChange,this),L.DomEvent.off(document,"click",this._documentClick,this),this._focusChange(),this.textArea.readOnly=!0,this.textArea.classList.add("pm-disabled");var r=document.activeElement;this.textArea.focus(),this.textArea.selectionStart=0,this.textArea.selectionEnd=0,L.DomEvent.on(this.textArea,"mousedown",this._preventTextSelection),r.focus(),this._disableOnBlurActive=!1,this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1}},enabled:function(){return this._enabled},toggleEdit:function(r){this.enabled()?this.disable():this.enable(r)},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initSnappableMarkers:function(){var r=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,r.off("pm:drag",this._handleSnapping,this),r.on("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.on("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this),r.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){var r=this._layer;r.off("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this)},_autoResize:function(){this.textArea.style.height="1px",this.textArea.style.width="1px";var r=this.textArea.scrollHeight>21?this.textArea.scrollHeight:21,a=this.textArea.scrollWidth>16?this.textArea.scrollWidth:16;this.textArea.style.height="".concat(r,"px"),this.textArea.style.width="".concat(a,"px"),this._layer.options.text=this.getText(),this._fireTextChange(this.getText())},_disableOnBlur:function(){var r=this;this._disableOnBlurActive=!0,setTimeout(function(){r.enabled()&&L.DomEvent.on(document,"click",r._documentClick,r)},100)},_documentClick:function(r){r.target!==this.textArea&&(this.disable(),!this.getText()&&this.options.removeIfEmpty&&this.remove())},_focusChange:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=this._hasFocus;this._hasFocus=r.type==="focus",!a!=!this._hasFocus&&(this._hasFocus?(this._applyFocus(),this._focusText=this.getText(),this._fireTextFocus()):(this._removeFocus(),this._fireTextBlur(),this._focusText!==this.getText()&&(this._fireEdit(),this._layerEdited=!0)))},_applyFocus:function(){this.textArea.classList.add("pm-hasfocus"),this._map.dragging&&(this._safeToCacheDragState&&(this._originalMapDragState=this._map.dragging._enabled,this._safeToCacheDragState=!1),this._map.dragging.disable())},_removeFocus:function(){this._map.dragging&&(this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0),this.textArea.classList.remove("pm-hasfocus")},focus:function(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.focus()},blur:function(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.blur(),this._disableOnBlurActive&&this.disable()},hasFocus:function(){return this._hasFocus},getElement:function(){return this.textArea},setText:function(r){this.textArea.value=r,this._autoResize()},getText:function(){return this.textArea.value},_initTextMarker:function(){if(this.textArea=L.PM.Draw.Text.prototype._createTextArea.call(this),this.options.className){var r,a=this.options.className.split(" ");(r=this.textArea.classList).add.apply(r,ji(a))}var p=L.PM.Draw.Text.prototype._createTextIcon.call(this,this.textArea);this._layer.setIcon(p),this._layer.once("add",this._createTextMarker,this)},_createTextMarker:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this._layer.off("add",this._createTextMarker,this),this._layer.getElement().tabIndex=-1,this.textArea.wrap="off",this.textArea.style.overflow="hidden",this.textArea.style.height=L.DomUtil.getStyle(this.textArea,"font-size"),this.textArea.style.width="1px",this._layer.options.text&&this.setText(this._layer.options.text),this._autoResize(),r===!0&&(this.enable(),this.focus(),this._disableOnBlur())},_preventTextSelection:function(r){r.preventDefault()}});var ei=function(r,a,p,_,x,A){this._matrix=[r,a,p,_,x,A]};ei.init=function(){return new L.PM.Matrix(1,0,0,1,0,0)},ei.prototype={transform:function(r){return this._transform(r.clone())},_transform:function(r){var a=this._matrix,p=r.x,_=r.y;return r.x=a[0]*p+a[1]*_+a[4],r.y=a[2]*p+a[3]*_+a[5],r},untransform:function(r){var a=this._matrix;return new L.Point((r.x/a[0]-a[4])/a[0],(r.y/a[2]-a[5])/a[2])},clone:function(){var r=this._matrix;return new L.PM.Matrix(r[0],r[1],r[2],r[3],r[4],r[5])},translate:function(r){return r===void 0?new L.Point(this._matrix[4],this._matrix[5]):(typeof r=="number"?(a=r,p=r):(a=r.x,p=r.y),this._add(1,0,0,1,a,p));var a,p},scale:function(r,a){return r===void 0?new L.Point(this._matrix[0],this._matrix[3]):(a=a||L.point(0,0),typeof r=="number"?(p=r,_=r):(p=r.x,_=r.y),this._add(p,0,0,_,a.x,a.y)._add(1,0,0,1,-a.x,-a.y));var p,_},rotate:function(r,a){var p=Math.cos(r),_=Math.sin(r);return a=a||new L.Point(0,0),this._add(p,_,-_,p,a.x,a.y)._add(1,0,0,1,-a.x,-a.y)},flip:function(){return this._matrix[1]*=-1,this._matrix[2]*=-1,this},_add:function(r,a,p,_,x,A){var j,$=[[],[],[]],H=this._matrix,G=[[H[0],H[2],H[4]],[H[1],H[3],H[5]],[0,0,1]],X=[[r,p,x],[a,_,A],[0,0,1]];r&&r instanceof L.PM.Matrix&&(X=[[(H=r._matrix)[0],H[2],H[4]],[H[1],H[3],H[5]],[0,0,1]]);for(var ft=0;ft<3;ft+=1)for(var ut=0;ut<3;ut+=1){j=0;for(var Mt=0;Mt<3;Mt+=1)j+=G[ft][Mt]*X[Mt][ut];$[ft][ut]=j}return this._matrix=[$[0][0],$[1][0],$[0][1],$[1][1],$[0][2],$[1][2]],this}};const Ni=ei;var Zs={calcMiddleLatLng:function(r,a,p){var _=r.project(a),x=r.project(p);return r.unproject(_._add(x)._divideBy(2))},findLayers:function(r){var a=[];return r.eachLayer(function(p){(p instanceof L.Polyline||p instanceof L.Marker||p instanceof L.Circle||p instanceof L.CircleMarker||p instanceof L.ImageOverlay)&&a.push(p)}),a=(a=(a=a.filter(function(p){return!!p.pm})).filter(function(p){return!p._pmTempLayer})).filter(function(p){return!L.PM.optIn&&!p.options.pmIgnore||L.PM.optIn&&p.options.pmIgnore===!1})},circleToPolygon:function(r){for(var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,p=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],_=r.getLatLng(),x=r.getRadius(),A=ae(_,x,a,0,p),j=[],$=0;$<A.length;$+=1){var H=[A[$].lat,A[$].lng];j.push(H)}return L.polygon(j,r.options)},disablePopup:function(r){r.getPopup()&&(r._tempPopupCopy=r.getPopup(),r.unbindPopup())},enablePopup:function(r){r._tempPopupCopy&&(r.bindPopup(r._tempPopupCopy),delete r._tempPopupCopy)},_fireEvent:function(r,a,p){var _=arguments.length>3&&arguments[3]!==void 0&&arguments[3];r.fire(a,p,_);var x=this.getAllParentGroups(r),A=x.groups;A.forEach(function(j){j.fire(a,p,_)})},getAllParentGroups:function(r){var a=[],p=[];return!r._pmLastGroupFetch||!r._pmLastGroupFetch.time||new Date().getTime()-r._pmLastGroupFetch.time>1e3?(function _(x){for(var A in x._eventParents)if(a.indexOf(A)===-1){a.push(A);var j=x._eventParents[A];p.push(j),_(j)}}(r),r._pmLastGroupFetch={time:new Date().getTime(),groups:p,groupIds:a},{groupIds:a,groups:p}):{groups:r._pmLastGroupFetch.groups,groupIds:r._pmLastGroupFetch.groupIds}},createGeodesicPolygon:ae,getTranslation:Bt,findDeepCoordIndex:function(r,a){var p,_=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],x=function j($){return function(H,G){var X=$.concat(G);if(_){if(H.lat&&H.lat===a.lat&&H.lng===a.lng)return p=X,!0}else if(H.lat&&L.latLng(H).equals(a))return p=X,!0;return Array.isArray(H)&&H.some(j(X))}};r.some(x([]));var A={};return p&&(A={indexPath:p,index:p[p.length-1],parentPath:p.slice(0,p.length-1)}),A},findDeepMarkerIndex:function(r,a){var p;r.some(function x(A){return function(j,$){var H=A.concat($);return j._leaflet_id===a._leaflet_id?(p=H,!0):Array.isArray(j)&&j.some(x(H))}}([]));var _={};return p&&(_={indexPath:p,index:p[p.length-1],parentPath:p.slice(0,p.length-1)}),_},_getIndexFromSegment:function(r,a){if(a&&a.length===2){var p=this.findDeepCoordIndex(r,a[0]),_=this.findDeepCoordIndex(r,a[1]),x=Math.max(p.index,_.index);return p.index!==0&&_.index!==0||x===1||(x+=1),{indexA:p,indexB:_,newIndex:x,indexPath:p.indexPath,parentPath:p.parentPath}}return null},_getRotatedRectangle:function(r,a,p,_){var x=Se(_,r),A=Se(_,a),j=p*Math.PI/180,$=Math.cos(j),H=Math.sin(j),G=(A.x-x.x)*$+(A.y-x.y)*H,X=(A.y-x.y)*$-(A.x-x.x)*H,ft=G*$+x.x,ut=G*H+x.y,Mt=-X*H+x.x,Rt=X*$+x.y;return[fn(_,x),fn(_,{x:ft,y:ut}),fn(_,A),fn(_,{x:Mt,y:Rt})]},pxRadiusToMeterRadius:function(r,a,p){var _=a.project(p),x=L.point(_.x+r,_.y);return a.distance(a.unproject(x),p)}};const ee=Zs;L.PM=L.PM||{version:"2.14.2",Map:le,Toolbar:xt,Draw:D,Edit:Be,Utils:ee,Matrix:Ni,activeLang:"en",optIn:!1,initialize:function(r){this.addInitHooks(r)},setOptIn:function(r){this.optIn=!!r},addInitHooks:function(){L.Map.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Map(this)):this.options.pmIgnore||(this.pm=new L.PM.Map(this)),this.pm&&this.pm.setGlobalOptions({})}),L.LayerGroup.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.LayerGroup(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.LayerGroup(this))}),L.Marker.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this)):this.options.pmIgnore||(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this))}),L.CircleMarker.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.CircleMarker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.CircleMarker(this))}),L.Polyline.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Line(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Line(this))}),L.Polygon.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Polygon(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Polygon(this))}),L.Rectangle.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Rectangle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Rectangle(this))}),L.Circle.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Circle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Circle(this))}),L.ImageOverlay.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.ImageOverlay(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.ImageOverlay(this))})},reInitLayer:function(r){var a=this;r instanceof L.LayerGroup&&r.eachLayer(function(p){a.reInitLayer(p)}),r.pm||L.PM.optIn&&r.options.pmIgnore!==!1||r.options.pmIgnore||(r instanceof L.Map?r.pm=new L.PM.Map(r):r instanceof L.Marker?r.options.textMarker?(r.pm=new L.PM.Edit.Text(r),r.pm._initTextMarker(),r.pm._createTextMarker(!1)):r.pm=new L.PM.Edit.Marker(r):r instanceof L.Circle?r.pm=new L.PM.Edit.Circle(r):r instanceof L.CircleMarker?r.pm=new L.PM.Edit.CircleMarker(r):r instanceof L.Rectangle?r.pm=new L.PM.Edit.Rectangle(r):r instanceof L.Polygon?r.pm=new L.PM.Edit.Polygon(r):r instanceof L.Polyline?r.pm=new L.PM.Edit.Line(r):r instanceof L.LayerGroup?r.pm=new L.PM.Edit.LayerGroup(r):r instanceof L.ImageOverlay&&(r.pm=new L.PM.Edit.ImageOverlay(r)))}},L.version==="1.7.1"&&L.Canvas.include({_onClick:function(r){for(var a,p,_=this._map.mouseEventToLayerPoint(r),x=this._drawFirst;x;x=x.next)(a=x.layer).options.interactive&&a._containsPoint(_)&&(r.type!=="click"&&r.type!=="preclick"||!this._map._draggableMoved(a))&&(p=a);p&&(L.DomEvent.fakeStop(r),this._fireEvent([p],r))}}),L.PM.initialize()},7107:()=>{Array.prototype.findIndex=Array.prototype.findIndex||function(i){if(this===null)throw new TypeError("Array.prototype.findIndex called on null or undefined");if(typeof i!="function")throw new TypeError("callback must be a function");for(var l=Object(this),c=l.length>>>0,h=arguments[1],d=0;d<c;d++)if(i.call(h,l[d],d,l))return d;return-1},Array.prototype.find=Array.prototype.find||function(i){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof i!="function")throw new TypeError("callback must be a function");for(var l=Object(this),c=l.length>>>0,h=arguments[1],d=0;d<c;d++){var m=l[d];if(i.call(h,m,d,l))return m}},typeof Object.assign!="function"&&(Object.assign=function(i){if(i==null)throw new TypeError("Cannot convert undefined or null to object");i=Object(i);for(var l=1;l<arguments.length;l++){var c=arguments[l];if(c!=null)for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(i[h]=c[h])}return i}),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(i){i.hasOwnProperty("remove")||Object.defineProperty(i,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(i,l){if(this==null)throw new TypeError('"this" is null or not defined');var c=Object(this),h=c.length>>>0;if(h===0)return!1;for(var d,m,g=0|l,y=Math.max(g>=0?g:h-Math.abs(g),0);y<h;){if((d=c[y])===(m=i)||typeof d=="number"&&typeof m=="number"&&isNaN(d)&&isNaN(m))return!0;y++}return!1}})},1787:(i,l,c)=>{var h=c(2582),d=c(4102),m=c(1540),g=c(9705).Z,y=m.featureEach,w=(m.coordEach,d.polygon,d.featureCollection);function M(I){var O=new h(I);return O.insert=function(S){if(S.type!=="Feature")throw new Error("invalid feature");return S.bbox=S.bbox?S.bbox:g(S),h.prototype.insert.call(this,S)},O.load=function(S){var U=[];return Array.isArray(S)?S.forEach(function(C){if(C.type!=="Feature")throw new Error("invalid features");C.bbox=C.bbox?C.bbox:g(C),U.push(C)}):y(S,function(C){if(C.type!=="Feature")throw new Error("invalid features");C.bbox=C.bbox?C.bbox:g(C),U.push(C)}),h.prototype.load.call(this,U)},O.remove=function(S,U){if(S.type!=="Feature")throw new Error("invalid feature");return S.bbox=S.bbox?S.bbox:g(S),h.prototype.remove.call(this,S,U)},O.clear=function(){return h.prototype.clear.call(this)},O.search=function(S){var U=h.prototype.search.call(this,this.toBBox(S));return w(U)},O.collides=function(S){return h.prototype.collides.call(this,this.toBBox(S))},O.all=function(){var S=h.prototype.all.call(this);return w(S)},O.toJSON=function(){return h.prototype.toJSON.call(this)},O.fromJSON=function(S){return h.prototype.fromJSON.call(this,S)},O.toBBox=function(S){var U;if(S.bbox)U=S.bbox;else if(Array.isArray(S)&&S.length===4)U=S;else if(Array.isArray(S)&&S.length===6)U=[S[0],S[1],S[3],S[4]];else if(S.type==="Feature")U=g(S);else{if(S.type!=="FeatureCollection")throw new Error("invalid geojson");U=g(S)}return{minX:U[0],minY:U[1],maxX:U[2],maxY:U[3]}},O}i.exports=M,i.exports.default=M},1989:(i,l,c)=>{var h=c(1789),d=c(401),m=c(7667),g=c(1327),y=c(1866);function w(M){var I=-1,O=M==null?0:M.length;for(this.clear();++I<O;){var S=M[I];this.set(S[0],S[1])}}w.prototype.clear=h,w.prototype.delete=d,w.prototype.get=m,w.prototype.has=g,w.prototype.set=y,i.exports=w},8407:(i,l,c)=>{var h=c(7040),d=c(4125),m=c(2117),g=c(7518),y=c(4705);function w(M){var I=-1,O=M==null?0:M.length;for(this.clear();++I<O;){var S=M[I];this.set(S[0],S[1])}}w.prototype.clear=h,w.prototype.delete=d,w.prototype.get=m,w.prototype.has=g,w.prototype.set=y,i.exports=w},7071:(i,l,c)=>{var h=c(852)(c(5639),"Map");i.exports=h},3369:(i,l,c)=>{var h=c(4785),d=c(1285),m=c(6e3),g=c(9916),y=c(5265);function w(M){var I=-1,O=M==null?0:M.length;for(this.clear();++I<O;){var S=M[I];this.set(S[0],S[1])}}w.prototype.clear=h,w.prototype.delete=d,w.prototype.get=m,w.prototype.has=g,w.prototype.set=y,i.exports=w},6384:(i,l,c)=>{var h=c(8407),d=c(7465),m=c(3779),g=c(7599),y=c(4758),w=c(4309);function M(I){var O=this.__data__=new h(I);this.size=O.size}M.prototype.clear=d,M.prototype.delete=m,M.prototype.get=g,M.prototype.has=y,M.prototype.set=w,i.exports=M},2705:(i,l,c)=>{var h=c(5639).Symbol;i.exports=h},1149:(i,l,c)=>{var h=c(5639).Uint8Array;i.exports=h},6874:i=>{i.exports=function(l,c,h){switch(h.length){case 0:return l.call(c);case 1:return l.call(c,h[0]);case 2:return l.call(c,h[0],h[1]);case 3:return l.call(c,h[0],h[1],h[2])}return l.apply(c,h)}},4636:(i,l,c)=>{var h=c(2545),d=c(5694),m=c(1469),g=c(4144),y=c(5776),w=c(6719),M=Object.prototype.hasOwnProperty;i.exports=function(I,O){var S=m(I),U=!S&&d(I),C=!S&&!U&&g(I),R=!S&&!U&&!C&&w(I),V=S||U||C||R,E=V?h(I.length,String):[],z=E.length;for(var W in I)!O&&!M.call(I,W)||V&&(W=="length"||C&&(W=="offset"||W=="parent")||R&&(W=="buffer"||W=="byteLength"||W=="byteOffset")||y(W,z))||E.push(W);return E}},9932:i=>{i.exports=function(l,c){for(var h=-1,d=l==null?0:l.length,m=Array(d);++h<d;)m[h]=c(l[h],h,l);return m}},6556:(i,l,c)=>{var h=c(9465),d=c(7813);i.exports=function(m,g,y){(y!==void 0&&!d(m[g],y)||y===void 0&&!(g in m))&&h(m,g,y)}},4865:(i,l,c)=>{var h=c(9465),d=c(7813),m=Object.prototype.hasOwnProperty;i.exports=function(g,y,w){var M=g[y];m.call(g,y)&&d(M,w)&&(w!==void 0||y in g)||h(g,y,w)}},8470:(i,l,c)=>{var h=c(7813);i.exports=function(d,m){for(var g=d.length;g--;)if(h(d[g][0],m))return g;return-1}},9465:(i,l,c)=>{var h=c(8777);i.exports=function(d,m,g){m=="__proto__"&&h?h(d,m,{configurable:!0,enumerable:!0,value:g,writable:!0}):d[m]=g}},3118:(i,l,c)=>{var h=c(3218),d=Object.create,m=function(){function g(){}return function(y){if(!h(y))return{};if(d)return d(y);g.prototype=y;var w=new g;return g.prototype=void 0,w}}();i.exports=m},8483:(i,l,c)=>{var h=c(5063)();i.exports=h},7786:(i,l,c)=>{var h=c(1811),d=c(327);i.exports=function(m,g){for(var y=0,w=(g=h(g,m)).length;m!=null&&y<w;)m=m[d(g[y++])];return y&&y==w?m:void 0}},4239:(i,l,c)=>{var h=c(2705),d=c(9607),m=c(2333),g=h?h.toStringTag:void 0;i.exports=function(y){return y==null?y===void 0?"[object Undefined]":"[object Null]":g&&g in Object(y)?d(y):m(y)}},8565:i=>{var l=Object.prototype.hasOwnProperty;i.exports=function(c,h){return c!=null&&l.call(c,h)}},9454:(i,l,c)=>{var h=c(4239),d=c(7005);i.exports=function(m){return d(m)&&h(m)=="[object Arguments]"}},8458:(i,l,c)=>{var h=c(3560),d=c(5346),m=c(3218),g=c(346),y=/^\[object .+?Constructor\]$/,w=Function.prototype,M=Object.prototype,I=w.toString,O=M.hasOwnProperty,S=RegExp("^"+I.call(O).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");i.exports=function(U){return!(!m(U)||d(U))&&(h(U)?S:y).test(g(U))}},8749:(i,l,c)=>{var h=c(4239),d=c(1780),m=c(7005),g={};g["[object Float32Array]"]=g["[object Float64Array]"]=g["[object Int8Array]"]=g["[object Int16Array]"]=g["[object Int32Array]"]=g["[object Uint8Array]"]=g["[object Uint8ClampedArray]"]=g["[object Uint16Array]"]=g["[object Uint32Array]"]=!0,g["[object Arguments]"]=g["[object Array]"]=g["[object ArrayBuffer]"]=g["[object Boolean]"]=g["[object DataView]"]=g["[object Date]"]=g["[object Error]"]=g["[object Function]"]=g["[object Map]"]=g["[object Number]"]=g["[object Object]"]=g["[object RegExp]"]=g["[object Set]"]=g["[object String]"]=g["[object WeakMap]"]=!1,i.exports=function(y){return m(y)&&d(y.length)&&!!g[h(y)]}},313:(i,l,c)=>{var h=c(3218),d=c(5726),m=c(3498),g=Object.prototype.hasOwnProperty;i.exports=function(y){if(!h(y))return m(y);var w=d(y),M=[];for(var I in y)(I!="constructor"||!w&&g.call(y,I))&&M.push(I);return M}},2980:(i,l,c)=>{var h=c(6384),d=c(6556),m=c(8483),g=c(9783),y=c(3218),w=c(1704),M=c(6390);i.exports=function I(O,S,U,C,R){O!==S&&m(S,function(V,E){if(R||(R=new h),y(V))g(O,S,E,U,I,C,R);else{var z=C?C(M(O,E),V,E+"",O,S,R):void 0;z===void 0&&(z=V),d(O,E,z)}},w)}},9783:(i,l,c)=>{var h=c(6556),d=c(4626),m=c(7133),g=c(278),y=c(8517),w=c(5694),M=c(1469),I=c(9246),O=c(4144),S=c(3560),U=c(3218),C=c(8630),R=c(6719),V=c(6390),E=c(9881);i.exports=function(z,W,ot,Y,st,ct,gt){var at=V(z,ot),bt=V(W,ot),Lt=gt.get(bt);if(Lt)h(z,ot,Lt);else{var Et=ct?ct(at,bt,ot+"",z,W,gt):void 0,Ct=Et===void 0;if(Ct){var Vt=M(bt),wt=!Vt&&O(bt),pe=!Vt&&!wt&&R(bt);Et=bt,Vt||wt||pe?M(at)?Et=at:I(at)?Et=g(at):wt?(Ct=!1,Et=d(bt,!0)):pe?(Ct=!1,Et=m(bt,!0)):Et=[]:C(bt)||w(bt)?(Et=at,w(at)?Et=E(at):U(at)&&!S(at)||(Et=y(bt))):Ct=!1}Ct&&(gt.set(bt,Et),st(Et,bt,Y,ct,gt),gt.delete(bt)),h(z,ot,Et)}}},5976:(i,l,c)=>{var h=c(6557),d=c(5357),m=c(61);i.exports=function(g,y){return m(d(g,y,h),g+"")}},6560:(i,l,c)=>{var h=c(5703),d=c(8777),m=c(6557),g=d?function(y,w){return d(y,"toString",{configurable:!0,enumerable:!1,value:h(w),writable:!0})}:m;i.exports=g},2545:i=>{i.exports=function(l,c){for(var h=-1,d=Array(l);++h<l;)d[h]=c(h);return d}},531:(i,l,c)=>{var h=c(2705),d=c(9932),m=c(1469),g=c(3448),y=h?h.prototype:void 0,w=y?y.toString:void 0;i.exports=function M(I){if(typeof I=="string")return I;if(m(I))return d(I,M)+"";if(g(I))return w?w.call(I):"";var O=I+"";return O=="0"&&1/I==-1/0?"-0":O}},1717:i=>{i.exports=function(l){return function(c){return l(c)}}},1811:(i,l,c)=>{var h=c(1469),d=c(5403),m=c(5514),g=c(9833);i.exports=function(y,w){return h(y)?y:d(y,w)?[y]:m(g(y))}},4318:(i,l,c)=>{var h=c(1149);i.exports=function(d){var m=new d.constructor(d.byteLength);return new h(m).set(new h(d)),m}},4626:(i,l,c)=>{i=c.nmd(i);var h=c(5639),d=l&&!l.nodeType&&l,m=d&&i&&!i.nodeType&&i,g=m&&m.exports===d?h.Buffer:void 0,y=g?g.allocUnsafe:void 0;i.exports=function(w,M){if(M)return w.slice();var I=w.length,O=y?y(I):new w.constructor(I);return w.copy(O),O}},7133:(i,l,c)=>{var h=c(4318);i.exports=function(d,m){var g=m?h(d.buffer):d.buffer;return new d.constructor(g,d.byteOffset,d.length)}},278:i=>{i.exports=function(l,c){var h=-1,d=l.length;for(c||(c=Array(d));++h<d;)c[h]=l[h];return c}},8363:(i,l,c)=>{var h=c(4865),d=c(9465);i.exports=function(m,g,y,w){var M=!y;y||(y={});for(var I=-1,O=g.length;++I<O;){var S=g[I],U=w?w(y[S],m[S],S,y,m):void 0;U===void 0&&(U=m[S]),M?d(y,S,U):h(y,S,U)}return y}},4429:(i,l,c)=>{var h=c(5639)["__core-js_shared__"];i.exports=h},1463:(i,l,c)=>{var h=c(5976),d=c(6612);i.exports=function(m){return h(function(g,y){var w=-1,M=y.length,I=M>1?y[M-1]:void 0,O=M>2?y[2]:void 0;for(I=m.length>3&&typeof I=="function"?(M--,I):void 0,O&&d(y[0],y[1],O)&&(I=M<3?void 0:I,M=1),g=Object(g);++w<M;){var S=y[w];S&&m(g,S,w,I)}return g})}},5063:i=>{i.exports=function(l){return function(c,h,d){for(var m=-1,g=Object(c),y=d(c),w=y.length;w--;){var M=y[l?w:++m];if(h(g[M],M,g)===!1)break}return c}}},8777:(i,l,c)=>{var h=c(852),d=function(){try{var m=h(Object,"defineProperty");return m({},"",{}),m}catch{}}();i.exports=d},1957:(i,l,c)=>{var h=typeof c.g=="object"&&c.g&&c.g.Object===Object&&c.g;i.exports=h},5050:(i,l,c)=>{var h=c(7019);i.exports=function(d,m){var g=d.__data__;return h(m)?g[typeof m=="string"?"string":"hash"]:g.map}},852:(i,l,c)=>{var h=c(8458),d=c(7801);i.exports=function(m,g){var y=d(m,g);return h(y)?y:void 0}},5924:(i,l,c)=>{var h=c(5569)(Object.getPrototypeOf,Object);i.exports=h},9607:(i,l,c)=>{var h=c(2705),d=Object.prototype,m=d.hasOwnProperty,g=d.toString,y=h?h.toStringTag:void 0;i.exports=function(w){var M=m.call(w,y),I=w[y];try{w[y]=void 0;var O=!0}catch{}var S=g.call(w);return O&&(M?w[y]=I:delete w[y]),S}},7801:i=>{i.exports=function(l,c){return l==null?void 0:l[c]}},222:(i,l,c)=>{var h=c(1811),d=c(5694),m=c(1469),g=c(5776),y=c(1780),w=c(327);i.exports=function(M,I,O){for(var S=-1,U=(I=h(I,M)).length,C=!1;++S<U;){var R=w(I[S]);if(!(C=M!=null&&O(M,R)))break;M=M[R]}return C||++S!=U?C:!!(U=M==null?0:M.length)&&y(U)&&g(R,U)&&(m(M)||d(M))}},1789:(i,l,c)=>{var h=c(4536);i.exports=function(){this.__data__=h?h(null):{},this.size=0}},401:i=>{i.exports=function(l){var c=this.has(l)&&delete this.__data__[l];return this.size-=c?1:0,c}},7667:(i,l,c)=>{var h=c(4536),d=Object.prototype.hasOwnProperty;i.exports=function(m){var g=this.__data__;if(h){var y=g[m];return y==="__lodash_hash_undefined__"?void 0:y}return d.call(g,m)?g[m]:void 0}},1327:(i,l,c)=>{var h=c(4536),d=Object.prototype.hasOwnProperty;i.exports=function(m){var g=this.__data__;return h?g[m]!==void 0:d.call(g,m)}},1866:(i,l,c)=>{var h=c(4536);i.exports=function(d,m){var g=this.__data__;return this.size+=this.has(d)?0:1,g[d]=h&&m===void 0?"__lodash_hash_undefined__":m,this}},8517:(i,l,c)=>{var h=c(3118),d=c(5924),m=c(5726);i.exports=function(g){return typeof g.constructor!="function"||m(g)?{}:h(d(g))}},5776:i=>{var l=/^(?:0|[1-9]\d*)$/;i.exports=function(c,h){var d=typeof c;return!!(h=h??9007199254740991)&&(d=="number"||d!="symbol"&&l.test(c))&&c>-1&&c%1==0&&c<h}},6612:(i,l,c)=>{var h=c(7813),d=c(8612),m=c(5776),g=c(3218);i.exports=function(y,w,M){if(!g(M))return!1;var I=typeof w;return!!(I=="number"?d(M)&&m(w,M.length):I=="string"&&w in M)&&h(M[w],y)}},5403:(i,l,c)=>{var h=c(1469),d=c(3448),m=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,g=/^\w*$/;i.exports=function(y,w){if(h(y))return!1;var M=typeof y;return!(M!="number"&&M!="symbol"&&M!="boolean"&&y!=null&&!d(y))||g.test(y)||!m.test(y)||w!=null&&y in Object(w)}},7019:i=>{i.exports=function(l){var c=typeof l;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?l!=="__proto__":l===null}},5346:(i,l,c)=>{var h,d=c(4429),m=(h=/[^.]+$/.exec(d&&d.keys&&d.keys.IE_PROTO||""))?"Symbol(src)_1."+h:"";i.exports=function(g){return!!m&&m in g}},5726:i=>{var l=Object.prototype;i.exports=function(c){var h=c&&c.constructor;return c===(typeof h=="function"&&h.prototype||l)}},7040:i=>{i.exports=function(){this.__data__=[],this.size=0}},4125:(i,l,c)=>{var h=c(8470),d=Array.prototype.splice;i.exports=function(m){var g=this.__data__,y=h(g,m);return!(y<0)&&(y==g.length-1?g.pop():d.call(g,y,1),--this.size,!0)}},2117:(i,l,c)=>{var h=c(8470);i.exports=function(d){var m=this.__data__,g=h(m,d);return g<0?void 0:m[g][1]}},7518:(i,l,c)=>{var h=c(8470);i.exports=function(d){return h(this.__data__,d)>-1}},4705:(i,l,c)=>{var h=c(8470);i.exports=function(d,m){var g=this.__data__,y=h(g,d);return y<0?(++this.size,g.push([d,m])):g[y][1]=m,this}},4785:(i,l,c)=>{var h=c(1989),d=c(8407),m=c(7071);i.exports=function(){this.size=0,this.__data__={hash:new h,map:new(m||d),string:new h}}},1285:(i,l,c)=>{var h=c(5050);i.exports=function(d){var m=h(this,d).delete(d);return this.size-=m?1:0,m}},6e3:(i,l,c)=>{var h=c(5050);i.exports=function(d){return h(this,d).get(d)}},9916:(i,l,c)=>{var h=c(5050);i.exports=function(d){return h(this,d).has(d)}},5265:(i,l,c)=>{var h=c(5050);i.exports=function(d,m){var g=h(this,d),y=g.size;return g.set(d,m),this.size+=g.size==y?0:1,this}},4523:(i,l,c)=>{var h=c(8306);i.exports=function(d){var m=h(d,function(y){return g.size===500&&g.clear(),y}),g=m.cache;return m}},4536:(i,l,c)=>{var h=c(852)(Object,"create");i.exports=h},3498:i=>{i.exports=function(l){var c=[];if(l!=null)for(var h in Object(l))c.push(h);return c}},1167:(i,l,c)=>{i=c.nmd(i);var h=c(1957),d=l&&!l.nodeType&&l,m=d&&i&&!i.nodeType&&i,g=m&&m.exports===d&&h.process,y=function(){try{var w=m&&m.require&&m.require("util").types;return w||g&&g.binding&&g.binding("util")}catch{}}();i.exports=y},2333:i=>{var l=Object.prototype.toString;i.exports=function(c){return l.call(c)}},5569:i=>{i.exports=function(l,c){return function(h){return l(c(h))}}},5357:(i,l,c)=>{var h=c(6874),d=Math.max;i.exports=function(m,g,y){return g=d(g===void 0?m.length-1:g,0),function(){for(var w=arguments,M=-1,I=d(w.length-g,0),O=Array(I);++M<I;)O[M]=w[g+M];M=-1;for(var S=Array(g+1);++M<g;)S[M]=w[M];return S[g]=y(O),h(m,this,S)}}},5639:(i,l,c)=>{var h=c(1957),d=typeof self=="object"&&self&&self.Object===Object&&self,m=h||d||Function("return this")();i.exports=m},6390:i=>{i.exports=function(l,c){if((c!=="constructor"||typeof l[c]!="function")&&c!="__proto__")return l[c]}},61:(i,l,c)=>{var h=c(6560),d=c(1275)(h);i.exports=d},1275:i=>{var l=Date.now;i.exports=function(c){var h=0,d=0;return function(){var m=l(),g=16-(m-d);if(d=m,g>0){if(++h>=800)return arguments[0]}else h=0;return c.apply(void 0,arguments)}}},7465:(i,l,c)=>{var h=c(8407);i.exports=function(){this.__data__=new h,this.size=0}},3779:i=>{i.exports=function(l){var c=this.__data__,h=c.delete(l);return this.size=c.size,h}},7599:i=>{i.exports=function(l){return this.__data__.get(l)}},4758:i=>{i.exports=function(l){return this.__data__.has(l)}},4309:(i,l,c)=>{var h=c(8407),d=c(7071),m=c(3369);i.exports=function(g,y){var w=this.__data__;if(w instanceof h){var M=w.__data__;if(!d||M.length<199)return M.push([g,y]),this.size=++w.size,this;w=this.__data__=new m(M)}return w.set(g,y),this.size=w.size,this}},5514:(i,l,c)=>{var h=c(4523),d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,m=/\\(\\)?/g,g=h(function(y){var w=[];return y.charCodeAt(0)===46&&w.push(""),y.replace(d,function(M,I,O,S){w.push(O?S.replace(m,"$1"):I||M)}),w});i.exports=g},327:(i,l,c)=>{var h=c(3448);i.exports=function(d){if(typeof d=="string"||h(d))return d;var m=d+"";return m=="0"&&1/d==-1/0?"-0":m}},346:i=>{var l=Function.prototype.toString;i.exports=function(c){if(c!=null){try{return l.call(c)}catch{}try{return c+""}catch{}}return""}},5703:i=>{i.exports=function(l){return function(){return l}}},7813:i=>{i.exports=function(l,c){return l===c||l!=l&&c!=c}},7361:(i,l,c)=>{var h=c(7786);i.exports=function(d,m,g){var y=d==null?void 0:h(d,m);return y===void 0?g:y}},8721:(i,l,c)=>{var h=c(8565),d=c(222);i.exports=function(m,g){return m!=null&&d(m,g,h)}},6557:i=>{i.exports=function(l){return l}},5694:(i,l,c)=>{var h=c(9454),d=c(7005),m=Object.prototype,g=m.hasOwnProperty,y=m.propertyIsEnumerable,w=h(function(){return arguments}())?h:function(M){return d(M)&&g.call(M,"callee")&&!y.call(M,"callee")};i.exports=w},1469:i=>{var l=Array.isArray;i.exports=l},8612:(i,l,c)=>{var h=c(3560),d=c(1780);i.exports=function(m){return m!=null&&d(m.length)&&!h(m)}},9246:(i,l,c)=>{var h=c(8612),d=c(7005);i.exports=function(m){return d(m)&&h(m)}},4144:(i,l,c)=>{i=c.nmd(i);var h=c(5639),d=c(5062),m=l&&!l.nodeType&&l,g=m&&i&&!i.nodeType&&i,y=g&&g.exports===m?h.Buffer:void 0,w=(y?y.isBuffer:void 0)||d;i.exports=w},3560:(i,l,c)=>{var h=c(4239),d=c(3218);i.exports=function(m){if(!d(m))return!1;var g=h(m);return g=="[object Function]"||g=="[object GeneratorFunction]"||g=="[object AsyncFunction]"||g=="[object Proxy]"}},1780:i=>{i.exports=function(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=9007199254740991}},3218:i=>{i.exports=function(l){var c=typeof l;return l!=null&&(c=="object"||c=="function")}},7005:i=>{i.exports=function(l){return l!=null&&typeof l=="object"}},8630:(i,l,c)=>{var h=c(4239),d=c(5924),m=c(7005),g=Function.prototype,y=Object.prototype,w=g.toString,M=y.hasOwnProperty,I=w.call(Object);i.exports=function(O){if(!m(O)||h(O)!="[object Object]")return!1;var S=d(O);if(S===null)return!0;var U=M.call(S,"constructor")&&S.constructor;return typeof U=="function"&&U instanceof U&&w.call(U)==I}},3448:(i,l,c)=>{var h=c(4239),d=c(7005);i.exports=function(m){return typeof m=="symbol"||d(m)&&h(m)=="[object Symbol]"}},6719:(i,l,c)=>{var h=c(8749),d=c(1717),m=c(1167),g=m&&m.isTypedArray,y=g?d(g):h;i.exports=y},1704:(i,l,c)=>{var h=c(4636),d=c(313),m=c(8612);i.exports=function(g){return m(g)?h(g,!0):d(g)}},8306:(i,l,c)=>{var h=c(3369);function d(m,g){if(typeof m!="function"||g!=null&&typeof g!="function")throw new TypeError("Expected a function");var y=function(){var w=arguments,M=g?g.apply(this,w):w[0],I=y.cache;if(I.has(M))return I.get(M);var O=m.apply(this,w);return y.cache=I.set(M,O)||I,O};return y.cache=new(d.Cache||h),y}d.Cache=h,i.exports=d},2492:(i,l,c)=>{var h=c(2980),d=c(1463)(function(m,g,y){h(m,g,y)});i.exports=d},5062:i=>{i.exports=function(){return!1}},9881:(i,l,c)=>{var h=c(8363),d=c(1704);i.exports=function(m){return h(m,d(m))}},9833:(i,l,c)=>{var h=c(531);i.exports=function(d){return d==null?"":h(d)}},2676:function(i){i.exports=function(){function l(B,b){if(!(B instanceof b))throw new TypeError("Cannot call a class as a function")}function c(B,b){for(var k=0;k<b.length;k++){var T=b[k];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(B,T.key,T)}}function h(B,b,k){return b&&c(B.prototype,b),k&&c(B,k),B}var d=function(){function B(b,k){this.next=null,this.key=b,this.data=k,this.left=null,this.right=null}return B}();function m(B,b){return B>b?1:B<b?-1:0}function g(B,b,k){for(var T=new d(null,null),D=T,N=T;;){var Q=k(B,b.key);if(Q<0){if(b.left===null)break;if(k(B,b.left.key)<0){var nt=b.left;if(b.left=nt.right,nt.right=b,(b=nt).left===null)break}N.left=b,N=b,b=b.left}else{if(!(Q>0)||b.right===null||k(B,b.right.key)>0&&(nt=b.right,b.right=nt.left,nt.left=b,(b=nt).right===null))break;D.right=b,D=b,b=b.right}}return D.right=b.left,N.left=b.right,b.left=T.right,b.right=T.left,b}function y(B,b,k,T){var D=new d(B,b);if(k===null)return D.left=D.right=null,D;var N=T(B,(k=g(B,k,T)).key);return N<0?(D.left=k.left,D.right=k,k.left=null):N>=0&&(D.right=k.right,D.left=k,k.right=null),D}function w(B,b,k){var T=null,D=null;if(b){var N=k((b=g(B,b,k)).key,B);N===0?(T=b.left,D=b.right):N<0?(D=b.right,b.right=null,T=b):(T=b.left,b.left=null,D=b)}return{left:T,right:D}}function M(B,b,k){return b===null?B:(B===null||((b=g(B.key,b,k)).left=B),b)}function I(B,b,k,T,D){if(B){T(b+(k?" ":" ")+D(B)+`
`);var N=b+(k?"    ":"   ");B.left&&I(B.left,N,!1,T,D),B.right&&I(B.right,N,!0,T,D)}}var O=function(){function B(b){b===void 0&&(b=m),this._root=null,this._size=0,this._comparator=b}return B.prototype.insert=function(b,k){return this._size++,this._root=y(b,k,this._root,this._comparator)},B.prototype.add=function(b,k){var T=new d(b,k);this._root===null&&(T.left=T.right=null,this._size++,this._root=T);var D=this._comparator,N=g(b,this._root,D),Q=D(b,N.key);return Q===0?this._root=N:(Q<0?(T.left=N.left,T.right=N,N.left=null):Q>0&&(T.right=N.right,T.left=N,N.right=null),this._size++,this._root=T),this._root},B.prototype.remove=function(b){this._root=this._remove(b,this._root,this._comparator)},B.prototype._remove=function(b,k,T){var D;return k===null?null:T(b,(k=g(b,k,T)).key)===0?(k.left===null?D=k.right:(D=g(b,k.left,T)).right=k.right,this._size--,D):k},B.prototype.pop=function(){var b=this._root;if(b){for(;b.left;)b=b.left;return this._root=g(b.key,this._root,this._comparator),this._root=this._remove(b.key,this._root,this._comparator),{key:b.key,data:b.data}}return null},B.prototype.findStatic=function(b){for(var k=this._root,T=this._comparator;k;){var D=T(b,k.key);if(D===0)return k;k=D<0?k.left:k.right}return null},B.prototype.find=function(b){return this._root&&(this._root=g(b,this._root,this._comparator),this._comparator(b,this._root.key)!==0)?null:this._root},B.prototype.contains=function(b){for(var k=this._root,T=this._comparator;k;){var D=T(b,k.key);if(D===0)return!0;k=D<0?k.left:k.right}return!1},B.prototype.forEach=function(b,k){for(var T=this._root,D=[],N=!1;!N;)T!==null?(D.push(T),T=T.left):D.length!==0?(T=D.pop(),b.call(k,T),T=T.right):N=!0;return this},B.prototype.range=function(b,k,T,D){for(var N=[],Q=this._comparator,nt=this._root;N.length!==0||nt;)if(nt)N.push(nt),nt=nt.left;else{if(Q((nt=N.pop()).key,k)>0)break;if(Q(nt.key,b)>=0&&T.call(D,nt))return this;nt=nt.right}return this},B.prototype.keys=function(){var b=[];return this.forEach(function(k){var T=k.key;return b.push(T)}),b},B.prototype.values=function(){var b=[];return this.forEach(function(k){var T=k.data;return b.push(T)}),b},B.prototype.min=function(){return this._root?this.minNode(this._root).key:null},B.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},B.prototype.minNode=function(b){if(b===void 0&&(b=this._root),b)for(;b.left;)b=b.left;return b},B.prototype.maxNode=function(b){if(b===void 0&&(b=this._root),b)for(;b.right;)b=b.right;return b},B.prototype.at=function(b){for(var k=this._root,T=!1,D=0,N=[];!T;)if(k)N.push(k),k=k.left;else if(N.length>0){if(k=N.pop(),D===b)return k;D++,k=k.right}else T=!0;return null},B.prototype.next=function(b){var k=this._root,T=null;if(b.right){for(T=b.right;T.left;)T=T.left;return T}for(var D=this._comparator;k;){var N=D(b.key,k.key);if(N===0)break;N<0?(T=k,k=k.left):k=k.right}return T},B.prototype.prev=function(b){var k=this._root,T=null;if(b.left!==null){for(T=b.left;T.right;)T=T.right;return T}for(var D=this._comparator;k;){var N=D(b.key,k.key);if(N===0)break;N<0?k=k.left:(T=k,k=k.right)}return T},B.prototype.clear=function(){return this._root=null,this._size=0,this},B.prototype.toList=function(){return C(this._root)},B.prototype.load=function(b,k,T){k===void 0&&(k=[]),T===void 0&&(T=!1);var D=b.length,N=this._comparator;if(T&&E(b,k,0,D-1,N),this._root===null)this._root=S(b,k,0,D),this._size=D;else{var Q=V(this.toList(),U(b,k),N);D=this._size+D,this._root=R({head:Q},0,D)}return this},B.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(B.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(B.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),B.prototype.toString=function(b){b===void 0&&(b=function(T){return String(T.key)});var k=[];return I(this._root,"",!0,function(T){return k.push(T)},b),k.join("")},B.prototype.update=function(b,k,T){var D=this._comparator,N=w(b,this._root,D),Q=N.left,nt=N.right;D(b,k)<0?nt=y(k,T,nt,D):Q=y(k,T,Q,D),this._root=M(Q,nt,D)},B.prototype.split=function(b){return w(b,this._root,this._comparator)},B}();function S(B,b,k,T){var D=T-k;if(D>0){var N=k+Math.floor(D/2),Q=B[N],nt=b[N],vt=new d(Q,nt);return vt.left=S(B,b,k,N),vt.right=S(B,b,N+1,T),vt}return null}function U(B,b){for(var k=new d(null,null),T=k,D=0;D<B.length;D++)T=T.next=new d(B[D],b[D]);return T.next=null,k.next}function C(B){for(var b=B,k=[],T=!1,D=new d(null,null),N=D;!T;)b?(k.push(b),b=b.left):k.length>0?b=(b=N=N.next=k.pop()).right:T=!0;return N.next=null,D.next}function R(B,b,k){var T=k-b;if(T>0){var D=b+Math.floor(T/2),N=R(B,b,D),Q=B.head;return Q.left=N,B.head=B.head.next,Q.right=R(B,D+1,k),Q}return null}function V(B,b,k){for(var T=new d(null,null),D=T,N=B,Q=b;N!==null&&Q!==null;)k(N.key,Q.key)<0?(D.next=N,N=N.next):(D.next=Q,Q=Q.next),D=D.next;return N!==null?D.next=N:Q!==null&&(D.next=Q),T.next}function E(B,b,k,T,D){if(!(k>=T)){for(var N=B[k+T>>1],Q=k-1,nt=T+1;;){do Q++;while(D(B[Q],N)<0);do nt--;while(D(B[nt],N)>0);if(Q>=nt)break;var vt=B[Q];B[Q]=B[nt],B[nt]=vt,vt=b[Q],b[Q]=b[nt],b[nt]=vt}E(B,b,k,nt,D),E(B,b,nt+1,T,D)}}var z=function(B,b){return B.ll.x<=b.x&&b.x<=B.ur.x&&B.ll.y<=b.y&&b.y<=B.ur.y},W=function(B,b){if(b.ur.x<B.ll.x||B.ur.x<b.ll.x||b.ur.y<B.ll.y||B.ur.y<b.ll.y)return null;var k=B.ll.x<b.ll.x?b.ll.x:B.ll.x,T=B.ur.x<b.ur.x?B.ur.x:b.ur.x;return{ll:{x:k,y:B.ll.y<b.ll.y?b.ll.y:B.ll.y},ur:{x:T,y:B.ur.y<b.ur.y?B.ur.y:b.ur.y}}},ot=Number.EPSILON;ot===void 0&&(ot=Math.pow(2,-52));var Y=ot*ot,st=function(B,b){if(-ot<B&&B<ot&&-ot<b&&b<ot)return 0;var k=B-b;return k*k<Y*B*b?0:B<b?-1:1},ct=function(){function B(){l(this,B),this.reset()}return h(B,[{key:"reset",value:function(){this.xRounder=new gt,this.yRounder=new gt}},{key:"round",value:function(b,k){return{x:this.xRounder.round(b),y:this.yRounder.round(k)}}}]),B}(),gt=function(){function B(){l(this,B),this.tree=new O,this.round(0)}return h(B,[{key:"round",value:function(b){var k=this.tree.add(b),T=this.tree.prev(k);if(T!==null&&st(k.key,T.key)===0)return this.tree.remove(b),T.key;var D=this.tree.next(k);return D!==null&&st(k.key,D.key)===0?(this.tree.remove(b),D.key):b}}]),B}(),at=new ct,bt=function(B,b){return B.x*b.y-B.y*b.x},Lt=function(B,b){return B.x*b.x+B.y*b.y},Et=function(B,b,k){var T={x:b.x-B.x,y:b.y-B.y},D={x:k.x-B.x,y:k.y-B.y},N=bt(T,D);return st(N,0)},Ct=function(B){return Math.sqrt(Lt(B,B))},Vt=function(B,b,k){var T={x:b.x-B.x,y:b.y-B.y},D={x:k.x-B.x,y:k.y-B.y};return bt(D,T)/Ct(D)/Ct(T)},wt=function(B,b,k){var T={x:b.x-B.x,y:b.y-B.y},D={x:k.x-B.x,y:k.y-B.y};return Lt(D,T)/Ct(D)/Ct(T)},pe=function(B,b,k){return b.y===0?null:{x:B.x+b.x/b.y*(k-B.y),y:k}},Dt=function(B,b,k){return b.x===0?null:{x:k,y:B.y+b.y/b.x*(k-B.x)}},Bt=function(B,b,k,T){if(b.x===0)return Dt(k,T,B.x);if(T.x===0)return Dt(B,b,k.x);if(b.y===0)return pe(k,T,B.y);if(T.y===0)return pe(B,b,k.y);var D=bt(b,T);if(D==0)return null;var N={x:k.x-B.x,y:k.y-B.y},Q=bt(N,b)/D,nt=bt(N,T)/D;return{x:(B.x+nt*b.x+(k.x+Q*T.x))/2,y:(B.y+nt*b.y+(k.y+Q*T.y))/2}},$t=function(){function B(b,k){l(this,B),b.events===void 0?b.events=[this]:b.events.push(this),this.point=b,this.isLeft=k}return h(B,null,[{key:"compare",value:function(b,k){var T=B.comparePoints(b.point,k.point);return T!==0?T:(b.point!==k.point&&b.link(k),b.isLeft!==k.isLeft?b.isLeft?1:-1:fe.compare(b.segment,k.segment))}},{key:"comparePoints",value:function(b,k){return b.x<k.x?-1:b.x>k.x?1:b.y<k.y?-1:b.y>k.y?1:0}}]),h(B,[{key:"link",value:function(b){if(b.point===this.point)throw new Error("Tried to link already linked events");for(var k=b.point.events,T=0,D=k.length;T<D;T++){var N=k[T];this.point.events.push(N),N.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var b=this.point.events.length,k=0;k<b;k++){var T=this.point.events[k];if(T.segment.consumedBy===void 0)for(var D=k+1;D<b;D++){var N=this.point.events[D];N.consumedBy===void 0&&T.otherSE.point.events===N.otherSE.point.events&&T.segment.consume(N.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var b=[],k=0,T=this.point.events.length;k<T;k++){var D=this.point.events[k];D!==this&&!D.segment.ringOut&&D.segment.isInResult()&&b.push(D)}return b}},{key:"getLeftmostComparator",value:function(b){var k=this,T=new Map,D=function(N){var Q=N.otherSE;T.set(N,{sine:Vt(k.point,b.point,Q.point),cosine:wt(k.point,b.point,Q.point)})};return function(N,Q){T.has(N)||D(N),T.has(Q)||D(Q);var nt=T.get(N),vt=nt.sine,Tt=nt.cosine,jt=T.get(Q),Wt=jt.sine,Qt=jt.cosine;return vt>=0&&Wt>=0?Tt<Qt?1:Tt>Qt?-1:0:vt<0&&Wt<0?Tt<Qt?-1:Tt>Qt?1:0:Wt<vt?-1:Wt>vt?1:0}}}]),B}(),Me=0,fe=function(){function B(b,k,T,D){l(this,B),this.id=++Me,this.leftSE=b,b.segment=this,b.otherSE=k,this.rightSE=k,k.segment=this,k.otherSE=b,this.rings=T,this.windings=D}return h(B,null,[{key:"compare",value:function(b,k){var T=b.leftSE.point.x,D=k.leftSE.point.x,N=b.rightSE.point.x,Q=k.rightSE.point.x;if(Q<T)return 1;if(N<D)return-1;var nt=b.leftSE.point.y,vt=k.leftSE.point.y,Tt=b.rightSE.point.y,jt=k.rightSE.point.y;if(T<D){if(vt<nt&&vt<Tt)return 1;if(vt>nt&&vt>Tt)return-1;var Wt=b.comparePoint(k.leftSE.point);if(Wt<0)return 1;if(Wt>0)return-1;var Qt=k.comparePoint(b.rightSE.point);return Qt!==0?Qt:-1}if(T>D){if(nt<vt&&nt<jt)return-1;if(nt>vt&&nt>jt)return 1;var be=k.comparePoint(b.leftSE.point);if(be!==0)return be;var Xt=b.comparePoint(k.rightSE.point);return Xt<0?1:Xt>0?-1:1}if(nt<vt)return-1;if(nt>vt)return 1;if(N<Q){var ye=k.comparePoint(b.rightSE.point);if(ye!==0)return ye}if(N>Q){var ue=b.comparePoint(k.rightSE.point);if(ue<0)return 1;if(ue>0)return-1}if(N!==Q){var we=Tt-nt,Re=N-T,Ge=jt-vt,Ze=Q-D;if(we>Re&&Ge<Ze)return 1;if(we<Re&&Ge>Ze)return-1}return N>Q?1:N<Q||Tt<jt?-1:Tt>jt?1:b.id<k.id?-1:b.id>k.id?1:0}}]),h(B,[{key:"replaceRightSE",value:function(b){this.rightSE=b,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var b=this.leftSE.point.y,k=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:b<k?b:k},ur:{x:this.rightSE.point.x,y:b>k?b:k}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(b){return b.x===this.leftSE.point.x&&b.y===this.leftSE.point.y||b.x===this.rightSE.point.x&&b.y===this.rightSE.point.y}},{key:"comparePoint",value:function(b){if(this.isAnEndpoint(b))return 0;var k=this.leftSE.point,T=this.rightSE.point,D=this.vector();if(k.x===T.x)return b.x===k.x?0:b.x<k.x?1:-1;var N=(b.y-k.y)/D.y,Q=k.x+N*D.x;if(b.x===Q)return 0;var nt=(b.x-k.x)/D.x,vt=k.y+nt*D.y;return b.y===vt?0:b.y<vt?-1:1}},{key:"getIntersection",value:function(b){var k=this.bbox(),T=b.bbox(),D=W(k,T);if(D===null)return null;var N=this.leftSE.point,Q=this.rightSE.point,nt=b.leftSE.point,vt=b.rightSE.point,Tt=z(k,nt)&&this.comparePoint(nt)===0,jt=z(T,N)&&b.comparePoint(N)===0,Wt=z(k,vt)&&this.comparePoint(vt)===0,Qt=z(T,Q)&&b.comparePoint(Q)===0;if(jt&&Tt)return Qt&&!Wt?Q:!Qt&&Wt?vt:null;if(jt)return Wt&&N.x===vt.x&&N.y===vt.y?null:N;if(Tt)return Qt&&Q.x===nt.x&&Q.y===nt.y?null:nt;if(Qt&&Wt)return null;if(Qt)return Q;if(Wt)return vt;var be=Bt(N,this.vector(),nt,b.vector());return be===null?null:z(D,be)?at.round(be.x,be.y):null}},{key:"split",value:function(b){var k=[],T=b.events!==void 0,D=new $t(b,!0),N=new $t(b,!1),Q=this.rightSE;this.replaceRightSE(N),k.push(N),k.push(D);var nt=new B(D,Q,this.rings.slice(),this.windings.slice());return $t.comparePoints(nt.leftSE.point,nt.rightSE.point)>0&&nt.swapEvents(),$t.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),T&&(D.checkForConsuming(),N.checkForConsuming()),k}},{key:"swapEvents",value:function(){var b=this.rightSE;this.rightSE=this.leftSE,this.leftSE=b,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var k=0,T=this.windings.length;k<T;k++)this.windings[k]*=-1}},{key:"consume",value:function(b){for(var k=this,T=b;k.consumedBy;)k=k.consumedBy;for(;T.consumedBy;)T=T.consumedBy;var D=B.compare(k,T);if(D!==0){if(D>0){var N=k;k=T,T=N}if(k.prev===T){var Q=k;k=T,T=Q}for(var nt=0,vt=T.rings.length;nt<vt;nt++){var Tt=T.rings[nt],jt=T.windings[nt],Wt=k.rings.indexOf(Tt);Wt===-1?(k.rings.push(Tt),k.windings.push(jt)):k.windings[Wt]+=jt}T.rings=null,T.windings=null,T.consumedBy=k,T.leftSE.consumedBy=k.leftSE,T.rightSE.consumedBy=k.rightSE}}},{key:"prevInResult",value:function(){return this._prevInResult!==void 0||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(this._beforeState!==void 0)return this._beforeState;if(this.prev){var b=this.prev.consumedBy||this.prev;this._beforeState=b.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(this._afterState!==void 0)return this._afterState;var b=this.beforeState();this._afterState={rings:b.rings.slice(0),windings:b.windings.slice(0),multiPolys:[]};for(var k=this._afterState.rings,T=this._afterState.windings,D=this._afterState.multiPolys,N=0,Q=this.rings.length;N<Q;N++){var nt=this.rings[N],vt=this.windings[N],Tt=k.indexOf(nt);Tt===-1?(k.push(nt),T.push(vt)):T[Tt]+=vt}for(var jt=[],Wt=[],Qt=0,be=k.length;Qt<be;Qt++)if(T[Qt]!==0){var Xt=k[Qt],ye=Xt.poly;if(Wt.indexOf(ye)===-1)if(Xt.isExterior)jt.push(ye);else{Wt.indexOf(ye)===-1&&Wt.push(ye);var ue=jt.indexOf(Xt.poly);ue!==-1&&jt.splice(ue,1)}}for(var we=0,Re=jt.length;we<Re;we++){var Ge=jt[we].multiPoly;D.indexOf(Ge)===-1&&D.push(Ge)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;var b=this.beforeState().multiPolys,k=this.afterState().multiPolys;switch(J.type){case"union":var T=b.length===0,D=k.length===0;this._isInResult=T!==D;break;case"intersection":var N,Q;b.length<k.length?(N=b.length,Q=k.length):(N=k.length,Q=b.length),this._isInResult=Q===J.numMultiPolys&&N<Q;break;case"xor":var nt=Math.abs(b.length-k.length);this._isInResult=nt%2==1;break;case"difference":var vt=function(Tt){return Tt.length===1&&Tt[0].isSubject};this._isInResult=vt(b)!==vt(k);break;default:throw new Error("Unrecognized operation type found ".concat(J.type))}return this._isInResult}}],[{key:"fromRing",value:function(b,k,T){var D,N,Q,nt=$t.comparePoints(b,k);if(nt<0)D=b,N=k,Q=1;else{if(!(nt>0))throw new Error("Tried to create degenerate segment at [".concat(b.x,", ").concat(b.y,"]"));D=k,N=b,Q=-1}return new B(new $t(D,!0),new $t(N,!1),[T],[Q])}}]),B}(),ae=function(){function B(b,k,T){if(l(this,B),!Array.isArray(b)||b.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=k,this.isExterior=T,this.segments=[],typeof b[0][0]!="number"||typeof b[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var D=at.round(b[0][0],b[0][1]);this.bbox={ll:{x:D.x,y:D.y},ur:{x:D.x,y:D.y}};for(var N=D,Q=1,nt=b.length;Q<nt;Q++){if(typeof b[Q][0]!="number"||typeof b[Q][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var vt=at.round(b[Q][0],b[Q][1]);vt.x===N.x&&vt.y===N.y||(this.segments.push(fe.fromRing(N,vt,this)),vt.x<this.bbox.ll.x&&(this.bbox.ll.x=vt.x),vt.y<this.bbox.ll.y&&(this.bbox.ll.y=vt.y),vt.x>this.bbox.ur.x&&(this.bbox.ur.x=vt.x),vt.y>this.bbox.ur.y&&(this.bbox.ur.y=vt.y),N=vt)}D.x===N.x&&D.y===N.y||this.segments.push(fe.fromRing(N,D,this))}return h(B,[{key:"getSweepEvents",value:function(){for(var b=[],k=0,T=this.segments.length;k<T;k++){var D=this.segments[k];b.push(D.leftSE),b.push(D.rightSE)}return b}}]),B}(),Nt=function(){function B(b,k){if(l(this,B),!Array.isArray(b))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new ae(b[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var T=1,D=b.length;T<D;T++){var N=new ae(b[T],this,!1);N.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=N.bbox.ll.x),N.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=N.bbox.ll.y),N.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=N.bbox.ur.x),N.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=N.bbox.ur.y),this.interiorRings.push(N)}this.multiPoly=k}return h(B,[{key:"getSweepEvents",value:function(){for(var b=this.exteriorRing.getSweepEvents(),k=0,T=this.interiorRings.length;k<T;k++)for(var D=this.interiorRings[k].getSweepEvents(),N=0,Q=D.length;N<Q;N++)b.push(D[N]);return b}}]),B}(),pt=function(){function B(b,k){if(l(this,B),!Array.isArray(b))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof b[0][0][0]=="number"&&(b=[b])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var T=0,D=b.length;T<D;T++){var N=new Nt(b[T],this);N.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=N.bbox.ll.x),N.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=N.bbox.ll.y),N.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=N.bbox.ur.x),N.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=N.bbox.ur.y),this.polys.push(N)}this.isSubject=k}return h(B,[{key:"getSweepEvents",value:function(){for(var b=[],k=0,T=this.polys.length;k<T;k++)for(var D=this.polys[k].getSweepEvents(),N=0,Q=D.length;N<Q;N++)b.push(D[N]);return b}}]),B}(),Pt=function(){function B(b){l(this,B),this.events=b;for(var k=0,T=b.length;k<T;k++)b[k].segment.ringOut=this;this.poly=null}return h(B,null,[{key:"factory",value:function(b){for(var k=[],T=0,D=b.length;T<D;T++){var N=b[T];if(N.isInResult()&&!N.ringOut){for(var Q=null,nt=N.leftSE,vt=N.rightSE,Tt=[nt],jt=nt.point,Wt=[];Q=nt,nt=vt,Tt.push(nt),nt.point!==jt;)for(;;){var Qt=nt.getAvailableLinkedEvents();if(Qt.length===0){var be=Tt[0].point,Xt=Tt[Tt.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(be.x,",")+" ".concat(be.y,"]. Last matching segment found ends at")+" [".concat(Xt.x,", ").concat(Xt.y,"]."))}if(Qt.length===1){vt=Qt[0].otherSE;break}for(var ye=null,ue=0,we=Wt.length;ue<we;ue++)if(Wt[ue].point===nt.point){ye=ue;break}if(ye===null){Wt.push({index:Tt.length,point:nt.point});var Re=nt.getLeftmostComparator(Q);vt=Qt.sort(Re)[0].otherSE;break}var Ge=Wt.splice(ye)[0],Ze=Tt.splice(Ge.index);Ze.unshift(Ze[0].otherSE),k.push(new B(Ze.reverse()))}k.push(new B(Tt))}}return k}}]),h(B,[{key:"getGeom",value:function(){for(var b=this.events[0].point,k=[b],T=1,D=this.events.length-1;T<D;T++){var N=this.events[T].point,Q=this.events[T+1].point;Et(N,b,Q)!==0&&(k.push(N),b=N)}if(k.length===1)return null;var nt=k[0],vt=k[1];Et(nt,b,vt)===0&&k.shift(),k.push(k[0]);for(var Tt=this.isExteriorRing()?1:-1,jt=this.isExteriorRing()?0:k.length-1,Wt=this.isExteriorRing()?k.length:-1,Qt=[],be=jt;be!=Wt;be+=Tt)Qt.push([k[be].x,k[be].y]);return Qt}},{key:"isExteriorRing",value:function(){if(this._isExteriorRing===void 0){var b=this.enclosingRing();this._isExteriorRing=!b||!b.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var b=this.events[0],k=1,T=this.events.length;k<T;k++){var D=this.events[k];$t.compare(b,D)>0&&(b=D)}for(var N=b.segment.prevInResult(),Q=N?N.prevInResult():null;;){if(!N)return null;if(!Q)return N.ringOut;if(Q.ringOut!==N.ringOut)return Q.ringOut.enclosingRing()!==N.ringOut?N.ringOut:N.ringOut.enclosingRing();N=Q.prevInResult(),Q=N?N.prevInResult():null}}}]),B}(),St=function(){function B(b){l(this,B),this.exteriorRing=b,b.poly=this,this.interiorRings=[]}return h(B,[{key:"addInterior",value:function(b){this.interiorRings.push(b),b.poly=this}},{key:"getGeom",value:function(){var b=[this.exteriorRing.getGeom()];if(b[0]===null)return null;for(var k=0,T=this.interiorRings.length;k<T;k++){var D=this.interiorRings[k].getGeom();D!==null&&b.push(D)}return b}}]),B}(),zt=function(){function B(b){l(this,B),this.rings=b,this.polys=this._composePolys(b)}return h(B,[{key:"getGeom",value:function(){for(var b=[],k=0,T=this.polys.length;k<T;k++){var D=this.polys[k].getGeom();D!==null&&b.push(D)}return b}},{key:"_composePolys",value:function(b){for(var k=[],T=0,D=b.length;T<D;T++){var N=b[T];if(!N.poly)if(N.isExteriorRing())k.push(new St(N));else{var Q=N.enclosingRing();Q.poly||k.push(new St(Q)),Q.poly.addInterior(N)}}return k}}]),B}(),le=function(){function B(b){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:fe.compare;l(this,B),this.queue=b,this.tree=new O(k),this.segments=[]}return h(B,[{key:"process",value:function(b){var k=b.segment,T=[];if(b.consumedBy)return b.isLeft?this.queue.remove(b.otherSE):this.tree.remove(k),T;var D=b.isLeft?this.tree.insert(k):this.tree.find(k);if(!D)throw new Error("Unable to find segment #".concat(k.id," ")+"[".concat(k.leftSE.point.x,", ").concat(k.leftSE.point.y,"] -> ")+"[".concat(k.rightSE.point.x,", ").concat(k.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var N=D,Q=D,nt=void 0,vt=void 0;nt===void 0;)(N=this.tree.prev(N))===null?nt=null:N.key.consumedBy===void 0&&(nt=N.key);for(;vt===void 0;)(Q=this.tree.next(Q))===null?vt=null:Q.key.consumedBy===void 0&&(vt=Q.key);if(b.isLeft){var Tt=null;if(nt){var jt=nt.getIntersection(k);if(jt!==null&&(k.isAnEndpoint(jt)||(Tt=jt),!nt.isAnEndpoint(jt)))for(var Wt=this._splitSafely(nt,jt),Qt=0,be=Wt.length;Qt<be;Qt++)T.push(Wt[Qt])}var Xt=null;if(vt){var ye=vt.getIntersection(k);if(ye!==null&&(k.isAnEndpoint(ye)||(Xt=ye),!vt.isAnEndpoint(ye)))for(var ue=this._splitSafely(vt,ye),we=0,Re=ue.length;we<Re;we++)T.push(ue[we])}if(Tt!==null||Xt!==null){var Ge=null;Ge=Tt===null?Xt:Xt===null||$t.comparePoints(Tt,Xt)<=0?Tt:Xt,this.queue.remove(k.rightSE),T.push(k.rightSE);for(var Ze=k.split(Ge),dn=0,cn=Ze.length;dn<cn;dn++)T.push(Ze[dn])}T.length>0?(this.tree.remove(k),T.push(b)):(this.segments.push(k),k.prev=nt)}else{if(nt&&vt){var We=nt.getIntersection(vt);if(We!==null){if(!nt.isAnEndpoint(We))for(var un=this._splitSafely(nt,We),Ln=0,$n=un.length;Ln<$n;Ln++)T.push(un[Ln]);if(!vt.isAnEndpoint(We))for(var qe=this._splitSafely(vt,We),Ne=0,Rn=qe.length;Ne<Rn;Ne++)T.push(qe[Ne])}}this.tree.remove(k)}return T}},{key:"_splitSafely",value:function(b,k){this.tree.remove(b);var T=b.rightSE;this.queue.remove(T);var D=b.split(k);return D.push(T),b.consumedBy===void 0&&this.tree.insert(b),D}}]),B}(),F=typeof process<"u"&&{}.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,K=typeof process<"u"&&{}.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,J=new(function(){function B(){l(this,B)}return h(B,[{key:"run",value:function(b,k,T){J.type=b,at.reset();for(var D=[new pt(k,!0)],N=0,Q=T.length;N<Q;N++)D.push(new pt(T[N],!1));if(J.numMultiPolys=D.length,J.type==="difference")for(var nt=D[0],vt=1;vt<D.length;)W(D[vt].bbox,nt.bbox)!==null?vt++:D.splice(vt,1);if(J.type==="intersection"){for(var Tt=0,jt=D.length;Tt<jt;Tt++)for(var Wt=D[Tt],Qt=Tt+1,be=D.length;Qt<be;Qt++)if(W(Wt.bbox,D[Qt].bbox)===null)return[]}for(var Xt=new O($t.compare),ye=0,ue=D.length;ye<ue;ye++)for(var we=D[ye].getSweepEvents(),Re=0,Ge=we.length;Re<Ge;Re++)if(Xt.insert(we[Re]),Xt.size>F)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var Ze=new le(Xt),dn=Xt.size,cn=Xt.pop();cn;){var We=cn.key;if(Xt.size===dn){var un=We.segment;throw new Error("Unable to pop() ".concat(We.isLeft?"left":"right"," SweepEvent ")+"[".concat(We.point.x,", ").concat(We.point.y,"] from segment #").concat(un.id," ")+"[".concat(un.leftSE.point.x,", ").concat(un.leftSE.point.y,"] -> ")+"[".concat(un.rightSE.point.x,", ").concat(un.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(Xt.size>F)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(Ze.segments.length>K)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var Ln=Ze.process(We),$n=0,qe=Ln.length;$n<qe;$n++){var Ne=Ln[$n];Ne.consumedBy===void 0&&Xt.insert(Ne)}dn=Xt.size,cn=Xt.pop()}at.reset();var Rn=Pt.factory(Ze.segments);return new zt(Rn).getGeom()}}]),B}()),ht=function(B){for(var b=arguments.length,k=new Array(b>1?b-1:0),T=1;T<b;T++)k[T-1]=arguments[T];return J.run("union",B,k)},yt=function(B){for(var b=arguments.length,k=new Array(b>1?b-1:0),T=1;T<b;T++)k[T-1]=arguments[T];return J.run("intersection",B,k)},xt=function(B){for(var b=arguments.length,k=new Array(b>1?b-1:0),T=1;T<b;T++)k[T-1]=arguments[T];return J.run("xor",B,k)},Ot=function(B){for(var b=arguments.length,k=new Array(b>1?b-1:0),T=1;T<b;T++)k[T-1]=arguments[T];return J.run("difference",B,k)};return{union:ht,intersection:yt,xor:xt,difference:Ot}}()},2582:function(i){i.exports=function(){function l(E,z,W,ot,Y){(function st(ct,gt,at,bt,Lt){for(;bt>at;){if(bt-at>600){var Et=bt-at+1,Ct=gt-at+1,Vt=Math.log(Et),wt=.5*Math.exp(2*Vt/3),pe=.5*Math.sqrt(Vt*wt*(Et-wt)/Et)*(Ct-Et/2<0?-1:1);st(ct,gt,Math.max(at,Math.floor(gt-Ct*wt/Et+pe)),Math.min(bt,Math.floor(gt+(Et-Ct)*wt/Et+pe)),Lt)}var Dt=ct[gt],Bt=at,$t=bt;for(c(ct,at,gt),Lt(ct[bt],Dt)>0&&c(ct,at,bt);Bt<$t;){for(c(ct,Bt,$t),Bt++,$t--;Lt(ct[Bt],Dt)<0;)Bt++;for(;Lt(ct[$t],Dt)>0;)$t--}Lt(ct[at],Dt)===0?c(ct,at,$t):c(ct,++$t,bt),$t<=gt&&(at=$t+1),gt<=$t&&(bt=$t-1)}})(E,z,W||0,ot||E.length-1,Y||h)}function c(E,z,W){var ot=E[z];E[z]=E[W],E[W]=ot}function h(E,z){return E<z?-1:E>z?1:0}var d=function(E){E===void 0&&(E=9),this._maxEntries=Math.max(4,E),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function m(E,z,W){if(!W)return z.indexOf(E);for(var ot=0;ot<z.length;ot++)if(W(E,z[ot]))return ot;return-1}function g(E,z){y(E,0,E.children.length,z,E)}function y(E,z,W,ot,Y){Y||(Y=R(null)),Y.minX=1/0,Y.minY=1/0,Y.maxX=-1/0,Y.maxY=-1/0;for(var st=z;st<W;st++){var ct=E.children[st];w(Y,E.leaf?ot(ct):ct)}return Y}function w(E,z){return E.minX=Math.min(E.minX,z.minX),E.minY=Math.min(E.minY,z.minY),E.maxX=Math.max(E.maxX,z.maxX),E.maxY=Math.max(E.maxY,z.maxY),E}function M(E,z){return E.minX-z.minX}function I(E,z){return E.minY-z.minY}function O(E){return(E.maxX-E.minX)*(E.maxY-E.minY)}function S(E){return E.maxX-E.minX+(E.maxY-E.minY)}function U(E,z){return E.minX<=z.minX&&E.minY<=z.minY&&z.maxX<=E.maxX&&z.maxY<=E.maxY}function C(E,z){return z.minX<=E.maxX&&z.minY<=E.maxY&&z.maxX>=E.minX&&z.maxY>=E.minY}function R(E){return{children:E,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function V(E,z,W,ot,Y){for(var st=[z,W];st.length;)if(!((W=st.pop())-(z=st.pop())<=ot)){var ct=z+Math.ceil((W-z)/ot/2)*ot;l(E,ct,z,W,Y),st.push(z,ct,ct,W)}}return d.prototype.all=function(){return this._all(this.data,[])},d.prototype.search=function(E){var z=this.data,W=[];if(!C(E,z))return W;for(var ot=this.toBBox,Y=[];z;){for(var st=0;st<z.children.length;st++){var ct=z.children[st],gt=z.leaf?ot(ct):ct;C(E,gt)&&(z.leaf?W.push(ct):U(E,gt)?this._all(ct,W):Y.push(ct))}z=Y.pop()}return W},d.prototype.collides=function(E){var z=this.data;if(!C(E,z))return!1;for(var W=[];z;){for(var ot=0;ot<z.children.length;ot++){var Y=z.children[ot],st=z.leaf?this.toBBox(Y):Y;if(C(E,st)){if(z.leaf||U(E,st))return!0;W.push(Y)}}z=W.pop()}return!1},d.prototype.load=function(E){if(!E||!E.length)return this;if(E.length<this._minEntries){for(var z=0;z<E.length;z++)this.insert(E[z]);return this}var W=this._build(E.slice(),0,E.length-1,0);if(this.data.children.length)if(this.data.height===W.height)this._splitRoot(this.data,W);else{if(this.data.height<W.height){var ot=this.data;this.data=W,W=ot}this._insert(W,this.data.height-W.height-1,!0)}else this.data=W;return this},d.prototype.insert=function(E){return E&&this._insert(E,this.data.height-1),this},d.prototype.clear=function(){return this.data=R([]),this},d.prototype.remove=function(E,z){if(!E)return this;for(var W,ot,Y,st=this.data,ct=this.toBBox(E),gt=[],at=[];st||gt.length;){if(st||(st=gt.pop(),ot=gt[gt.length-1],W=at.pop(),Y=!0),st.leaf){var bt=m(E,st.children,z);if(bt!==-1)return st.children.splice(bt,1),gt.push(st),this._condense(gt),this}Y||st.leaf||!U(st,ct)?ot?(W++,st=ot.children[W],Y=!1):st=null:(gt.push(st),at.push(W),W=0,ot=st,st=st.children[0])}return this},d.prototype.toBBox=function(E){return E},d.prototype.compareMinX=function(E,z){return E.minX-z.minX},d.prototype.compareMinY=function(E,z){return E.minY-z.minY},d.prototype.toJSON=function(){return this.data},d.prototype.fromJSON=function(E){return this.data=E,this},d.prototype._all=function(E,z){for(var W=[];E;)E.leaf?z.push.apply(z,E.children):W.push.apply(W,E.children),E=W.pop();return z},d.prototype._build=function(E,z,W,ot){var Y,st=W-z+1,ct=this._maxEntries;if(st<=ct)return g(Y=R(E.slice(z,W+1)),this.toBBox),Y;ot||(ot=Math.ceil(Math.log(st)/Math.log(ct)),ct=Math.ceil(st/Math.pow(ct,ot-1))),(Y=R([])).leaf=!1,Y.height=ot;var gt=Math.ceil(st/ct),at=gt*Math.ceil(Math.sqrt(ct));V(E,z,W,at,this.compareMinX);for(var bt=z;bt<=W;bt+=at){var Lt=Math.min(bt+at-1,W);V(E,bt,Lt,gt,this.compareMinY);for(var Et=bt;Et<=Lt;Et+=gt){var Ct=Math.min(Et+gt-1,Lt);Y.children.push(this._build(E,Et,Ct,ot-1))}}return g(Y,this.toBBox),Y},d.prototype._chooseSubtree=function(E,z,W,ot){for(;ot.push(z),!z.leaf&&ot.length-1!==W;){for(var Y=1/0,st=1/0,ct=void 0,gt=0;gt<z.children.length;gt++){var at=z.children[gt],bt=O(at),Lt=(Et=E,Ct=at,(Math.max(Ct.maxX,Et.maxX)-Math.min(Ct.minX,Et.minX))*(Math.max(Ct.maxY,Et.maxY)-Math.min(Ct.minY,Et.minY))-bt);Lt<st?(st=Lt,Y=bt<Y?bt:Y,ct=at):Lt===st&&bt<Y&&(Y=bt,ct=at)}z=ct||z.children[0]}var Et,Ct;return z},d.prototype._insert=function(E,z,W){var ot=W?E:this.toBBox(E),Y=[],st=this._chooseSubtree(ot,this.data,z,Y);for(st.children.push(E),w(st,ot);z>=0&&Y[z].children.length>this._maxEntries;)this._split(Y,z),z--;this._adjustParentBBoxes(ot,Y,z)},d.prototype._split=function(E,z){var W=E[z],ot=W.children.length,Y=this._minEntries;this._chooseSplitAxis(W,Y,ot);var st=this._chooseSplitIndex(W,Y,ot),ct=R(W.children.splice(st,W.children.length-st));ct.height=W.height,ct.leaf=W.leaf,g(W,this.toBBox),g(ct,this.toBBox),z?E[z-1].children.push(ct):this._splitRoot(W,ct)},d.prototype._splitRoot=function(E,z){this.data=R([E,z]),this.data.height=E.height+1,this.data.leaf=!1,g(this.data,this.toBBox)},d.prototype._chooseSplitIndex=function(E,z,W){for(var ot,Y,st,ct,gt,at,bt,Lt=1/0,Et=1/0,Ct=z;Ct<=W-z;Ct++){var Vt=y(E,0,Ct,this.toBBox),wt=y(E,Ct,W,this.toBBox),pe=(Y=Vt,st=wt,ct=void 0,gt=void 0,at=void 0,bt=void 0,ct=Math.max(Y.minX,st.minX),gt=Math.max(Y.minY,st.minY),at=Math.min(Y.maxX,st.maxX),bt=Math.min(Y.maxY,st.maxY),Math.max(0,at-ct)*Math.max(0,bt-gt)),Dt=O(Vt)+O(wt);pe<Lt?(Lt=pe,ot=Ct,Et=Dt<Et?Dt:Et):pe===Lt&&Dt<Et&&(Et=Dt,ot=Ct)}return ot||W-z},d.prototype._chooseSplitAxis=function(E,z,W){var ot=E.leaf?this.compareMinX:M,Y=E.leaf?this.compareMinY:I;this._allDistMargin(E,z,W,ot)<this._allDistMargin(E,z,W,Y)&&E.children.sort(ot)},d.prototype._allDistMargin=function(E,z,W,ot){E.children.sort(ot);for(var Y=this.toBBox,st=y(E,0,z,Y),ct=y(E,W-z,W,Y),gt=S(st)+S(ct),at=z;at<W-z;at++){var bt=E.children[at];w(st,E.leaf?Y(bt):bt),gt+=S(st)}for(var Lt=W-z-1;Lt>=z;Lt--){var Et=E.children[Lt];w(ct,E.leaf?Y(Et):Et),gt+=S(ct)}return gt},d.prototype._adjustParentBBoxes=function(E,z,W){for(var ot=W;ot>=0;ot--)w(z[ot],E)},d.prototype._condense=function(E){for(var z=E.length-1,W=void 0;z>=0;z--)E[z].children.length===0?z>0?(W=E[z-1].children).splice(W.indexOf(E[z]),1):this.clear():g(E[z],this.toBBox)},d}()}},n={};function o(i){var l=n[i];if(l!==void 0)return l.exports;var c=n[i]={id:i,loaded:!1,exports:{}};return t[i].call(c.exports,c,c.exports,o),c.loaded=!0,c.exports}o.n=i=>{var l=i&&i.__esModule?()=>i.default:()=>i;return o.d(l,{a:l}),l},o.d=(i,l)=>{for(var c in l)o.o(l,c)&&!o.o(i,c)&&Object.defineProperty(i,c,{enumerable:!0,get:l[c]})},o.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),o.o=(i,l)=>Object.prototype.hasOwnProperty.call(i,l),o.nmd=i=>(i.paths=[],i.children||(i.children=[]),i),o(5975)})();const fx={__name:"VMap.client",props:{controls:{type:Boolean,default:!1},dragging:{type:Boolean,default:!1},zoomAnimate:{type:Boolean,default:!1},width:{type:String,default:void 0},height:{type:String,default:void 0},zoom:{type:Number,default:18},maxZoom:{type:Number,default:18},minZoom:{type:Number,default:0},disableZoom:{type:Boolean,default:!1},center:{type:Array,default:()=>[0,0]},geojson:{type:Object,default:void 0},zoomBounds:{type:Number,default:void 0},geojsonOptions:{type:Object,default:()=>({})},prefix:{type:[String,Boolean],default:!1}},emits:["geojson:ready","geojson","add:layer","draw:start","edit:layer","drag:layer","zoom:change","zoom:start"],setup(t,{expose:n,emit:o}){const i=t;delete vn.Icon.Default.prototype._getIconUrl,vn.Icon.Default.mergeOptions({iconRetinaUrl:Xw,iconUrl:Qw,shadowUrl:tx});let l,c,h,d;const m=qt(null),g=de(()=>({maxZoom:i.zoomBounds,zoom:{animate:i.zoomAnimate}}));Ke(()=>i.geojson,C=>{d.clearLayers(),S(C)},{deep:!0}),Ke(()=>i.dragging,C=>{C?l.dragging.enable():l.dragging.disable()}),en(()=>{const C=dx(vn,{maxZoom:i.maxZoom,minZoom:i.minZoom,className:"map-tiles"}),[R]=Object.values(C),V={center:i.center,zoom:i.zoom,worldCopyJump:!0,dragging:i.dragging};i.disableZoom&&Object.assign(V,{scrollWheelZoom:!1,zoomControl:!1,doubleClickZoom:!1,touchZoom:!1,boxZoom:!1}),h=new vn.FeatureGroup,d=new vn.FeatureGroup,l=vn.map(m.value,V),l.attributionControl.setPrefix(i.prefix),l.pm.setGlobalOptions({layerGroup:h}),d.addTo(l),l.addLayer(h),l.addLayer(d),i.geojson&&S(i.geojson),i.controls&&(l.pm.addControls({position:"topleft",drawText:!1,drawCircle:!1,drawPolyline:!1,drawCircleMarker:!1,drawMarker:!1,cutPolygon:!1}),l.on("pm:create",E=>{o("geojson",y()),o("add:layer",M(E.layer))}),h.on("pm:edit",E=>{o("geojson",y()),o("edit:layer",M(E.layer))}),l.on("pm:drawstart",E=>{w(),o("draw:start",E)}),l.on("zoom",E=>o("zoom:change",E)),l.on("zoomstart",E=>o("zoom:start",E))),R.addTo(l),Object.keys(C).length>1&&vn.control.layers(C,{},{position:"topleft",collapsed:!1}).addTo(l),O()});function y(){const C=vn.featureGroup();return h.eachLayer(R=>{(R instanceof vn.Path||R instanceof vn.Marker)&&R.pm&&C.addLayer(R)}),C.toGeoJSON()}function w(){h.clearLayers()}function M(C){const R=C.toGeoJSON();return typeof C.getRadius=="function"&&(R.properties.radius=C.getRadius()),R}const I=()=>{if(!d)return;const C=d.getBounds();l.invalidateSize(),xs(()=>{Object.keys(C).length&&l.fitBounds(C,g.value)})},O=()=>{c=new ResizeObserver(C=>{C[0].contentRect,I()}),c.observe(m.value)};Zr(()=>{d.clearLayers(),c==null||c.disconnect()});function S(C){if(C){vn.geoJSON(C,{...cx(vn),...i.geojsonOptions}).addTo(d);const R=d.getBounds();R.isValid()&&l.fitBounds(R,g.value)}o("geojson:ready",d)}function U(){return l}return n({clearDrawLayers:w,getMapObject:U,resizeMap:I}),(C,R)=>(Z(),et("div",{ref_key:"leafletMap",ref:m,style:$r({width:i.width,height:i.height})},null,4))}};function mx(t){gx(t,Object.assign({"/src/components/Map/VMap.client.vue":fx}))}function gx(t,n){Object.entries(n).forEach(([i,l])=>{const c=i.split("/").pop().replace(/\.client.\w+$/,"");t.component(c,l)})}const _x=["innerHTML"],yx={key:0,class:"h-4 inline",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},vx=it("path",{"stroke-linecap":"round",d:"M16.5 12a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zm0 0c0 1.657 1.007 3 2.25 3S21 13.657 21 12a9 9 0 10-2.636 6.364M16.5 12V8.25"},null,-1),bx=[vx],wx={key:1,class:"inline h-4 w-1"},xx=it("circle",{cy:"calc(100% - 5px)",cx:"2.5",r:"1",fill:"currentColor"},null,-1),kx=[xx],Lx=["innerHTML"],Mx={__name:"AddressMaker.global",props:{items:{type:Array,required:!0}},setup(t){const n=t,o=de(()=>{const[l,...c]=n.items;return{username:l,host:c}});function i(){const[l,...c]=n.items;document.location.href=`mailto:${l}@${c.join(".")}`}return(l,c)=>(Z(),et("span",{class:"text-secondary-color cursor-pointer whitespace-nowrap",onClick:i},[it("span",{innerHTML:o.value.username},null,8,_x),(Z(!0),et(Gt,null,ve(o.value.host,(h,d)=>(Z(),et(Gt,null,[d===0?(Z(),et("svg",yx,bx)):(Z(),et("svg",wx,kx)),it("span",{innerHTML:h},null,8,Lx)],64))),256))]))}},Cx={};function Px(t,n){return Z(),At(fl,{"enter-active-class":"duration-500 ease-out origin-top","enter-from-class":"transform opacity-0 scale-y-0","enter-to-class":"opacity-100 scale-y-100","leave-active-class":"duration-200 ease-in origin-top","leave-from-class":"opacity-100 scale-y-100","leave-to-class":"transform opacity-0 scale-y-0"},{default:mt(()=>[Ee(t.$slots,"default")]),_:3})}const Sx=ie(Cx,[["render",Px]]),Ex={},Tx={viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:"green"},Ox=Th('<g fill="none" fill-rule="evenodd"><g transform="translate(1 1)" stroke-width="2"><circle stroke-opacity=".5" cx="18" cy="18" r="18"></circle><path d="M36 18c0-9.94-8.06-18-18-18"><animateTransform attributeName="transform" type="rotate" from="0 18 18" to="360 18 18" dur="1s" repeatCount="indefinite"></animateTransform></path></g></g>',1),Rx=[Ox];function Ax(t,n){return Z(),et("svg",Tx,Rx)}const Bx=ie(Ex,[["render",Ax]]);const Ix={class:"autocomplete md:block md:mr-0 mr-3 relative w-fit"},Dx={class:"flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none"},zx=["placeholder"],jx={key:1,class:"autocomplete__list list absolute z-[500] max-h-52 w-full overflow-y-auto border bg-base-foreground border-base-border !m-0 shadow-md"},Nx=["onClick"],Fx=["innerHTML"],Hx=500,Vx={__name:"Autocomplete.global",props:{autofocus:{type:Boolean,default:!1},placeholder:{type:String,default:"Search..."},url:{type:String,required:!0},queryParam:{type:String,default:"term"},params:{type:Object,default:()=>({})},label:{type:String,default:"label"}},emits:["select"],setup(t,{emit:n}){const o=t,i=qt(""),l=qt([]),c=qt(!1),h=qt(null);let d;Ke(i,g=>{clearTimeout(d),g.length?d=setTimeout(()=>{c.value=!0,Je.get(o.url,{params:{...o.params,[o.queryParam]:i.value}}).then(({data:y})=>{c.value=!1,l.value=y})},Hx):l.value=[]});const m=g=>{n("select",g),i.value=""};return en(()=>{o.autofocus&&h.value.focus()}),(g,y)=>{const w=dt("IconSearch");return Z(),et("div",Ix,[it("div",Dx,[rt(w,{class:"w-4 h-4 text-gray-500"})]),vo(it("input",{"onUpdate:modelValue":y[0]||(y[0]=M=>i.value=M),type:"text",autocomplete:"none",class:"autocomplete__input block box-border min-w-full p-1.5 pl-10 text-base-content rounded border sm:text-sm placeholder:text-sm dark:border-slate-700 border-gray-300 dark:placeholder:text-slate-400 focus:ring-primary-500 focus:border-primary-500",placeholder:t.placeholder,ref_key:"inputElement",ref:h},null,8,zx),[[Fm,i.value]]),c.value?(Z(),At(Bx,{key:0,class:"absolute top-1/2 -translate-y-1/2 right-2 h-5 w-5"})):Ht("",!0),l.value.length?(Z(),et("ul",jx,[(Z(!0),et(Gt,null,ve(l.value,M=>(Z(),et("li",{key:M.id,class:"autocomplete__item px-3 py-2 border-b text-xs cursor-pointer hover:bg-secondary-color hover:bg-opacity-5 border-base-border truncate",onClick:I=>m(M)},[it("span",{innerHTML:M[t.label]},null,8,Fx)],8,Nx))),128))])):Ht("",!0)])}}},Ep=ie(Vx,[["__scopeId","data-v-c5caf34f"]]),$x={__name:"AutocompleteOtu.global",props:{autofocus:{type:Boolean,default:!1}},setup(t){const n=rp(),o=({id:i,otu_valid_id:l})=>{n.push({name:"otus-id-overview",params:{id:l||i}})};return(i,l)=>(Z(),At(Ep,{url:"/otus/autocomplete","query-param":"term",label:"label_html",autofocus:t.autofocus,params:{having_taxon_name_only:!0},onSelect:o},null,8,["autofocus"]))}},Ux=["title"],Gx={__name:"ButtonExpand.global",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(t,{emit:n}){const o=t,i=de({get(){return o.modelValue},set(l){n("update:modelValue",l)}});return(l,c)=>{const h=dt("IconMinusCircle"),d=dt("IconPlusCircle");return Z(),et("button",{type:"button",title:i.value?"Close":"Expand",class:"button-expand bg-base-foreground text-secondary-color w-5 h-5",onClick:c[0]||(c[0]=m=>i.value=!i.value)},[i.value?(Z(),At(h,{key:0,class:"w-5 h-5"})):(Z(),At(d,{key:1,class:"w-5 h-5"}))],8,Ux)}}},Zx={__name:"VButton.global",props:{primary:{type:Boolean,default:!1},secondary:{type:Boolean,default:!1}},setup(t){return(n,o)=>(Z(),et("button",{type:"button",class:tn(["px-3 py-1 hover:bg-opacity-80",{"bg-primary-color":t.primary,"bg-secondary-color":t.secondary,"text-primary-content":t.primary,"text-secondary-content":t.secondary}])},[Ee(n.$slots,"default")],2))}};const qx={},Kx={class:"border-1 card border-base-muted bg-base-foreground print:shadow-none print:border-0 rounded"};function Wx(t,n){return Z(),et("div",Kx,[Ee(t.$slots,"default")])}const Jx=ie(qx,[["render",Wx]]),Yx={},Xx={class:"p-4 pl-5 pr-5"};function Qx(t,n){return Z(),et("div",Xx,[Ee(t.$slots,"default")])}const t1=ie(Yx,[["render",Qx]]),e1={},n1={class:"p-4 pl-5 pr-5 border-b font-medium border-base-muted"};function r1(t,n){return Z(),et("div",n1,[Ee(t.$slots,"default")])}const i1=ie(e1,[["render",r1]]),o1={__name:"VClipboard.global",props:{text:{type:String,required:!0},delay:{type:Number,default:2e3}},setup(t){const n=t,o=qt(!1);let i;function l(){navigator.clipboard.writeText(n.text).then(()=>{o.value=!0,i=setTimeout(()=>{o.value=!1},n.delay)})}return Lr(()=>{clearTimeout(i)}),(c,h)=>{const d=dt("IconCheck"),m=dt("IconClipboard"),g=dt("VButton");return Z(),At(g,{class:"px-2 py-2 rounded-full",primary:"",onClick:l},{default:mt(()=>[o.value?(Z(),At(d,{key:0,class:"w-4 h-4"})):(Z(),At(m,{key:1,class:"w-4 h-4"}))]),_:1})}}},s1={class:"relative inline"},a1=["onClick"],l1={__name:"Dropdown.global",props:{items:{type:Array,default:()=>[]}},setup(t){const n=qt(null),o=qt(!1),i=()=>{o.value=!o.value},l=h=>{o.value=!1,h.action()};function c(h){var d;(!h.target||!((d=n.value)!=null&&d.contains(h.target)))&&(o.value=!1)}return en(()=>{document.addEventListener("pointerdown",c,{passive:!0,capture:!0})}),Lr(()=>{document.removeEventListener("pointerdown",c,{capture:!0})}),(h,d)=>(Z(),et("div",s1,[it("button",{title:"Menu",onClick:i},[Ee(h.$slots,"button")]),o.value?(Z(),et("ul",{key:0,ref_key:"element",ref:n,class:"bg-base-foreground absolute font-normal text-sm text-base-lighter right-0 z-10 mt-2 w-56 origin-top-right rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},[(Z(!0),et(Gt,null,ve(t.items,m=>(Z(),et("li",{key:m.label,class:"block w-full px-4 py-2 text-left cursor-pointer hover:bg-secondary-color hover:bg-opacity-5 box-border border-b border-base-border last:border-b-0",onClick:g=>l(m)},te(m.label),9,a1))),128))],512)):Ht("",!0)]))}},c1=["title"],u1=["alt","src"],h1={__name:"GalleryThumbnail",props:{image:{type:Object,required:!0},title:{type:String,default:void 0}},setup(t){return(n,o)=>(Z(),et("div",{class:"bg-base-background flex flex-col justify-center cursor-pointer w-24 max-h-20 h-20 border-base-muted rounded-md border",title:t.title},[it("img",{class:"max-h-20 max-w-24 h-20 w-24 object-contain rounded",alt:t.title,src:t.image.thumb},null,8,u1)],8,c1))}},p1={class:"flex flex-row overflow-x-auto print:flex-wrap"},Tp={__name:"GalleryThumbnailList",props:{images:{type:Array,default:()=>[]},current:{type:Number,default:void 0}},emits:["selectIndex"],setup(t,{emit:n}){return(o,i)=>(Z(),et("div",p1,[(Z(!0),et(Gt,null,ve(t.images,(l,c)=>(Z(),et("div",{key:l.id,class:"pr-1.5 last:pr-0"},[rt(h1,{image:l,class:tn({"border border-secondary-color":t.current===c}),title:l.depictions.map(h=>h.label).join(";"),onClick:h=>n("selectIndex",c)},null,8,["image","class","title","onClick"])]))),128))]))}},d1={class:"h-80 max-h-80 flex items-center justify-center"},f1=["textContent"],m1=["src","alt"],g1={__name:"GalleryMainImage",props:{image:{type:Object,required:!0}},emits:["open:viewer"],setup(t,{emit:n}){const o=t,i=qt(!1),l=qt(null),c=qt(null);Ke(()=>o.image,m=>{m.original&&(c.value=null,i.value=!0)});function h(m){m.preventDefault(),i.value=!1,c.value="Image was not found or format is not supported"}function d(){i.value=!1}return en(()=>{l.value.addEventListener("load",d),l.value.addEventListener("error",h)}),(m,g)=>{const y=dt("VSpinner"),w=dt("ClientOnly");return Z(),et("div",d1,[rt(w,null,{default:mt(()=>[i.value?(Z(),At(y,{key:0})):Ht("",!0)]),_:1}),c.value?(Z(),et("span",{key:0,textContent:te(c.value)},null,8,f1)):Ht("",!0),vo(it("img",{ref_key:"imageElement",ref:l,class:"max-h-80 h-max w-100 cursor-zoom-in m-auto object-contain",src:t.image.original,alt:t.image.depictions.map(M=>M.label).join(";"),onClick:g[0]||(g[0]=M=>n("open:viewer"))},null,8,m1),[[Ts,!c.value]])])}}},_1={class:"flex flex-col"},y1={class:"flex justify-center border print:hidden bg-base-0 border-base-muted"},v1={__name:"GalleryImage.global",props:{images:{type:Array,default:()=>[]}},setup(t){const n=t,o=qt(!1),i=qt(0),l=de(()=>n.images[i.value]||{}),c=()=>{i.value--},h=()=>{i.value++};return Ke(()=>n.images,()=>{i.value=0},{immediate:!0}),(d,m)=>{const g=dt("ImageViewer");return Z(),et(Gt,null,[it("div",_1,[it("div",y1,[rt(g1,{image:l.value,"onOpen:viewer":m[0]||(m[0]=()=>o.value=!0)},null,8,["image"])]),rt(Tp,{class:"pt-2 pb-2",images:t.images,onSelectIndex:m[1]||(m[1]=y=>{i.value=y})},null,8,["images"])]),o.value?(Z(),At(g,{key:0,index:i.value,images:t.images,next:i.value<n.images.length-1,previous:i.value>0,onSelectIndex:m[2]||(m[2]=y=>i.value=y),onNext:m[3]||(m[3]=y=>h()),onPrevious:m[4]||(m[4]=y=>c()),onClose:m[5]||(m[5]=y=>o.value=!1)},null,8,["index","images","next","previous"])):Ht("",!0)],64)}}},b1={},w1={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},x1=it("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"},null,-1),k1=[x1];function L1(t,n){return Z(),et("svg",w1,k1)}const M1=ie(b1,[["render",L1]]),C1={},P1={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},S1=it("path",{class:"drop-shadow","stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19l-7-7 7-7"},null,-1),E1=[S1];function T1(t,n){return Z(),et("svg",P1,E1)}const O1=ie(C1,[["render",T1]]),R1={},A1={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},B1=it("path",{class:"drop-shadow","stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5l7 7-7 7"},null,-1),I1=[B1];function D1(t,n){return Z(),et("svg",A1,I1)}const z1=ie(R1,[["render",D1]]),j1={},N1={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},F1=it("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"},null,-1),H1=[F1];function V1(t,n){return Z(),et("svg",N1,H1)}const $1=ie(j1,[["render",V1]]),U1={},G1={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Z1=it("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"},null,-1),q1=[Z1];function K1(t,n){return Z(),et("svg",G1,q1)}const W1=ie(U1,[["render",K1]]),J1={},Y1={xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},X1=it("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"},null,-1),Q1=[X1];function tk(t,n){return Z(),et("svg",Y1,Q1)}const ek=ie(J1,[["render",tk]]),nk={},rk={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},ik=it("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},null,-1),ok=[ik];function sk(t,n){return Z(),et("svg",rk,ok)}const ak=ie(nk,[["render",sk]]),lk={},ck={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},uk=it("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"},null,-1),hk=[uk];function pk(t,n){return Z(),et("svg",ck,hk)}const dk=ie(lk,[["render",pk]]),fk={},mk={viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true"},gk=it("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"},null,-1),_k=[gk];function yk(t,n){return Z(),et("svg",mk,_k)}const vk=ie(fk,[["render",yk]]),bk={},wk={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},xk=it("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 6h16M4 12h16M4 18h16"},null,-1),kk=[xk];function Lk(t,n){return Z(),et("svg",wk,kk)}const Mk=ie(bk,[["render",Lk]]),Ck={},Pk={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24"},Sk=it("path",{fill:"currentColor",d:"M5 3h2v2H5v5a2 2 0 0 1-2 2a2 2 0 0 1 2 2v5h2v2H5c-1.07-.27-2-.9-2-2v-4a2 2 0 0 0-2-2H0v-2h1a2 2 0 0 0 2-2V5a2 2 0 0 1 2-2m14 0a2 2 0 0 1 2 2v4a2 2 0 0 0 2 2h1v2h-1a2 2 0 0 0-2 2v4a2 2 0 0 1-2 2h-2v-2h2v-5a2 2 0 0 1 2-2a2 2 0 0 1-2-2V5h-2V3h2m-7 12a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1m-4 0a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1m8 0a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1Z"},null,-1),Ek=[Sk];function Tk(t,n){return Z(),et("svg",Pk,Ek)}const Ok=ie(Ck,[["render",Tk]]),Rk={},Ak={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Bk=it("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),Ik=[Bk];function Dk(t,n){return Z(),et("svg",Ak,Ik)}const zk=ie(Rk,[["render",Dk]]),jk={},Nk={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Fk=it("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),Hk=[Fk];function Vk(t,n){return Z(),et("svg",Nk,Hk)}const $k=ie(jk,[["render",Vk]]),Uk={},Gk={xmlns:"http://www.w3.org/2000/svg",class:"text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Zk=it("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"},null,-1),qk=[Zk];function Kk(t,n){return Z(),et("svg",Gk,qk)}const Wk=ie(Uk,[["render",Kk]]),Jk={},Yk={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Xk=it("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"},null,-1),Qk=[Xk];function tL(t,n){return Z(),et("svg",Yk,Qk)}const eL=ie(Jk,[["render",tL]]),nL={},rL={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},iL=it("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"},null,-1),oL=[iL];function sL(t,n){return Z(),et("svg",rL,oL)}const aL=ie(nL,[["render",sL]]),lL={__name:"ImageAttribution",props:{attribution:{type:Object,default:()=>({})}},setup(t){return(n,o)=>(Z(),et("div",null,[it("p",null,te(t.attribution.label),1)]))}},cL={__name:"ImageDepictions",props:{depictions:{type:Array,default:()=>[]}},setup(t){return(n,o)=>(Z(),et("div",null,[(Z(!0),et(Gt,null,ve(t.depictions,i=>(Z(),et("div",{key:i.id},[it("p",null,te(i.label),1)]))),128))]))}},uL=["innerHTML"],hL={__name:"ImageSource",props:{source:{type:Object,default:()=>({})}},setup(t){return(n,o)=>(Z(),et("div",null,[it("p",{innerHTML:t.source.label},null,8,uL)]))}},pL={class:"p-2 text-black dark:text-white opacity-50"},dL={__name:"ImageViewerCounter",props:{currentImage:{type:Number,required:!0},totalImages:{type:Number,required:!0}},setup(t){return(n,o)=>(Z(),et("span",pL,te(t.currentImage+1)+"/"+te(t.totalImages),1))}},fL={},mL={type:"button",class:"p-2 cursor-pointer opacity-50 bg-base-content text-base-background",title:"Next image"};function gL(t,n){const o=dt("IconArrowRight");return Z(),et("button",mL,[rt(o,{class:"h-8 w-8"})])}const _L=ie(fL,[["render",gL]]),yL={},vL={type:"button",class:"p-2 cursor-pointer opacity-50 bg-base-content text-base-background",title:"Previous image"};function bL(t,n){const o=dt("IconArrowLeft");return Z(),et("button",vL,[rt(o,{class:"h-8 w-8"})])}const wL=ie(yL,[["render",bL]]),xL={},kL={class:"p-2 box-border flex justify-between"};function LL(t,n){return Z(),et("div",kL,[it("div",null,[Ee(t.$slots,"default")]),it("div",null,[Ee(t.$slots,"right")])])}const ML=ie(xL,[["render",LL]]),CL={},PL={type:"button",class:"p-2 cursor-pointer opacity-50 text-base-content"};function SL(t,n){const o=dt("IconClose");return Z(),et("button",PL,[rt(o)])}const EL=ie(CL,[["render",SL]]),TL={class:"fixed z-[10000] h-full overflow-y-hidden overflow-x-hidden w-full top-0 left-0 flex flex-col items-center justify-center backdrop-blur-md bg-base-foreground"},OL={class:"absolute rounded-t-lg w-auto max-h-full h-auto top-12 bottom-44 left-0 right-0 flex justify-center align-middle"},RL=["textContent"],AL=["alt","src"],BL={class:"bottom-0 fixed max-w-full w-full"},IL={class:"text-base-content text-sm attributions p-6 align-middle flex justify-between flex-col text-center"},DL={class:"flex justify-center"},zL={__name:"ImageViewer.global",props:{index:{type:Number,required:!0},images:{type:Array,default:()=>[]},next:{type:Boolean,default:!1},previous:{type:Boolean,default:!1}},emits:["close","previous","next","selectIndex"],setup(t,{emit:n}){const o=t,i=({key:y})=>{switch(y){case"ArrowLeft":o.previous&&n("previous");break;case"ArrowRight":o.next&&n("next");break;case"Escape":n("close");break}},l=qt(null),c=qt(!1),h=qt(null),d=de(()=>o.images[o.index]);document.addEventListener("keyup",i);function m(){c.value=!1,h.value="Image was not found or format is not supported"}function g(){c.value=!1}return en(()=>{l.value.addEventListener("load",g),l.value.addEventListener("error",m),document.body.classList.add("overflow-hidden")}),Zr(()=>{document.removeEventListener("keyup",i),document.body.classList.remove("overflow-hidden")}),Ke(()=>o.index,()=>{h.value=null,c.value=!0}),(y,w)=>{const M=dt("VSpinner");return Z(),et("div",TL,[it("div",{class:"min-w-96 dark:bg-slate-900 rounded-lg shadow-sm mb-24",onClick:w[3]||(w[3]=ps(()=>{},["stop"]))},[it("div",OL,[c.value?(Z(),At(M,{key:0})):Ht("",!0),h.value?(Z(),et("div",{key:1,class:"flex flex-col justify-center",textContent:te(h.value)},null,8,RL)):Ht("",!0),vo(it("img",{ref_key:"imageElement",ref:l,class:"mx-auto cursor-zoom-out w-auto max-w-full max-h-full h-auto my-auto",alt:d.value.depictions.map(I=>I.label).join(";"),src:d.value.original,onClick:w[0]||(w[0]=I=>n("close"))},null,8,AL),[[Ts,!h.value]]),t.next?(Z(),At(_L,{key:2,class:"right-0 absolute my-auto top-1/2 -translate-y-1/2",onClick:w[1]||(w[1]=I=>n("next"))})):Ht("",!0),t.previous?(Z(),At(wL,{key:3,class:"left-0 absolute my-auto top-1/2 -translate-y-1/2",onClick:w[2]||(w[2]=I=>n("previous"))})):Ht("",!0)])]),it("div",BL,[it("div",IL,[rt(cL,{class:"my-auto",depictions:d.value.depictions},null,8,["depictions"]),rt(lL,{class:"my-auto",attribution:d.value.attribution},null,8,["attribution"]),rt(hL,{class:"my-auto",source:d.value.source},null,8,["source"])]),it("div",DL,[rt(Tp,{class:"pb-2",current:t.index,images:t.images,onSelectIndex:w[4]||(w[4]=I=>n("selectIndex",I)),onClick:w[5]||(w[5]=ps(()=>{},["stop"]))},null,8,["current","images"])])]),rt(ML,{class:"w-full absolute top-0 h-12 left-0 items-center"},{right:mt(()=>[rt(EL,{onClick:w[6]||(w[6]=I=>n("close"))})]),default:mt(()=>[rt(dL,{"current-image":t.index,"total-images":t.images.length},null,8,["current-image","total-images"])]),_:1})])}}},jL="!container mx-auto p-4 sm:px-0 prose dark:prose-invert box-border",NL={__name:"MarkdownLayout.global",props:{tag:{type:String,default:"div"},frontmatter:{type:Object,required:!0}},setup(t){const n=t,o={fullwidth:"p-4 sm:px-0 prose dark:prose-invert max-w-none"},i=de(()=>o[n.frontmatter.layout]||jL);return(l,c)=>(Z(),At(Ps(t.tag),{class:tn(i.value)},{default:mt(()=>[Ee(l.$slots,"default")]),_:3},8,["class"]))}},FL={class:"w-full p-4 md:p-4 flex flex-row box-border justify-between items-center"},HL=it("span",null,null,-1),VL={class:"bg-base-foreground overflow-x-auto h-full md:h-auto max-h-full"},$L={__name:"VModal.global",emits:["close"],setup(t,{emit:n}){const o=i=>{i.key==="Escape"&&(i.stopPropagation(),n("close"))};return en(()=>{document.addEventListener("keydown",o),document.body.classList.add("overflow-hidden")}),Zr(()=>{document.removeEventListener("keydown",o),document.body.classList.remove("overflow-hidden")}),(i,l)=>{const c=dt("IconClose");return Z(),et("div",{class:"fixed top-0 left-0 w-full h-screen max-h-screen flex flex-col justify-center bg-black bg-opacity-50 z-[2000]",onClick:l[2]||(l[2]=h=>n("close")),onKey:l[3]||(l[3]=ps(h=>n("close"),["stop"]))},[it("div",{class:"h-full md:h-auto mx-auto md:max-h-[70vh] bg-base-foreground container",onClick:l[1]||(l[1]=ps(()=>{},["stop"]))},[it("div",FL,[Ee(i.$slots,"header",{},()=>[HL]),rt(c,{class:"w-6 h-6 cursor-pointer opacity-50",onClick:l[0]||(l[0]=()=>n("close"))})]),it("div",VL,[Ee(i.$slots,"default")]),it("div",null,[Ee(i.$slots,"footer")])])],32)}}},UL={__name:"ProjectStats.global",props:{data:{type:Array,default:()=>[]},tag:{type:String,default:"span"}},setup(t){const n=t,o=qt({data:[]}),i=de(()=>n.data.map(h=>h.toLowerCase())),l=de(()=>{const h=o.value.data;return h.length?c(h):i.value.map(d=>[d,"??"])});function c(h){const d=n.data.length?h.filter(([m])=>i.value.includes(m)):h;return d.sort(([m],[g])=>i.value.indexOf(m)-i.value.indexOf(g)),d}return en(()=>{Je.get("/stats").then(h=>{const d=Object.entries(h.data.data).map(([m,g])=>[m.toLowerCase(),g.toLocaleString()]);o.value.data=d})}),(h,d)=>(Z(),At(Ps(t.tag),null,{default:mt(()=>[(Z(!0),et(Gt,null,ve(l.value,([m,g],y)=>Ee(h.$slots,"default",{type:m,value:g},()=>[it("span",null,te(m)+": "+te(g)+te(y<l.value.length-1?"; ":""),1)])),256))]),_:3}))}},GL={key:1},ZL={__name:"ClientOnly.global",setup(t){const n=qt(!1);return en(()=>{n.value=!0}),(o,i)=>n.value?Ee(o.$slots,"default",{key:0}):(Z(),et("div",GL))}},qL={class:"inline-flex items-center text-sm"},KL={__name:"TabItem.global",props:{to:{type:[String,Object],required:!0}},setup(t){return(n,o)=>{const i=dt("router-link");return Z(),et("li",qL,[rt(i,{class:"p-2 pb-2 block py-2 pr-4 pl-3 text-gray-700 border-b-2 border-transparent","active-class":"border-b-2 border-blue-500 text-primary-500",to:t.to},{default:mt(()=>[Ee(n.$slots,"default")]),_:3},8,["to"])])}}},WL={},JL={class:"inline-flex items-center space-x-1 md:space-x-3"};function YL(t,n){return Z(),et("ul",JL,[Ee(t.$slots,"default")])}const XL=ie(WL,[["render",YL]]),QL={},tM={class:"relative sm:rounded-lg"},eM={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"};function nM(t,n){return Z(),et("div",tM,[it("table",eM,[Ee(t.$slots,"default")])])}const rM=ie(QL,[["render",nM]]),iM={},oM={class:"normal-case text-xs"};function sM(t,n){return Z(),et("tbody",oM,[Ee(t.$slots,"default")])}const aM=ie(iM,[["render",sM]]),lM={},cM={class:"px-4 py-4"};function uM(t,n){return Z(),et("td",cM,[Ee(t.$slots,"default")])}const hM=ie(lM,[["render",uM]]),pM={},dM={class:"bg-base-foreground border-b border-base-border"};function fM(t,n){return Z(),et("tr",dM,[Ee(t.$slots,"default")])}const mM=ie(pM,[["render",fM]]),gM={},_M={class:"text-xs text-base-content uppercase bg-base-background"};function yM(t,n){return Z(),et("thead",_M,[Ee(t.$slots,"default")])}const vM=ie(gM,[["render",yM]]),bM={},wM={class:"px-4 py-3"};function xM(t,n){return Z(),et("th",wM,[Ee(t.$slots,"default")])}const kM=ie(bM,[["render",xM]]),LM={};function MM(t,n){return Z(),et("tr",null,[Ee(t.$slots,"default")])}const CM=ie(LM,[["render",MM]]),PM={key:1},SM=it("h1",{class:"font-medium text-base px-1"},"Report a problem",-1),EM={class:"font-normal p-5 pt-0 text-base"},TM=it("span",null,"My issue is with:",-1),OM={class:"mx-5 my-2"},RM=["href"],AM={key:0,class:"text-sm"},BM="https://github.com/SpeciesFileGroup/taxonpages/issues/new/choose",IM={__name:"TrackerReport.global",props:{buttonClass:{type:String,default:"pl-0 pr-0 pt-0 pb-0"},label:{type:String,default:void 0},icon:{type:Boolean,default:!1}},setup(t){const{issue_trackers:n}={base_url:"/plecoptera/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://sfg.taxonworks.org/api/v1",project_token:"7JgzFyTsllL_1WuwvcQ_Zw",copyright_image:"https://licensebuttons.net/l/by/4.0/80x15.png",copyright_image_link:"http://creativecommons.org/licenses/by/4.0/",copyright_text:"Unless otherwise noted (e.g. image licenses may vary) all content is licensed under a Creative Commons Attribution 4.0 International License. (CC-BY)",header_logo_url:"https://sfg.taxonworks.org/s/78q89i",header_logo_text:"Plecoptera Species File",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Perla",link:"/perla"}],map_tiles:[{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],metadata:[{name:"description",content:"The Plecoptera Species File is a taxonomic, nomenclatural, and bibliographic database of the stoneflies of the world, including all extant and fossil taxa."},{name:"keywords",content:"taxonomy, species, Species File Group, Plecoptera, stoneflies, taxonpages, Plecoptera Species File"},{name:"robots",content:"follow"}],project_name:"Plecoptera Species File",project_citation:"Plecoptera Species File",project_authors:"DeWalt RE, Maehr MD, Hopkins H, Neu-Becker U, and Stueber G.",project_url:"https://plecoptera.speciesfile.org",project_old_url:"https://plecoptera.archive.speciesfile.org",focal_taxon:"Plecoptera",focal_taxon_common_name:"stoneflies",contact_email:"dewalt@illinois.edu",issue_trackers:[{label:"Data",description:"E.g. missing data that I'd like to add, misspellings, or invalid data",url:"https://github.com/sfg-taxonpages/plecoptera/issues"},{label:"Website",description:"E.g. a link, panel, or other feature is not working as expected",url:"https://github.com/SpeciesFileGroup/taxonpages/issues"}]},o=qt(!1);function i(){n?o.value=!0:window.open(BM,"_self")}return(l,c)=>{const h=dt("IconGithub"),d=dt("VButton"),m=dt("VModal");return Z(),et(Gt,null,[rt(d,{type:"button",title:"Report a problem",class:tn(["flex gap-2 items-center",t.buttonClass]),onClick:i},{default:mt(()=>[t.icon?(Z(),At(h,{key:0,class:"w-5 h-5"})):Ht("",!0),t.label?(Z(),et("span",PM,te(t.label),1)):Ht("",!0)]),_:1},8,["class"]),o.value?(Z(),At(m,{key:0,class:"text-base-content",onClose:c[0]||(c[0]=g=>o.value=!1)},{header:mt(()=>[SM]),default:mt(()=>[it("div",EM,[TM,it("ul",OM,[(Z(!0),et(Gt,null,ve(Yt(n),g=>(Z(),et("li",null,[it("a",{href:g.url},te(g.label),9,RM),g.description?(Z(),et("span",AM," - "+te(g.description),1)):Ht("",!0)]))),256))])])]),_:1})):Ht("",!0)],64)}}},DM={__name:"VSkeleton.global",props:{class:{type:String,default:"w-full"},lines:{type:Number,default:1}},setup(t){const n=zf(),o=de(()=>{var c;const l=(c=n.default)==null?void 0:c.call(n);return i(l)});function i(l){if(!l)return!0;const[c]=l;let h=c.children;return c.el!==null||h!==null}return(l,c)=>(Z(),et(Gt,null,[Ee(l.$slots,"default"),o.value?(Z(),et("span",{key:0,class:tn(t.class)},[(Z(!0),et(Gt,null,ve(t.lines,h=>(Z(),et("span",{key:h,class:"inline-block w-full rounded-sm bg-base-muted leading-5 animate-pulse"},"  "))),128))],2)):Ht("",!0)],64))}};const kl=t=>(sh("data-v-b688ef4b"),t=t(),ah(),t),zM=kl(()=>it("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"},null,-1)),jM=kl(()=>it("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"},null,-1)),NM=[zM,jM],FM=kl(()=>it("span",{class:"sr-only"},"Loading...",-1)),HM=["innerHTML"],VM={__name:"VSpinner.global",props:{target:{type:String,default:void 0},fullScreen:{type:Boolean,default:!1},legend:{type:String,default:"Loading, please wait."},resize:{type:Boolean,default:!0},legendStyle:{type:Object,default:()=>({})},legendClass:{type:String,default:"mt-5"},showLegend:{type:Boolean,default:!0},showSpinner:{type:Boolean,default:!0},spinnerPosition:{type:String,default:"top"},logoSize:{type:Object,default:()=>({})},logoClass:{type:String,default:"w-12 h-12"}},setup(t){const n=t,o={position:"fixed",width:"100vw",height:"100vh",top:"0px",left:"0px"},i=qt(null),l=qt({}),c=qt(void 0);en(()=>{h(),n.resize&&!n.fullScreen&&m()}),Zr(()=>clearInterval(c.value));const h=()=>{const g=n.target?document.querySelector(n.target):i.value.parentNode;Object.assign(l.value,n.fullScreen?o:d(g))},d=g=>{const y=g.getBoundingClientRect(),w=window.getComputedStyle(g,null),M=parseInt(w.getPropertyValue("padding-left"),10),I=parseInt(w.getPropertyValue("padding-right"),10),O=parseInt(w.getPropertyValue("padding-top"),10),S=parseInt(w.getPropertyValue("padding-bottom"),10);return{position:"absolute",width:y.width-M-I+"px",height:y.height-O-S+"px"}},m=()=>{c.value=setInterval(h(),500)};return(g,y)=>(Z(),et("div",{ref_key:"spinnerElement",ref:i,class:"box-spinner mx-spinner absolute bg-base-foreground opacity-90 h-full flex items-center",style:$r(l.value)},[it("div",{class:tn(["tw-spinner",[`tw-spinner-${t.spinnerPosition}`]])},[t.showSpinner?(Z(),et("svg",{key:0,style:$r(t.logoSize),"aria-hidden":"true",class:tn(["text-base-lighter animate-spin fill-primary-color",t.logoClass]),viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},NM,6)):Ht("",!0),FM,t.legend.length?(Z(),et("div",{key:1,class:tn(["text-base-content text-center",t.legendClass]),style:$r(t.legendStyle)},[t.showLegend?(Z(),et("span",{key:0,innerHTML:t.legend},null,8,HM)):Ht("",!0),Ee(g.$slots,"default",{},void 0,!0)],6)):Ht("",!0)],2)],4))}},$M=ie(VM,[["__scopeId","data-v-b688ef4b"]]);function UM(t){GM(t,Object.assign({"/src/components/AddressMaker.global.vue":Mx,"/src/components/Animation/AnimationOpacity.global.vue":Sx,"/src/components/Autocomplete/Autocomplete.global.vue":Ep,"/src/components/Autocomplete/AutocompleteOtu.global.vue":$x,"/src/components/Button/ButtonExpand.global.vue":Gx,"/src/components/Button/VButton.global.vue":Zx,"/src/components/Card/VCard.global.vue":Jx,"/src/components/Card/VCardContent.global.vue":t1,"/src/components/Card/VCardHeader.global.vue":i1,"/src/components/Clipboard/VClipboard.global.vue":o1,"/src/components/Dropdown/Dropdown.global.vue":l1,"/src/components/Gallery/GalleryImage.global.vue":v1,"/src/components/Icon/IconArrowDown.global.vue":M1,"/src/components/Icon/IconArrowLeft.global.vue":O1,"/src/components/Icon/IconArrowRight.global.vue":z1,"/src/components/Icon/IconCheck.global.vue":$1,"/src/components/Icon/IconClipboard.global.vue":W1,"/src/components/Icon/IconClose.global.vue":ek,"/src/components/Icon/IconDocument.global.vue":ak,"/src/components/Icon/IconDownload.global.vue":dk,"/src/components/Icon/IconGithub.global.vue":vk,"/src/components/Icon/IconHamburger.global.vue":Mk,"/src/components/Icon/IconJson.global.vue":Ok,"/src/components/Icon/IconMinusCircle.global.vue":zk,"/src/components/Icon/IconPlusCircle.global.vue":$k,"/src/components/Icon/IconSearch.global.vue":Wk,"/src/components/Icon/IconTrash.global.vue":eL,"/src/components/Icon/IconWarning.global.vue":aL,"/src/components/ImageViewer/ImageViewer.global.vue":zL,"/src/components/Markdown/MarkdownLayout.global.vue":NL,"/src/components/Modal/VModal.global.vue":$L,"/src/components/ProjectStats.global.vue":UL,"/src/components/Ssr/ClientOnly.global.vue":ZL,"/src/components/Tab/TabItem.global.vue":KL,"/src/components/Tab/TabMenu.global.vue":XL,"/src/components/Table/VTable.global.vue":rM,"/src/components/Table/VTableBody.global.vue":aM,"/src/components/Table/VTableBodyCell.global.vue":hM,"/src/components/Table/VTableBodyRow.global.vue":mM,"/src/components/Table/VTableHeader.global.vue":vM,"/src/components/Table/VTableHeaderCell.global.vue":kM,"/src/components/Table/VTableHeaderRow.global.vue":CM,"/src/components/TrackerReport.global.vue":IM,"/src/components/VSkeleton.global.vue":DM,"/src/components/VSpinner.global.vue":$M}))}function GM(t,n){Object.entries(n).forEach(([i,l])=>{const c=i.split("/").pop().replace(/\.client.global.\w+$/,"").replace(/\.global.\w+$/,"");t.component(c,l)})}const ZM=window.location.origin,Eu=window.initialState,{app:Ll,router:qM,store:KM}=Kw({originUrl:ZM});Eu&&(KM.state.value=Eu);mx(Ll);UM(Ll);qM.isReady().then(()=>{Ll.mount("#app")});export{it as a,rt as b,At as c,fh as d,oe as e,Z as o,dt as r,te as t,mt as w};
